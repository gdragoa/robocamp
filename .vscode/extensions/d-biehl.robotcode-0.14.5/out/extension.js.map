{"version":3,"file":"extension.js","mappings":"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","sources":[".././node_modules/ansi-colors/index.js",".././node_modules/ansi-colors/symbols.js",".././node_modules/balanced-match/index.js",".././node_modules/lru-cache/index.js",".././node_modules/semver/classes/comparator.js",".././node_modules/semver/classes/range.js",".././node_modules/semver/classes/semver.js",".././node_modules/semver/functions/cmp.js",".././node_modules/semver/functions/compare.js",".././node_modules/semver/functions/eq.js",".././node_modules/semver/functions/gt.js",".././node_modules/semver/functions/gte.js",".././node_modules/semver/functions/lt.js",".././node_modules/semver/functions/lte.js",".././node_modules/semver/functions/neq.js",".././node_modules/semver/functions/parse.js",".././node_modules/semver/functions/satisfies.js",".././node_modules/semver/internal/constants.js",".././node_modules/semver/internal/debug.js",".././node_modules/semver/internal/identifiers.js",".././node_modules/semver/internal/parse-options.js",".././node_modules/semver/internal/re.js",".././vscode-client/config.ts",".././vscode-client/debugmanager.ts",".././vscode-client/languageclientsmanger.ts",".././vscode-client/net_utils.ts",".././vscode-client/pythonmanger.ts",".././vscode-client/testcontrollermanager.ts",".././vscode-client/utils.ts",".././node_modules/vscode-jsonrpc/lib/common/api.js",".././node_modules/vscode-jsonrpc/lib/common/cancellation.js",".././node_modules/vscode-jsonrpc/lib/common/connection.js",".././node_modules/vscode-jsonrpc/lib/common/disposable.js",".././node_modules/vscode-jsonrpc/lib/common/events.js",".././node_modules/vscode-jsonrpc/lib/common/is.js",".././node_modules/vscode-jsonrpc/lib/common/linkedMap.js",".././node_modules/vscode-jsonrpc/lib/common/messageBuffer.js",".././node_modules/vscode-jsonrpc/lib/common/messageReader.js",".././node_modules/vscode-jsonrpc/lib/common/messageWriter.js",".././node_modules/vscode-jsonrpc/lib/common/messages.js",".././node_modules/vscode-jsonrpc/lib/common/ral.js",".././node_modules/vscode-jsonrpc/lib/common/semaphore.js",".././node_modules/vscode-jsonrpc/lib/node/main.js",".././node_modules/vscode-jsonrpc/lib/node/ril.js",".././node_modules/vscode-jsonrpc/node.js",".././node_modules/vscode-languageclient/lib/common/api.js",".././node_modules/vscode-languageclient/lib/common/callHierarchy.js",".././node_modules/vscode-languageclient/lib/common/client.js",".././node_modules/vscode-languageclient/lib/common/codeAction.js",".././node_modules/vscode-languageclient/lib/common/codeConverter.js",".././node_modules/vscode-languageclient/lib/common/codeLens.js",".././node_modules/vscode-languageclient/lib/common/colorProvider.js",".././node_modules/vscode-languageclient/lib/common/completion.js",".././node_modules/vscode-languageclient/lib/common/configuration.js",".././node_modules/vscode-languageclient/lib/common/declaration.js",".././node_modules/vscode-languageclient/lib/common/definition.js",".././node_modules/vscode-languageclient/lib/common/diagnostic.js",".././node_modules/vscode-languageclient/lib/common/documentHighlight.js",".././node_modules/vscode-languageclient/lib/common/documentLink.js",".././node_modules/vscode-languageclient/lib/common/documentSymbol.js",".././node_modules/vscode-languageclient/lib/common/executeCommand.js",".././node_modules/vscode-languageclient/lib/common/features.js",".././node_modules/vscode-languageclient/lib/common/fileOperations.js",".././node_modules/vscode-languageclient/lib/common/fileSystemWatcher.js",".././node_modules/vscode-languageclient/lib/common/foldingRange.js",".././node_modules/vscode-languageclient/lib/common/formatting.js",".././node_modules/vscode-languageclient/lib/common/hover.js",".././node_modules/vscode-languageclient/lib/common/implementation.js",".././node_modules/vscode-languageclient/lib/common/inlayHint.js",".././node_modules/vscode-languageclient/lib/common/inlineValue.js",".././node_modules/vscode-languageclient/lib/common/linkedEditingRange.js",".././node_modules/vscode-languageclient/lib/common/notebook.js",".././node_modules/vscode-languageclient/lib/common/progress.js",".././node_modules/vscode-languageclient/lib/common/progressPart.js",".././node_modules/vscode-languageclient/lib/common/protocolCallHierarchyItem.js",".././node_modules/vscode-languageclient/lib/common/protocolCodeAction.js",".././node_modules/vscode-languageclient/lib/common/protocolCodeLens.js",".././node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js",".././node_modules/vscode-languageclient/lib/common/protocolConverter.js",".././node_modules/vscode-languageclient/lib/common/protocolDiagnostic.js",".././node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js",".././node_modules/vscode-languageclient/lib/common/protocolInlayHint.js",".././node_modules/vscode-languageclient/lib/common/protocolTypeHierarchyItem.js",".././node_modules/vscode-languageclient/lib/common/protocolWorkspaceSymbol.js",".././node_modules/vscode-languageclient/lib/common/reference.js",".././node_modules/vscode-languageclient/lib/common/rename.js",".././node_modules/vscode-languageclient/lib/common/selectionRange.js",".././node_modules/vscode-languageclient/lib/common/semanticTokens.js",".././node_modules/vscode-languageclient/lib/common/signatureHelp.js",".././node_modules/vscode-languageclient/lib/common/textSynchronization.js",".././node_modules/vscode-languageclient/lib/common/typeDefinition.js",".././node_modules/vscode-languageclient/lib/common/typeHierarchy.js",".././node_modules/vscode-languageclient/lib/common/utils/async.js",".././node_modules/vscode-languageclient/lib/common/utils/is.js",".././node_modules/vscode-languageclient/lib/common/utils/uuid.js",".././node_modules/vscode-languageclient/lib/common/workspaceFolder.js",".././node_modules/vscode-languageclient/lib/common/workspaceSymbol.js",".././node_modules/vscode-languageclient/lib/node/main.js",".././node_modules/vscode-languageclient/lib/node/processes.js",".././node_modules/vscode-languageclient/node.js",".././node_modules/vscode-languageclient/node_modules/brace-expansion/index.js",".././node_modules/vscode-languageclient/node_modules/minimatch/lib/path.js",".././node_modules/vscode-languageclient/node_modules/minimatch/minimatch.js",".././node_modules/vscode-languageserver-protocol/lib/common/api.js",".././node_modules/vscode-languageserver-protocol/lib/common/connection.js",".././node_modules/vscode-languageserver-protocol/lib/common/messages.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js",".././node_modules/vscode-languageserver-protocol/lib/common/utils/is.js",".././node_modules/vscode-languageserver-protocol/lib/node/main.js",".././node_modules/vscode-languageserver-protocol/node.js",".././node_modules/vscode-languageserver-types/lib/esm/main.js",".././node_modules/yallist/iterator.js",".././node_modules/yallist/yallist.js","../external commonjs \"vscode\"","../external node-commonjs \"child_process\"","../external node-commonjs \"crypto\"","../external node-commonjs \"fs\"","../external node-commonjs \"net\"","../external node-commonjs \"os\"","../external node-commonjs \"path\"","../external node-commonjs \"util\"","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object",".././vscode-client/extension.ts"],"sourcesContent":["'use strict';\n\nconst isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\n\n/* eslint-disable no-control-regex */\n// this is a modified version of https://github.com/chalk/ansi-regex (MIT License)\nconst ANSI_REGEX = /[\\u001b\\u009b][[\\]#;?()]*(?:(?:(?:[^\\W_]*;?[^\\W_]*)\\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g;\n\nconst hasColor = () => {\n  if (typeof process !== 'undefined') {\n    return process.env.FORCE_COLOR !== '0';\n  }\n  return false;\n};\n\nconst create = () => {\n  const colors = {\n    enabled: hasColor(),\n    visible: true,\n    styles: {},\n    keys: {}\n  };\n\n  const ansi = style => {\n    let open = style.open = `\\u001b[${style.codes[0]}m`;\n    let close = style.close = `\\u001b[${style.codes[1]}m`;\n    let regex = style.regex = new RegExp(`\\\\u001b\\\\[${style.codes[1]}m`, 'g');\n    style.wrap = (input, newline) => {\n      if (input.includes(close)) input = input.replace(regex, close + open);\n      let output = open + input + close;\n      // see https://github.com/chalk/chalk/pull/92, thanks to the\n      // chalk contributors for this fix. However, we've confirmed that\n      // this issue is also present in Windows terminals\n      return newline ? output.replace(/\\r*\\n/g, `${close}$&${open}`) : output;\n    };\n    return style;\n  };\n\n  const wrap = (style, input, newline) => {\n    return typeof style === 'function' ? style(input) : style.wrap(input, newline);\n  };\n\n  const style = (input, stack) => {\n    if (input === '' || input == null) return '';\n    if (colors.enabled === false) return input;\n    if (colors.visible === false) return '';\n    let str = '' + input;\n    let nl = str.includes('\\n');\n    let n = stack.length;\n    if (n > 0 && stack.includes('unstyle')) {\n      stack = [...new Set(['unstyle', ...stack])].reverse();\n    }\n    while (n-- > 0) str = wrap(colors.styles[stack[n]], str, nl);\n    return str;\n  };\n\n  const define = (name, codes, type) => {\n    colors.styles[name] = ansi({ name, codes });\n    let keys = colors.keys[type] || (colors.keys[type] = []);\n    keys.push(name);\n\n    Reflect.defineProperty(colors, name, {\n      configurable: true,\n      enumerable: true,\n      set(value) {\n        colors.alias(name, value);\n      },\n      get() {\n        let color = input => style(input, color.stack);\n        Reflect.setPrototypeOf(color, colors);\n        color.stack = this.stack ? this.stack.concat(name) : [name];\n        return color;\n      }\n    });\n  };\n\n  define('reset', [0, 0], 'modifier');\n  define('bold', [1, 22], 'modifier');\n  define('dim', [2, 22], 'modifier');\n  define('italic', [3, 23], 'modifier');\n  define('underline', [4, 24], 'modifier');\n  define('inverse', [7, 27], 'modifier');\n  define('hidden', [8, 28], 'modifier');\n  define('strikethrough', [9, 29], 'modifier');\n\n  define('black', [30, 39], 'color');\n  define('red', [31, 39], 'color');\n  define('green', [32, 39], 'color');\n  define('yellow', [33, 39], 'color');\n  define('blue', [34, 39], 'color');\n  define('magenta', [35, 39], 'color');\n  define('cyan', [36, 39], 'color');\n  define('white', [37, 39], 'color');\n  define('gray', [90, 39], 'color');\n  define('grey', [90, 39], 'color');\n\n  define('bgBlack', [40, 49], 'bg');\n  define('bgRed', [41, 49], 'bg');\n  define('bgGreen', [42, 49], 'bg');\n  define('bgYellow', [43, 49], 'bg');\n  define('bgBlue', [44, 49], 'bg');\n  define('bgMagenta', [45, 49], 'bg');\n  define('bgCyan', [46, 49], 'bg');\n  define('bgWhite', [47, 49], 'bg');\n\n  define('blackBright', [90, 39], 'bright');\n  define('redBright', [91, 39], 'bright');\n  define('greenBright', [92, 39], 'bright');\n  define('yellowBright', [93, 39], 'bright');\n  define('blueBright', [94, 39], 'bright');\n  define('magentaBright', [95, 39], 'bright');\n  define('cyanBright', [96, 39], 'bright');\n  define('whiteBright', [97, 39], 'bright');\n\n  define('bgBlackBright', [100, 49], 'bgBright');\n  define('bgRedBright', [101, 49], 'bgBright');\n  define('bgGreenBright', [102, 49], 'bgBright');\n  define('bgYellowBright', [103, 49], 'bgBright');\n  define('bgBlueBright', [104, 49], 'bgBright');\n  define('bgMagentaBright', [105, 49], 'bgBright');\n  define('bgCyanBright', [106, 49], 'bgBright');\n  define('bgWhiteBright', [107, 49], 'bgBright');\n\n  colors.ansiRegex = ANSI_REGEX;\n  colors.hasColor = colors.hasAnsi = str => {\n    colors.ansiRegex.lastIndex = 0;\n    return typeof str === 'string' && str !== '' && colors.ansiRegex.test(str);\n  };\n\n  colors.alias = (name, color) => {\n    let fn = typeof color === 'string' ? colors[color] : color;\n\n    if (typeof fn !== 'function') {\n      throw new TypeError('Expected alias to be the name of an existing color (string) or a function');\n    }\n\n    if (!fn.stack) {\n      Reflect.defineProperty(fn, 'name', { value: name });\n      colors.styles[name] = fn;\n      fn.stack = [name];\n    }\n\n    Reflect.defineProperty(colors, name, {\n      configurable: true,\n      enumerable: true,\n      set(value) {\n        colors.alias(name, value);\n      },\n      get() {\n        let color = input => style(input, color.stack);\n        Reflect.setPrototypeOf(color, colors);\n        color.stack = this.stack ? this.stack.concat(fn.stack) : fn.stack;\n        return color;\n      }\n    });\n  };\n\n  colors.theme = custom => {\n    if (!isObject(custom)) throw new TypeError('Expected theme to be an object');\n    for (let name of Object.keys(custom)) {\n      colors.alias(name, custom[name]);\n    }\n    return colors;\n  };\n\n  colors.alias('unstyle', str => {\n    if (typeof str === 'string' && str !== '') {\n      colors.ansiRegex.lastIndex = 0;\n      return str.replace(colors.ansiRegex, '');\n    }\n    return '';\n  });\n\n  colors.alias('noop', str => str);\n  colors.none = colors.clear = colors.noop;\n\n  colors.stripColor = colors.unstyle;\n  colors.symbols = require('./symbols');\n  colors.define = define;\n  return colors;\n};\n\nmodule.exports = create();\nmodule.exports.create = create;\n","'use strict';\n\nconst isHyper = typeof process !== 'undefined' && process.env.TERM_PROGRAM === 'Hyper';\nconst isWindows = typeof process !== 'undefined' && process.platform === 'win32';\nconst isLinux = typeof process !== 'undefined' && process.platform === 'linux';\n\nconst common = {\n  ballotDisabled: '☒',\n  ballotOff: '☐',\n  ballotOn: '☑',\n  bullet: '•',\n  bulletWhite: '◦',\n  fullBlock: '█',\n  heart: '❤',\n  identicalTo: '≡',\n  line: '─',\n  mark: '※',\n  middot: '·',\n  minus: '－',\n  multiplication: '×',\n  obelus: '÷',\n  pencilDownRight: '✎',\n  pencilRight: '✏',\n  pencilUpRight: '✐',\n  percent: '%',\n  pilcrow2: '❡',\n  pilcrow: '¶',\n  plusMinus: '±',\n  question: '?',\n  section: '§',\n  starsOff: '☆',\n  starsOn: '★',\n  upDownArrow: '↕'\n};\n\nconst windows = Object.assign({}, common, {\n  check: '√',\n  cross: '×',\n  ellipsisLarge: '...',\n  ellipsis: '...',\n  info: 'i',\n  questionSmall: '?',\n  pointer: '>',\n  pointerSmall: '»',\n  radioOff: '( )',\n  radioOn: '(*)',\n  warning: '‼'\n});\n\nconst other = Object.assign({}, common, {\n  ballotCross: '✘',\n  check: '✔',\n  cross: '✖',\n  ellipsisLarge: '⋯',\n  ellipsis: '…',\n  info: 'ℹ',\n  questionFull: '？',\n  questionSmall: '﹖',\n  pointer: isLinux ? '▸' : '❯',\n  pointerSmall: isLinux ? '‣' : '›',\n  radioOff: '◯',\n  radioOn: '◉',\n  warning: '⚠'\n});\n\nmodule.exports = (isWindows && !isHyper) ? windows : other;\nReflect.defineProperty(module.exports, 'common', { enumerable: false, value: common });\nReflect.defineProperty(module.exports, 'windows', { enumerable: false, value: windows });\nReflect.defineProperty(module.exports, 'other', { enumerable: false, value: other });\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false,\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((c) => {\n    return replaceTilde(c, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((c) => {\n    return replaceCaret(c, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((c) => {\n    return replaceXRange(c, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const { MAX_LENGTH } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((o, k) => {\n    o[k] = true\n    return o\n  }, {})\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","export const CONFIG_SECTION = \"robotcode\";\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-argument */\nimport * as path from \"path\";\nimport * as vscode from \"vscode\";\nimport { PythonManager } from \"./pythonmanger\";\nimport { CONFIG_SECTION } from \"./config\";\nimport { LanguageClientsManager, toVsCodeRange } from \"./languageclientsmanger\";\nimport { WeakValueSet } from \"./utils\";\n\nconst DEBUG_ADAPTER_DEFAULT_TCP_PORT = 6611;\nconst DEBUG_ADAPTER_DEFAULT_HOST = \"127.0.0.1\";\n\nconst DEBUG_CONFIGURATIONS = [\n  {\n    label: \"RobotCode: Run Current\",\n    description: \"Run the current RobotFramework file.\",\n    body: {\n      name: \"RobotCode: Run Current\",\n      type: \"robotcode\",\n      request: \"launch\",\n      cwd: \"${workspaceFolder}\",\n      target: \"${file}\",\n    },\n  },\n  {\n    label: \"RobotCode: Run All\",\n    description: \"Run all RobotFramework files.\",\n    body: {\n      name: \"RobotCode: Run All\",\n      type: \"robotcode\",\n      request: \"launch\",\n      cwd: \"${workspaceFolder}\",\n      target: \".\",\n    },\n  },\n];\n\nclass RobotCodeDebugConfigurationProvider implements vscode.DebugConfigurationProvider {\n  constructor(private readonly pythonManager: PythonManager) {}\n\n  resolveDebugConfiguration(\n    folder: vscode.WorkspaceFolder | undefined,\n    debugConfiguration: vscode.DebugConfiguration,\n    token?: vscode.CancellationToken\n  ): vscode.ProviderResult<vscode.DebugConfiguration> {\n    return this._resolveDebugConfiguration(folder, debugConfiguration, token);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async _resolveDebugConfiguration(\n    folder: vscode.WorkspaceFolder | undefined,\n    debugConfiguration: vscode.DebugConfiguration,\n    token?: vscode.CancellationToken\n  ): Promise<vscode.DebugConfiguration> {\n    if (!debugConfiguration.type && !debugConfiguration.request && !debugConfiguration.name) {\n      const editor = vscode.window.activeTextEditor;\n      if (editor && editor.document.languageId === \"robotframework\" && editor.document.fileName.endsWith(\".robot\")) {\n        const result = await vscode.window.showQuickPick(\n          DEBUG_CONFIGURATIONS.map((v) => v),\n          { canPickMany: false },\n          token\n        );\n\n        if (result !== undefined) {\n          debugConfiguration = {\n            ...result?.body,\n            ...debugConfiguration,\n          };\n        }\n      }\n    }\n\n    if (debugConfiguration.request === \"launch\") {\n      const config = vscode.workspace.getConfiguration(CONFIG_SECTION, folder);\n\n      const template = config.get(\"debug.defaultConfiguration\", {});\n\n      const defaultLaunchConfig =\n        vscode.workspace\n          .getConfiguration(\"launch\", folder)\n          ?.get<{ [Key: string]: unknown }[]>(\"configurations\")\n          ?.find(\n            (v) =>\n              v?.type === \"robotcode\" &&\n              (v?.purpose === \"default\" || (Array.isArray(v?.purpose) && v?.purpose?.indexOf(\"default\") > -1))\n          ) ?? {};\n\n      debugConfiguration = { ...template, ...defaultLaunchConfig, ...debugConfiguration };\n\n      try {\n        if (path.isAbsolute(debugConfiguration.target)) {\n          debugConfiguration.target = path.relative(debugConfiguration.cwd, debugConfiguration.target).toString();\n        }\n      } catch {\n        // empty\n      }\n\n      if (!debugConfiguration.python) debugConfiguration.python = this.pythonManager.getPythonCommand(folder);\n\n      debugConfiguration.robotPythonPath = [\n        ...config.get<string[]>(\"robot.pythonPath\", []),\n        ...(Array.isArray(defaultLaunchConfig?.robotPythonPath) ? defaultLaunchConfig.robotPythonPath : []),\n        ...(debugConfiguration.robotPythonPath ?? []),\n      ];\n\n      debugConfiguration.args = [...config.get<string[]>(\"robot.args\", []), ...(debugConfiguration.args ?? [])];\n\n      debugConfiguration.variableFiles = [\n        ...config.get<string[]>(\"robot.variableFiles\", []),\n        ...(Array.isArray(defaultLaunchConfig?.variableFiles) ? defaultLaunchConfig.variableFiles : []),\n        ...(debugConfiguration.variableFiles ?? []),\n      ];\n\n      debugConfiguration.variables = {\n        ...config.get<{ [Key: string]: unknown }>(\"robot.variables\", {}),\n        ...(Array.isArray(defaultLaunchConfig?.variables) ? defaultLaunchConfig.variables : []),\n        ...(debugConfiguration.variables ?? {}),\n      };\n\n      debugConfiguration.env = {\n        ...config.get<{ [Key: string]: unknown }>(\"robot.env\", {}),\n        ...(defaultLaunchConfig?.env ?? {}),\n        ...(debugConfiguration.env ?? {}),\n      };\n\n      debugConfiguration.openOutputAfterRun =\n        debugConfiguration?.openOutputAfterRun ?? config.get<string | undefined>(\"run.openOutputAfterRun\", undefined);\n\n      debugConfiguration.outputDir =\n        debugConfiguration?.outputDir ?? config.get<string | undefined>(\"robot.outputDir\", undefined);\n\n      debugConfiguration.mode = debugConfiguration?.mode ?? config.get<string | undefined>(\"robot.mode\", undefined);\n\n      debugConfiguration.languages =\n        debugConfiguration?.languages ?? config.get<string | undefined>(\"robot.languages\", undefined);\n\n      debugConfiguration.attachPython = debugConfiguration?.attachPython ?? config.get<boolean>(\"debug.attachPython\");\n\n      debugConfiguration.outputMessages =\n        debugConfiguration?.outputMessages ?? config.get<boolean>(\"debug.outputMessages\");\n\n      debugConfiguration.outputLog = debugConfiguration?.outputLog ?? config.get<boolean>(\"debug.outputLog\");\n\n      debugConfiguration.groupOutput = debugConfiguration?.groupOutput ?? config.get<boolean>(\"debug.groupOutput\");\n\n      if (!debugConfiguration.attachPython || debugConfiguration.noDebug) {\n        debugConfiguration.attachPython = false;\n      }\n\n      if (debugConfiguration.attachPython && !config.get<boolean>(\"debug.useExternalDebugpy\")) {\n        const debugpyPath = await this.pythonManager.pythonExtension?.exports.debug.getDebuggerPackagePath();\n\n        if (debugpyPath) {\n          const env = debugConfiguration.env ?? {};\n          const envPythonPath: string = env.PYTHONPATH || \"\";\n\n          env.PYTHONPATH = [\n            path.dirname(debugpyPath),\n            ...(envPythonPath ? envPythonPath.split(path.delimiter) : []),\n          ].join(path.delimiter);\n          debugConfiguration.env = env;\n        }\n      }\n    } else if (debugConfiguration.request === \"attach\") {\n      // do nothing\n    }\n    return debugConfiguration;\n  }\n}\n\nclass RobotCodeDebugAdapterDescriptorFactory implements vscode.DebugAdapterDescriptorFactory {\n  constructor(private readonly pythonManager: PythonManager) {}\n\n  createDebugAdapterDescriptor(\n    session: vscode.DebugSession,\n    _executable: vscode.DebugAdapterExecutable | undefined\n  ): vscode.ProviderResult<vscode.DebugAdapterDescriptor> {\n    const config = vscode.workspace.getConfiguration(CONFIG_SECTION, session.workspaceFolder);\n\n    const mode = config.get<string>(\"debugAdapter.mode\");\n    if (session.configuration.request === \"launch\") {\n      switch (mode) {\n        case \"stdio\": {\n          const pythonCommand = this.pythonManager.getPythonCommand(session.workspaceFolder);\n\n          if (pythonCommand === undefined) {\n            throw new Error(\"Can't get a valid python command.\");\n          }\n\n          let debugAdapterArgs = config.get<string[]>(\"debugAdapter.args\", []);\n\n          if (session.configuration.launcherArgs) {\n            debugAdapterArgs = [...debugAdapterArgs, ...session.configuration.launcherArgs];\n          }\n          const args: string[] = [\"-u\", this.pythonManager.pythonDebugAdapterMain, \"--mode\", \"stdio\"].concat(\n            debugAdapterArgs\n          );\n\n          const options: vscode.DebugAdapterExecutableOptions = {\n            env: {},\n            cwd: session.workspaceFolder?.uri.fsPath,\n          };\n\n          return new vscode.DebugAdapterExecutable(pythonCommand, args, options);\n        }\n        case \"tcp\": {\n          const port =\n            config.get(\"debugAdapter.tcpPort\", DEBUG_ADAPTER_DEFAULT_TCP_PORT) || DEBUG_ADAPTER_DEFAULT_TCP_PORT;\n\n          const host = config.get(\"debugAdapter.host\", DEBUG_ADAPTER_DEFAULT_HOST) || DEBUG_ADAPTER_DEFAULT_HOST;\n\n          return new vscode.DebugAdapterServer(port, host);\n        }\n        default:\n          throw new Error(\"Unsupported Mode.\");\n      }\n    } else if (session.configuration.request === \"attach\") {\n      const port = session.configuration.connect?.port ?? session.configuration.port ?? 6612;\n      const host = session.configuration.connect?.host ?? session.configuration.host ?? \"127.0.0.1\";\n      const server = new vscode.DebugAdapterServer(port, host);\n      return server;\n    } else {\n      throw new Error(`Unsupported request type \"${session.configuration.request}\"`);\n    }\n  }\n}\n\nexport class DebugManager {\n  private _disposables: vscode.Disposable;\n  private _attachedSessions = new WeakValueSet<vscode.DebugSession>();\n\n  constructor(\n    public readonly extensionContext: vscode.ExtensionContext,\n    public readonly pythonManager: PythonManager,\n    public readonly languageClientsManager: LanguageClientsManager,\n    public readonly outputChannel: vscode.OutputChannel\n  ) {\n    this._disposables = vscode.Disposable.from(\n      vscode.debug.registerDebugConfigurationProvider(\n        \"robotcode\",\n        new RobotCodeDebugConfigurationProvider(this.pythonManager)\n      ),\n\n      vscode.debug.registerDebugConfigurationProvider(\n        \"robotcode\",\n        {\n          provideDebugConfigurations(\n            _folder: vscode.WorkspaceFolder | undefined,\n            _token?: vscode.CancellationToken\n          ): vscode.ProviderResult<vscode.DebugConfiguration[]> {\n            return DEBUG_CONFIGURATIONS.map((v) => v.body);\n          },\n        },\n        vscode.DebugConfigurationProviderTriggerKind.Dynamic\n      ),\n\n      vscode.debug.registerDebugAdapterDescriptorFactory(\n        \"robotcode\",\n        new RobotCodeDebugAdapterDescriptorFactory(this.pythonManager)\n      ),\n\n      vscode.debug.onDidReceiveDebugSessionCustomEvent(async (event) => {\n        if (event.session.configuration.type === \"robotcode\") {\n          switch (event.event) {\n            case \"debugpyStarted\": {\n              await DebugManager.OnDebugpyStarted(event.session, event.event, event.body);\n              break;\n            }\n            case \"disconnectRequested\":\n            case \"terminateRequested\": {\n              for (const s of this._attachedSessions) {\n                if (s.parentSession == event.session) {\n                  await vscode.debug.stopDebugging(s);\n                }\n              }\n              break;\n            }\n            case \"robotExited\": {\n              await this.OnRobotExited(event.session, event.body.outputFile, event.body.logFile, event.body.reportFile);\n              break;\n            }\n          }\n        }\n      }),\n\n      vscode.debug.onDidStartDebugSession((session) => {\n        if (session.parentSession?.type === \"robotcode\") {\n          this._attachedSessions.add(session);\n        }\n      }),\n\n      vscode.debug.onDidTerminateDebugSession(async (session) => {\n        if (this._attachedSessions.has(session)) {\n          this._attachedSessions.delete(session);\n          if (session.parentSession?.type === \"robotcode\") {\n            await vscode.debug.stopDebugging(session.parentSession);\n          }\n        }\n        if (session.configuration.type === \"robotcode\") {\n          for (const s of this._attachedSessions) {\n            if (s.parentSession == session) {\n              await vscode.debug.stopDebugging(s);\n            }\n          }\n        }\n      }),\n\n      vscode.languages.registerEvaluatableExpressionProvider(\"robotframework\", {\n        provideEvaluatableExpression(\n          document: vscode.TextDocument,\n          position: vscode.Position,\n          token: vscode.CancellationToken\n        ): vscode.ProviderResult<vscode.EvaluatableExpression> {\n          return languageClientsManager.getEvaluatableExpression(document, position, token).then(\n            (r) => {\n              if (r) return new vscode.EvaluatableExpression(toVsCodeRange(r.range), r.expression);\n              else return undefined;\n            },\n            (_) => undefined\n          );\n        },\n      })\n    );\n  }\n\n  dispose(): void {\n    this._disposables.dispose();\n  }\n\n  static async runTests(\n    folder: vscode.WorkspaceFolder,\n    suites: string[],\n    included: string[],\n    excluded: string[],\n    runId?: string,\n    options?: vscode.DebugSessionOptions,\n    dryRun?: boolean,\n    topLevelSuiteName?: string\n  ): Promise<boolean> {\n    const config = vscode.workspace.getConfiguration(CONFIG_SECTION, folder);\n\n    const args = [];\n\n    if (topLevelSuiteName) {\n      args.push(\"--name\");\n      args.push(topLevelSuiteName);\n    }\n\n    for (const s of suites) {\n      args.push(\"--suite\");\n      args.push(s);\n    }\n\n    if (included.length > 0) {\n      args.push(\"--prerunmodifier\");\n\n      const separator = included.find((s) => s.indexOf(\":\") >= 0) === undefined ? \":\" : \";\";\n\n      args.push(`robotcode.debugger.modifiers.ByLongName${separator}${included.join(separator)}`);\n    }\n\n    if (excluded.length > 0) {\n      args.push(\"--prerunmodifier\");\n\n      const separator = included.find((s) => s.indexOf(\":\") >= 0) === undefined ? \":\" : \";\";\n\n      args.push(`robotcode.debugger.modifiers.ExcludedByLongName${separator}${excluded.join(separator)}`);\n    }\n\n    const testLaunchConfig =\n      vscode.workspace\n        .getConfiguration(\"launch\", folder)\n        ?.get<{ [Key: string]: unknown }[]>(\"configurations\")\n        ?.find(\n          (v) =>\n            v?.type === \"robotcode\" &&\n            (v?.purpose === \"test\" || (Array.isArray(v?.purpose) && v?.purpose?.indexOf(\"test\") > -1))\n        ) ?? {};\n\n    const paths = config.get(\"robot.paths\", []);\n\n    return vscode.debug.startDebugging(\n      folder,\n      {\n        ...testLaunchConfig,\n        ...{\n          type: \"robotcode\",\n          name: \"RobotCode: Run Tests\",\n          request: \"launch\",\n          cwd: folder?.uri.fsPath,\n          paths: paths,\n          args: args,\n          console: config.get(\"debug.defaultConsole\", \"integratedTerminal\"),\n          runId: runId,\n          dryRun,\n        },\n      },\n      options\n    );\n  }\n\n  static async OnDebugpyStarted(\n    session: vscode.DebugSession,\n    _event: string,\n    options?: { port: number; addresses: undefined | string[] | null }\n  ): Promise<boolean> {\n    if (\n      session.type === \"robotcode\" &&\n      !session.configuration.noDebug &&\n      session.configuration.attachPython &&\n      options &&\n      options.port\n    ) {\n      let pythonConfiguration = session.configuration.pythonConfiguration ?? {};\n\n      if (typeof pythonConfiguration === \"string\" || pythonConfiguration instanceof String) {\n        pythonConfiguration =\n          vscode.workspace\n            .getConfiguration(\"launch\", session.workspaceFolder)\n            ?.get<{ [Key: string]: unknown }[]>(\"configurations\")\n            ?.find((v) => v?.type === \"python\" && v?.name === pythonConfiguration) ?? {};\n      }\n\n      const debugConfiguration = {\n        ...pythonConfiguration,\n        ...{\n          type: \"python\",\n          name: `Python ${session.name}`,\n          request: \"attach\",\n          connect: {\n            port: options.port,\n            host: options.addresses ? options.addresses[0] : undefined,\n          },\n        },\n      };\n\n      if (session.configuration?.request === \"attach\" && !debugConfiguration.pathMappings) {\n        debugConfiguration.pathMappings = session.configuration.pathMappings;\n      }\n\n      return vscode.debug.startDebugging(session.workspaceFolder, debugConfiguration, {\n        parentSession: session,\n        compact: true,\n        lifecycleManagedByParent: false,\n        consoleMode: vscode.DebugConsoleMode.MergeWithParent,\n      });\n    }\n    return false;\n  }\n\n  private async OnRobotExited(\n    session: vscode.DebugSession,\n    _outputFile?: string,\n    logFile?: string,\n    reportFile?: string\n  ): Promise<void> {\n    if (session.configuration?.openOutputAfterRun === \"report\" && reportFile) {\n      await this.languageClientsManager.openUriInDocumentationView(vscode.Uri.file(reportFile));\n    } else if (session.configuration?.openOutputAfterRun === \"log\" && logFile) {\n      await this.languageClientsManager.openUriInDocumentationView(vscode.Uri.file(logFile));\n    }\n  }\n}\n","/* eslint-disable @typescript-eslint/restrict-template-expressions */\nimport * as net from \"net\";\nimport * as vscode from \"vscode\";\nimport {\n  CloseHandlerResult,\n  ErrorAction,\n  CloseAction,\n  ErrorHandlerResult,\n  LanguageClient,\n  LanguageClientOptions,\n  Message,\n  ServerOptions,\n  TransportKind,\n  ResponseError,\n  InitializeError,\n  RevealOutputChannelOn,\n  State,\n  Position,\n  Location,\n  Range,\n  ResolveCodeLensSignature,\n} from \"vscode-languageclient/node\";\nimport { sleep, Mutex } from \"./utils\";\nimport { CONFIG_SECTION } from \"./config\";\nimport { PythonManager } from \"./pythonmanger\";\nimport { getAvailablePort } from \"./net_utils\";\n\nconst LANGUAGE_SERVER_DEFAULT_TCP_PORT = 6610;\nconst LANGUAGE_SERVER_DEFAULT_HOST = \"127.0.0.1\";\n\nexport function toVsCodeRange(range: Range): vscode.Range {\n  return new vscode.Range(\n    new vscode.Position(range.start.line, range.start.character),\n    new vscode.Position(range.end.line, range.end.character)\n  );\n}\n\nexport interface RobotTestItem {\n  type: string;\n  id: string;\n  uri?: string;\n  children: RobotTestItem[] | undefined;\n  label: string;\n  longname: string;\n  description?: string;\n  range?: Range;\n  error?: string;\n  tags?: string[];\n}\n\nexport interface EvaluatableExpression {\n  range: Range;\n\n  expression?: string;\n}\n\nexport interface InlineValueText {\n  type: \"text\";\n  readonly range: Range;\n  readonly text: string;\n}\n\nexport interface InlineValueVariableLookup {\n  type: \"variable\";\n  readonly range: Range;\n  readonly variableName?: string;\n  readonly caseSensitiveLookup: boolean;\n}\n\nexport interface InlineValueEvaluatableExpression {\n  type: \"expression\";\n  readonly range: Range;\n  readonly expression?: string;\n}\n\nexport type InlineValue = InlineValueText | InlineValueVariableLookup | InlineValueEvaluatableExpression;\n\nexport enum ClientState {\n  Stopped,\n  Starting,\n  Running,\n}\n\nexport interface ClientStateChangedEvent {\n  uri: vscode.Uri;\n  state: ClientState;\n}\n\nexport class LanguageClientsManager {\n  private clientsMutex = new Mutex();\n\n  public readonly clients: Map<string, LanguageClient> = new Map();\n  public readonly outputChannels: Map<string, vscode.OutputChannel> = new Map();\n\n  private _disposables: vscode.Disposable;\n  private _pythonValidPythonAndRobotEnv = new WeakMap<vscode.WorkspaceFolder, boolean>();\n\n  private readonly _onClientStateChangedEmitter = new vscode.EventEmitter<ClientStateChangedEvent>();\n\n  public get onClientStateChanged(): vscode.Event<ClientStateChangedEvent> {\n    return this._onClientStateChangedEmitter.event;\n  }\n\n  constructor(\n    public readonly extensionContext: vscode.ExtensionContext,\n    public readonly pythonManager: PythonManager,\n    public readonly outputChannel: vscode.OutputChannel\n  ) {\n    this._disposables = vscode.Disposable.from(\n      this.pythonManager.pythonExtension?.exports.settings.onDidChangeExecutionDetails(async (uri) => {\n        if (uri !== undefined) {\n          const folder = vscode.workspace.getWorkspaceFolder(uri);\n          let needsRestart = false;\n          if (folder !== undefined) {\n            needsRestart = this._pythonValidPythonAndRobotEnv.has(folder);\n            if (needsRestart) this._pythonValidPythonAndRobotEnv.delete(folder);\n          }\n          await this.refresh(uri, needsRestart);\n        } else {\n          await this.restart();\n        }\n      }) ?? {\n        dispose() {\n          //empty\n        },\n      },\n      vscode.workspace.onDidChangeWorkspaceFolders(async (_event) => this.refresh()),\n      vscode.workspace.onDidOpenTextDocument(async (document) => this.getLanguageClientForDocument(document))\n    );\n  }\n\n  public async stopAllClients(): Promise<boolean> {\n    const promises: Promise<void>[] = [];\n\n    const clients = [...this.clients.values()];\n    this.clients.clear();\n\n    for (const client of clients) {\n      promises.push(client.stop(5000));\n    }\n\n    return Promise.all(promises).then(\n      (r) => {\n        return r.length > 0;\n      },\n      (reason) => {\n        this.outputChannel.appendLine(`can't stop client ${reason}`);\n        return true;\n      }\n    );\n  }\n\n  dispose(): void {\n    this.stopAllClients().then(\n      (_) => undefined,\n      (_) => undefined\n    );\n\n    this._disposables.dispose();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  private getServerOptionsTCP(folder: vscode.WorkspaceFolder) {\n    const config = vscode.workspace.getConfiguration(CONFIG_SECTION, folder);\n    let port = config.get<number>(\"languageServer.tcpPort\", LANGUAGE_SERVER_DEFAULT_TCP_PORT);\n    if (port === 0) {\n      port = LANGUAGE_SERVER_DEFAULT_TCP_PORT;\n    }\n    const serverOptions: ServerOptions = function () {\n      return new Promise((resolve, reject) => {\n        const client = new net.Socket();\n        client.on(\"error\", (err) => {\n          reject(err);\n        });\n        const host = LANGUAGE_SERVER_DEFAULT_HOST;\n        client.connect(port, host, () => {\n          resolve({\n            reader: client,\n            writer: client,\n          });\n        });\n      });\n    };\n    return serverOptions;\n  }\n\n  private showErrorWithSelectPythonInterpreter(msg: string) {\n    this.outputChannel.appendLine(msg);\n    void vscode.window.showErrorMessage(msg, { title: \"Select Python Interpreter\", id: \"select\" }).then((item) => {\n      if (item && item.id === \"select\") {\n        void vscode.commands.executeCommand(\"python.setInterpreter\");\n      }\n    });\n  }\n\n  private async getServerOptions(folder: vscode.WorkspaceFolder, mode: string): Promise<ServerOptions | undefined> {\n    const config = vscode.workspace.getConfiguration(CONFIG_SECTION, folder);\n\n    const pythonCommand = this.pythonManager.getPythonCommand(folder);\n\n    const envOk = this._pythonValidPythonAndRobotEnv.get(folder);\n    if (envOk === false) return undefined;\n\n    if (!pythonCommand) {\n      this._pythonValidPythonAndRobotEnv.set(folder, false);\n\n      this.showErrorWithSelectPythonInterpreter(\n        `Can't find a valid python executable for workspace folder '${folder.name}'. ` +\n          \"Check if python and the python extension is installed.\"\n      );\n\n      return undefined;\n    }\n\n    if (!this.pythonManager.checkPythonVersion(pythonCommand)) {\n      this._pythonValidPythonAndRobotEnv.set(folder, false);\n\n      this.showErrorWithSelectPythonInterpreter(\n        `Invalid python version for workspace folder '${folder.name}'. Only python version >= 3.8 supported. ` +\n          \"Please update to a newer python version or select a valid python environment.\"\n      );\n\n      return undefined;\n    }\n\n    const robotCheck = this.pythonManager.checkRobotVersion(pythonCommand);\n    if (robotCheck === undefined) {\n      this._pythonValidPythonAndRobotEnv.set(folder, false);\n\n      this.showErrorWithSelectPythonInterpreter(\n        `Robot Framework package not found in workspace folder '${folder.name}'. ` +\n          \"Please install Robot Framework >= Version 4.0 to the current python environment or select a valid python environment.\"\n      );\n\n      return undefined;\n    }\n\n    if (robotCheck === false) {\n      this._pythonValidPythonAndRobotEnv.set(folder, false);\n\n      this.showErrorWithSelectPythonInterpreter(\n        `Robot Framework version in workspace folder '${folder.name}' not supported. Only Robot Framework version >= 4.0.0 supported. ` +\n          \"Please install or update Robot Framework >= Version 4.0 to the current python environment or select a valid python environment.\"\n      );\n\n      return undefined;\n    }\n\n    this._pythonValidPythonAndRobotEnv.set(folder, true);\n\n    const serverArgs = config.get<string[]>(\"languageServer.args\", []);\n\n    const args: string[] = [\"-u\", this.pythonManager.pythonLanguageServerMain];\n\n    const debug_args: string[] = [\"--log\"];\n\n    const transport = { stdio: TransportKind.stdio, pipe: TransportKind.pipe, socket: TransportKind.socket }[mode];\n\n    const getPort = async () => {\n      return getAvailablePort([\"127.0.0.1\"]);\n    };\n\n    return {\n      run: {\n        command: pythonCommand,\n        args: [...args, ...serverArgs],\n        options: {\n          cwd: folder.uri.fsPath,\n        },\n\n        transport:\n          transport !== TransportKind.socket\n            ? transport\n            : { kind: TransportKind.socket, port: (await getPort()) ?? -1 },\n      },\n      debug: {\n        command: pythonCommand,\n        args: [...args, ...debug_args, ...serverArgs],\n        options: {\n          cwd: folder.uri.fsPath,\n        },\n        transport:\n          transport !== TransportKind.socket\n            ? transport\n            : { kind: TransportKind.socket, port: (await getPort()) ?? -1 },\n      },\n    };\n  }\n\n  public async getLanguageClientForDocument(document: vscode.TextDocument): Promise<LanguageClient | undefined> {\n    if (document.languageId !== \"robotframework\") return;\n\n    return this.getLanguageClientForResource(document.uri);\n  }\n\n  public async getLanguageClientForResource(\n    resource: string | vscode.Uri,\n    create = true\n  ): Promise<LanguageClient | undefined> {\n    return this.clientsMutex.dispatch(async () => {\n      const uri = resource instanceof vscode.Uri ? resource : vscode.Uri.parse(resource);\n      let workspaceFolder = vscode.workspace.getWorkspaceFolder(uri);\n\n      if (!workspaceFolder || !create) {\n        if (vscode.workspace.workspaceFolders?.length === 1) {\n          workspaceFolder = vscode.workspace.workspaceFolders[0];\n        } else if (vscode.workspace.workspaceFolders?.length == 0) {\n          workspaceFolder = undefined;\n        } else {\n          workspaceFolder = undefined;\n        }\n      }\n\n      if (!workspaceFolder || !create) return undefined;\n\n      let result = this.clients.get(workspaceFolder.uri.toString());\n\n      if (result) return result;\n\n      const config = vscode.workspace.getConfiguration(CONFIG_SECTION, uri);\n\n      const mode = config.get<string>(\"languageServer.mode\", \"pipe\");\n\n      const serverOptions: ServerOptions | undefined =\n        mode === \"tcp\" ? this.getServerOptionsTCP(workspaceFolder) : await this.getServerOptions(workspaceFolder, mode);\n\n      if (serverOptions === undefined) {\n        return undefined;\n      }\n\n      const name = `RobotCode Language Server mode=${mode} for folder \"${workspaceFolder.name}\"`;\n\n      const outputChannel = this.outputChannels.get(name) ?? vscode.window.createOutputChannel(name);\n      this.outputChannels.set(name, outputChannel);\n\n      let closeHandlerAction = CloseAction.DoNotRestart;\n\n      const clientOptions: LanguageClientOptions = {\n        documentSelector:\n          vscode.workspace.workspaceFolders?.length === 1\n            ? [{ scheme: \"file\", language: \"robotframework\" }]\n            : [{ scheme: \"file\", language: \"robotframework\", pattern: `${workspaceFolder.uri.fsPath}/**/*` }],\n        synchronize: {\n          configurationSection: [CONFIG_SECTION],\n        },\n        initializationOptions: {\n          storageUri: this.extensionContext?.storageUri?.toString(),\n          globalStorageUri: this.extensionContext?.globalStorageUri?.toString(),\n        },\n        revealOutputChannelOn: RevealOutputChannelOn.Never, // TODO: should we make this configurable?\n        initializationFailedHandler: (error: ResponseError<InitializeError> | Error | undefined) => {\n          if (error)\n            void vscode.window // NOSONAR\n              .showErrorMessage(error.message, { title: \"Retry\", id: \"retry\" })\n              .then(async (item) => {\n                if (item && item.id === \"retry\") {\n                  await this.refresh();\n                }\n              });\n\n          return false;\n        },\n        errorHandler: {\n          error(_error: Error, _message: Message | undefined, _count: number | undefined): ErrorHandlerResult {\n            return {\n              action: ErrorAction.Continue,\n            };\n          },\n\n          closed(): CloseHandlerResult {\n            return {\n              action: closeHandlerAction,\n            };\n          },\n        },\n        // TODO: how we can start a language client on workspace level, not on folder level\n        workspaceFolder,\n        outputChannel,\n        markdown: {\n          isTrusted: true,\n          supportHtml: true,\n        },\n        progressOnInitialization: true,\n        middleware: {\n          resolveCodeLens(\n            this: void, // NOSONAR\n            codeLens: vscode.CodeLens,\n            token: vscode.CancellationToken,\n            next: ResolveCodeLensSignature\n          ): vscode.ProviderResult<vscode.CodeLens> {\n            const resolvedCodeLens = next(codeLens, token);\n\n            const resolveFunc = (codeLensToFix: vscode.CodeLens): vscode.CodeLens => {\n              if (codeLensToFix.command?.command === \"editor.action.showReferences\") {\n                const args = codeLensToFix.command.arguments as [string, Position, Location[]];\n\n                codeLensToFix.command.arguments = [\n                  vscode.Uri.parse(args[0]),\n                  new vscode.Position(args[1].line, args[1].character),\n                  args[2].map((position) => {\n                    return new vscode.Location(\n                      vscode.Uri.parse(position.uri),\n                      new vscode.Range(\n                        position.range.start.line,\n                        position.range.start.character,\n                        position.range.end.line,\n                        position.range.end.character\n                      )\n                    );\n                  }),\n                ];\n              }\n\n              return codeLensToFix;\n            };\n\n            if ((resolvedCodeLens as Thenable<vscode.CodeLens>).then) {\n              return (resolvedCodeLens as Thenable<vscode.CodeLens>).then(resolveFunc);\n            } else if (resolvedCodeLens as vscode.CodeLens) {\n              return resolveFunc(resolvedCodeLens as vscode.CodeLens);\n            }\n\n            return resolvedCodeLens;\n          },\n        },\n      };\n\n      this.outputChannel.appendLine(`create Language client: ${name}`);\n      result = new LanguageClient(`$robotCode:${workspaceFolder.uri.toString()}`, name, serverOptions, clientOptions);\n\n      this.outputChannel.appendLine(`trying to start Language client: ${name}`);\n\n      result.onDidChangeState((e) => {\n        if (e.newState == State.Starting) {\n          result?.diagnostics?.clear();\n\n          this.outputChannel.appendLine(\n            `client for ${result?.clientOptions.workspaceFolder?.uri ?? \"unknown\"} starting.`\n          );\n        } else if (e.newState == State.Running) {\n          this.outputChannel.appendLine(\n            `client for ${result?.clientOptions.workspaceFolder?.uri ?? \"unknown\"} running.`\n          );\n          closeHandlerAction = CloseAction.Restart;\n        } else if (e.newState == State.Stopped) {\n          this.outputChannel.appendLine(\n            `client for ${result?.clientOptions.workspaceFolder?.uri ?? \"unknown\"} stopped.`\n          );\n          if (workspaceFolder && this.clients.get(workspaceFolder.uri.toString()) !== result)\n            closeHandlerAction = CloseAction.DoNotRestart;\n        }\n\n        this._onClientStateChangedEmitter.fire({\n          uri: uri,\n          state:\n            e.newState === State.Starting\n              ? ClientState.Starting\n              : e.newState === State.Stopped\n              ? ClientState.Stopped\n              : ClientState.Running,\n        });\n      });\n\n      const started = await result.start().then(\n        (_) => {\n          this.outputChannel.appendLine(\n            `client for ${result?.clientOptions.workspaceFolder?.uri ?? \"unknown\"} started.`\n          );\n          return true;\n        },\n        (reason) => {\n          this.outputChannel.appendLine(\n            `client  ${result?.clientOptions.workspaceFolder?.uri ?? \"unknown\"} error: ${reason}`\n          );\n          return false;\n        }\n      );\n\n      if (started) {\n        this.clients.set(workspaceFolder.uri.toString(), result);\n        return result;\n      }\n\n      return undefined;\n    });\n  }\n\n  public async restart(uri?: vscode.Uri): Promise<void> {\n    this._pythonValidPythonAndRobotEnv = new WeakMap<vscode.WorkspaceFolder, boolean>();\n    await this.refresh(uri, true);\n  }\n\n  public async refresh(uri?: vscode.Uri, restart?: boolean): Promise<void> {\n    await this.clientsMutex.dispatch(async () => {\n      if (uri) {\n        const workspaceFolder = vscode.workspace.getWorkspaceFolder(uri);\n\n        if (!workspaceFolder) return;\n\n        const client = this.clients.get(workspaceFolder.uri.toString());\n        this.clients.delete(workspaceFolder.uri.toString());\n\n        if (client) {\n          await client.stop(5000);\n          await sleep(500);\n        }\n      } else {\n        if (await this.stopAllClients()) {\n          await sleep(500);\n        }\n      }\n    });\n\n    const folders = new Set<vscode.WorkspaceFolder>();\n\n    if (uri !== undefined && restart) {\n      const workspaceFolder = vscode.workspace.getWorkspaceFolder(uri);\n      if (workspaceFolder) {\n        folders.add(workspaceFolder);\n      }\n    }\n\n    for (const document of vscode.workspace.textDocuments) {\n      if (document.languageId === \"robotframework\") {\n        const workspaceFolder = vscode.workspace.getWorkspaceFolder(document.uri);\n        if (workspaceFolder) {\n          folders.add(workspaceFolder);\n        } else if (vscode.workspace.workspaceFolders?.length === 1) {\n          folders.add(vscode.workspace.workspaceFolders[0]);\n        }\n      }\n    }\n\n    if (uri === undefined) {\n      for (const f of vscode.workspace.workspaceFolders || []) {\n        const robotFiles = await vscode.workspace.findFiles(\n          new vscode.RelativePattern(f, \"**/*.{robot,resource}\"),\n          undefined,\n          1\n        );\n        if (robotFiles.length > 0) {\n          folders.add(f);\n        }\n      }\n    }\n\n    for (const folder of folders) {\n      try {\n        await this.getLanguageClientForResource(folder.uri.toString()).catch((_) => undefined);\n      } catch {\n        // do noting\n      }\n    }\n  }\n\n  public async getTestsFromWorkspace(\n    workspaceFolder: vscode.WorkspaceFolder,\n    paths?: string[],\n    suites?: string[],\n    token?: vscode.CancellationToken\n  ): Promise<RobotTestItem[] | undefined> {\n    const robotFiles = await vscode.workspace.findFiles(\n      new vscode.RelativePattern(workspaceFolder, \"**/*.robot\"),\n      undefined,\n      1,\n      token\n    );\n\n    if (robotFiles.length === 0) {\n      return undefined;\n    }\n\n    const client = await this.getLanguageClientForResource(workspaceFolder.uri);\n\n    if (!client) return;\n\n    return (\n      (token\n        ? await client.sendRequest<RobotTestItem[]>(\n            \"robot/discovering/getTestsFromWorkspace\",\n            {\n              workspaceFolder: workspaceFolder.uri.toString(),\n              paths: paths,\n              suites,\n            },\n            token\n          )\n        : await client.sendRequest<RobotTestItem[]>(\"robot/discovering/getTestsFromWorkspace\", {\n            workspaceFolder: workspaceFolder.uri.toString(),\n            paths: paths,\n          })) ?? undefined\n    );\n  }\n\n  public async getTestsFromDocument(\n    document: vscode.TextDocument,\n    base_name?: string,\n    token?: vscode.CancellationToken\n  ): Promise<RobotTestItem[] | undefined> {\n    const client = await this.getLanguageClientForResource(document.uri);\n\n    if (!client) return;\n\n    return (\n      (token\n        ? await client.sendRequest<RobotTestItem[]>(\n            \"robot/discovering/getTestsFromDocument\",\n            {\n              textDocument: { uri: document.uri.toString() },\n              base_name: base_name,\n            },\n            token\n          )\n        : await client.sendRequest<RobotTestItem[]>(\"robot/discovering/getTestsFromDocument\", {\n            textDocument: { uri: document.uri.toString() },\n            base_name: base_name,\n          })) ?? undefined\n    );\n  }\n\n  public async openUriInDocumentationView(uri: vscode.Uri): Promise<void> {\n    const doc_uri = await this.convertToDocumententationUri(uri);\n    if (doc_uri) {\n      await vscode.commands.executeCommand(\"robotcode.showDocumentation\", doc_uri.toString(true));\n    } else {\n      vscode.env.openExternal(uri).then(\n        () => undefined,\n        () => undefined\n      );\n    }\n  }\n\n  public async convertToDocumententationUri(\n    uri: vscode.Uri,\n    token?: vscode.CancellationToken\n  ): Promise<vscode.Uri | undefined> {\n    const client = await this.getLanguageClientForResource(uri);\n\n    if (!client) return;\n\n    return (\n      (token\n        ? vscode.Uri.parse(\n            await client.sendRequest<string>(\n              \"robot/documentationServer/convertUri\",\n              {\n                uri: uri.toString(),\n              },\n              token\n            )\n          )\n        : vscode.Uri.parse(\n            await client.sendRequest<string>(\"robot/documentationServer/convertUri\", {\n              uri: uri.toString(),\n            })\n          )) ?? undefined\n    );\n  }\n\n  public async getEvaluatableExpression(\n    document: vscode.TextDocument,\n    position: Position,\n    token?: vscode.CancellationToken\n  ): Promise<EvaluatableExpression | undefined> {\n    const client = await this.getLanguageClientForResource(document.uri);\n\n    if (!client) return;\n\n    return (\n      (token\n        ? await client.sendRequest<EvaluatableExpression | undefined>(\n            \"robot/debugging/getEvaluatableExpression\",\n            {\n              textDocument: { uri: document.uri.toString() },\n              position,\n            },\n            token\n          )\n        : await client.sendRequest<EvaluatableExpression | undefined>(\"robot/debugging/getEvaluatableExpression\", {\n            textDocument: { uri: document.uri.toString() },\n            position,\n          })) ?? undefined\n    );\n  }\n\n  public async getInlineValues(\n    document: vscode.TextDocument,\n    viewPort: vscode.Range,\n    context: vscode.InlineValueContext,\n    token?: vscode.CancellationToken\n  ): Promise<InlineValue[]> {\n    const client = await this.getLanguageClientForResource(document.uri);\n\n    if (!client) return [];\n\n    return (\n      (token\n        ? await client.sendRequest<InlineValue[]>(\n            \"robot/debugging/getInlineValues\",\n            {\n              textDocument: { uri: document.uri.toString() },\n              viewPort: { start: viewPort.start, end: viewPort.end },\n              context: {\n                frameId: context.frameId,\n                stoppedLocation: { start: context.stoppedLocation.start, end: context.stoppedLocation.end },\n              },\n            },\n            token\n          )\n        : await client.sendRequest<InlineValue[]>(\"robot/debugging/getInlineValues\", {\n            textDocument: { uri: document.uri.toString() },\n            viewPort: { start: viewPort.start, end: viewPort.end },\n            context: {\n              frameId: context.frameId,\n              stoppedLocation: { start: context.stoppedLocation.start, end: context.stoppedLocation.end },\n            },\n          })) ?? []\n    );\n  }\n}\n","import * as os from \"os\";\nimport * as net from \"net\";\n\nexport function getLocalHosts(): Set<string | undefined> {\n  const interfaces = os.networkInterfaces();\n\n  // Add undefined value for createServer function to use default host,\n  // and default IPv4 host in case createServer defaults to IPv6.\n  const results = new Set([undefined, \"0.0.0.0\"]);\n\n  for (const _interface of Object.values(interfaces)) {\n    if (_interface) {\n      for (const config of _interface) {\n        results.add(config.address);\n      }\n    }\n  }\n\n  return results;\n}\n\nfunction checkAvailablePort(port?: number, host?: string): Promise<number> {\n  return new Promise((resolve, reject) => {\n    const server = net.createServer();\n    server.unref();\n    server.on(\"error\", reject);\n\n    server.listen(port, host, () => {\n      const p = server.address() as net.AddressInfo;\n\n      server.close(() => {\n        resolve(p.port);\n      });\n    });\n  });\n}\n\nexport function isErrnoException(object: unknown): object is NodeJS.ErrnoException {\n  return Object.prototype.hasOwnProperty.call(object, \"code\") || Object.prototype.hasOwnProperty.call(object, \"errno\");\n}\n\nexport async function getAvailablePort(hosts: string[], port?: number): Promise<number | undefined> {\n  for (const host of hosts) {\n    try {\n      port = await checkAvailablePort(port, host);\n    } catch (error) {\n      if (!isErrnoException(error) || error.code === undefined || ![\"EADDRNOTAVAIL\", \"EINVAL\"].includes(error.code)) {\n        throw error;\n      }\n    }\n  }\n\n  return port;\n}\n","import { spawnSync } from \"child_process\";\nimport * as path from \"path\";\nimport * as vscode from \"vscode\";\nimport { CONFIG_SECTION } from \"./config\";\n\ninterface PythonExtensionApi {\n  /**\n   * Promise indicating whether all parts of the extension have completed loading or not.\n   * @type {Promise<void>}\n   * @memberof IExtensionApi\n   */\n  ready: Promise<void>;\n  jupyter: {\n    registerHooks(): void;\n  };\n  debug: {\n    /**\n     * Generate an array of strings for commands to pass to the Python executable to launch the debugger for remote debugging.\n     * Users can append another array of strings of what they want to execute along with relevant arguments to Python.\n     * E.g `['/Users/..../pythonVSCode/pythonFiles/lib/python/debugpy', '--listen', 'localhost:57039', '--wait-for-client']`\n     * @param {string} host\n     * @param {number} port\n     * @param {boolean} [waitUntilDebuggerAttaches=true]\n     * @returns {Promise<string[]>}\n     */\n    getRemoteLauncherCommand(host: string, port: number, waitUntilDebuggerAttaches: boolean): Promise<string[]>;\n\n    /**\n     * Gets the path to the debugger package used by the extension.\n     * @returns {Promise<string>}\n     */\n    getDebuggerPackagePath(): Promise<string | undefined>;\n  };\n  /**\n   * Return internal settings within the extension which are stored in VSCode storage\n   */\n  settings: {\n    /**\n     * An event that is emitted when execution details (for a resource) change. For instance, when interpreter configuration changes.\n     */\n    readonly onDidChangeExecutionDetails: vscode.Event<vscode.Uri | undefined>;\n    /**\n     * Returns all the details the consumer needs to execute code within the selected environment,\n     * corresponding to the specified resource taking into account any workspace-specific settings\n     * for the workspace to which this resource belongs.\n     * @param {Resource} [resource] A resource for which the setting is asked for.\n     * * When no resource is provided, the setting scoped to the first workspace folder is returned.\n     * * If no folder is present, it returns the global setting.\n     * @returns {({ execCommand: string[] | undefined })}\n     */\n    getExecutionDetails(resource?: vscode.Uri | undefined): {\n      /**\n       * E.g of execution commands returned could be,\n       * * `['<path to the interpreter set in settings>']`\n       * * `['<path to the interpreter selected by the extension when setting is not set>']`\n       * * `['conda', 'run', 'python']` which is used to run from within Conda environments.\n       * or something similar for some other Python environments.\n       *\n       * @type {(string[] | undefined)} When return value is `undefined`, it means no interpreter is set.\n       * Otherwise, join the items returned using space to construct the full execution command.\n       */\n      execCommand: string[] | undefined;\n    };\n  };\n}\n\nexport class PythonManager {\n  public get pythonLanguageServerMain(): string {\n    return this._pythonLanguageServerMain;\n  }\n\n  public get pythonDebugAdapterMain(): string {\n    return this._pythonDebugAdapterMain;\n  }\n\n  public get checkRobotVersionMain(): string {\n    return this._checkRobotVersionMain;\n  }\n\n  public get checkPythonVersionScript(): string {\n    return this._pythonVersionScript;\n  }\n\n  _pythonLanguageServerMain: string;\n  _pythonDebugAdapterMain: string;\n  _checkRobotVersionMain: string;\n  _pythonVersionScript = \"import sys; print(sys.version_info[:2]>=(3,8))\";\n\n  _pythonExtension: vscode.Extension<PythonExtensionApi> | undefined;\n\n  constructor(\n    public readonly extensionContext: vscode.ExtensionContext,\n    public readonly outputChannel: vscode.OutputChannel\n  ) {\n    this._pythonLanguageServerMain = this.extensionContext.asAbsolutePath(\n      path.join(\"robotcode\", \"language_server\", \"__main__.py\")\n    );\n    this._pythonDebugAdapterMain = this.extensionContext.asAbsolutePath(\n      path.join(\"robotcode\", \"debugger\", \"launcher\", \"__main__.py\")\n    );\n\n    this._checkRobotVersionMain = this.extensionContext.asAbsolutePath(\n      path.join(\"robotcode\", \"language_server\", \"robotframework\", \"utils\", \"version.py\")\n    );\n  }\n\n  async dispose(): Promise<void> {\n    // empty\n  }\n\n  get pythonExtension(): vscode.Extension<PythonExtensionApi> | undefined {\n    if (!this._pythonExtension) {\n      this.outputChannel.appendLine(\"Try to activate python extension\");\n      try {\n        this._pythonExtension = vscode.extensions.getExtension(\"ms-python.python\")!;\n\n        this._pythonExtension.activate().then(\n          (_) => undefined,\n          (_) => undefined\n        );\n\n        this.outputChannel.appendLine(\"Python Extension is active\");\n\n        this._pythonExtension.exports.ready.then(\n          (_) => undefined,\n          (_) => undefined\n        );\n      } catch (ex) {\n        this.outputChannel.appendLine(\"can't activate python extension\");\n      }\n    }\n    return this._pythonExtension;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  public getPythonCommand(folder: vscode.WorkspaceFolder | undefined): string | undefined {\n    const config = vscode.workspace.getConfiguration(CONFIG_SECTION, folder);\n    let result: string | undefined;\n\n    const configPython = config.get<string>(\"python\");\n\n    if (configPython !== undefined && configPython !== \"\") {\n      result = configPython;\n    } else {\n      const pythonExtensionPythonPath: string[] | undefined =\n        this.pythonExtension?.exports?.settings?.getExecutionDetails(folder?.uri)?.execCommand;\n\n      if (pythonExtensionPythonPath !== undefined) {\n        result = pythonExtensionPythonPath.join(\" \");\n      }\n    }\n\n    return result;\n  }\n\n  public checkPythonVersion(pythonCommand: string): boolean {\n    const res = spawnSync(pythonCommand, [\"-u\", \"-c\", this.checkPythonVersionScript], {\n      encoding: \"ascii\",\n    });\n    if (res.status == 0 && res.stdout && res.stdout.trimEnd() === \"True\") return true;\n\n    return false;\n  }\n\n  public checkRobotVersion(pythonCommand: string): boolean | undefined {\n    const res = spawnSync(pythonCommand, [\"-u\", this.checkRobotVersionMain], {\n      encoding: \"ascii\",\n    });\n\n    if (res.status == 0 && res.stdout && res.stdout.trimEnd() === \"True\") return true;\n    if (res.status != 0) return undefined;\n\n    return false;\n  }\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-unsafe-argument */\nimport { red, yellow } from \"ansi-colors\";\nimport * as vscode from \"vscode\";\nimport { DebugManager } from \"./debugmanager\";\nimport { ClientState, LanguageClientsManager, RobotTestItem, toVsCodeRange } from \"./languageclientsmanger\";\nimport { Mutex, sleep, WeakValueMap } from \"./utils\";\n\ninterface RobotExecutionAttributes {\n  id: string | undefined;\n  longname: string | undefined;\n  originalname: string | undefined;\n  template: string | undefined;\n  status: string | undefined;\n  message: string | undefined;\n  elapsedtime: number | undefined;\n  source: string | undefined;\n  lineno: number | undefined;\n  starttime: string | undefined;\n  endtime: string | undefined;\n  tags: string[] | undefined;\n}\n\ntype RobotEventType = \"suite\" | \"test\" | \"keyword\" | string;\n\ninterface RobotExecutionEvent {\n  type: RobotEventType;\n  id: string;\n  attributes: RobotExecutionAttributes | undefined;\n  failedKeywords: RobotExecutionAttributes[] | undefined;\n}\n\ntype RobotLogLevel = \"FAIL\" | \"WARN\" | \"INFO\" | \"DEBUG\" | \"TRACE\" | string;\n\ninterface RobotLogMessageEvent {\n  itemId: string | undefined;\n  source: string | undefined;\n  lineno: number | undefined;\n  column: number | undefined;\n\n  message: string;\n  level: RobotLogLevel;\n  timestamp: string;\n  html: string;\n}\n\nclass DidChangeEntry {\n  constructor(timerHandle: NodeJS.Timeout, tokenSource: vscode.CancellationTokenSource) {\n    this.timer = timerHandle;\n    this.tokenSource = tokenSource;\n  }\n  public readonly timer: NodeJS.Timeout;\n  public readonly tokenSource: vscode.CancellationTokenSource;\n\n  public cancel() {\n    clearTimeout(this.timer);\n    this.tokenSource.cancel();\n  }\n}\n\nclass WorkspaceFolderEntry {\n  private _valid: boolean;\n  public get valid(): boolean {\n    return this._valid;\n  }\n  public set valid(v: boolean) {\n    this._valid = v;\n  }\n\n  public constructor(valid: boolean, readonly items: RobotTestItem[] | undefined) {\n    this._valid = valid;\n  }\n}\n\nexport class TestControllerManager {\n  private _disposables: vscode.Disposable;\n  public readonly testController: vscode.TestController;\n  public readonly runProfile: vscode.TestRunProfile;\n  public readonly debugProfile: vscode.TestRunProfile;\n  public readonly dryRunProfile: vscode.TestRunProfile;\n  public readonly dryRunDebugProfile: vscode.TestRunProfile;\n  private readonly refreshMutex = new Mutex();\n  private readonly debugSessions = new Set<vscode.DebugSession>();\n  private readonly didChangedTimer = new Map<string, DidChangeEntry>();\n  private fileChangeTimer: DidChangeEntry | undefined;\n\n  constructor(\n    public readonly extensionContext: vscode.ExtensionContext,\n    public readonly languageClientsManager: LanguageClientsManager,\n    public readonly debugManager: DebugManager,\n    public readonly outputChannel: vscode.OutputChannel\n  ) {\n    this.testController = vscode.tests.createTestController(\"robotCode.RobotFramework\", \"RobotFramework\");\n\n    this.runProfile = this.testController.createRunProfile(\n      \"Run\",\n      vscode.TestRunProfileKind.Run,\n      async (request, token) => this.runTests(request, token),\n      true\n    );\n\n    this.dryRunProfile = this.testController.createRunProfile(\n      \"Dry Run\",\n      vscode.TestRunProfileKind.Run,\n      async (request, token) => this.runTests(request, token, true),\n      false\n    );\n\n    this.debugProfile = this.testController.createRunProfile(\n      \"Debug\",\n      vscode.TestRunProfileKind.Debug,\n      async (request, token) => this.runTests(request, token),\n      true\n    );\n\n    this.dryRunDebugProfile = this.testController.createRunProfile(\n      \"Dry Debug\",\n      vscode.TestRunProfileKind.Debug,\n      async (request, token) => this.runTests(request, token, true),\n      false\n    );\n\n    this.testController.resolveHandler = async (item) => {\n      await this.refresh(item);\n    };\n\n    const fileWatcher = vscode.workspace.createFileSystemWatcher(\"**/*.{robot,resource}\");\n    fileWatcher.onDidCreate((uri) => this.refreshUri(uri, \"create\"));\n    fileWatcher.onDidDelete((uri) => this.refreshUri(uri, \"delete\"));\n    fileWatcher.onDidChange((uri) => this.refreshUri(uri, \"change\"));\n\n    this._disposables = vscode.Disposable.from(\n      fileWatcher,\n      this.languageClientsManager.onClientStateChanged((event) => {\n        switch (event.state) {\n          case ClientState.Running: {\n            this.refresh().catch((_) => undefined);\n            break;\n          }\n          case ClientState.Stopped: {\n            const folder = vscode.workspace.getWorkspaceFolder(event.uri);\n            if (folder) this.removeWorkspaceFolderItems(folder);\n\n            break;\n          }\n        }\n      }),\n      vscode.workspace.onDidCloseTextDocument(async (document) => {\n        if (document.languageId !== \"robotframework\") return;\n\n        await this.refreshWorkspace(vscode.workspace.getWorkspaceFolder(document.uri));\n      }),\n      vscode.workspace.onDidSaveTextDocument((document) => {\n        this.refreshDocument(document);\n      }),\n      vscode.workspace.onDidOpenTextDocument(async (document) => {\n        if (document.languageId !== \"robotframework\") return;\n\n        await this.refresh(this.findTestItemForDocument(document));\n      }),\n      vscode.workspace.onDidChangeTextDocument((event) => {\n        this.refreshDocument(event.document);\n      }),\n      vscode.workspace.onDidChangeWorkspaceFolders(async (event) => {\n        for (const r of event.removed) {\n          this.removeWorkspaceFolderItems(r);\n        }\n        if (event.added.length > 0) await this.refresh();\n      }),\n\n      vscode.debug.onDidStartDebugSession((session) => {\n        if (session.configuration.type === \"robotcode\" && session.configuration.runId !== undefined) {\n          if (this.testRuns.has(session.configuration.runId)) {\n            this.debugSessions.add(session);\n          }\n        }\n      }),\n      vscode.debug.onDidTerminateDebugSession((session) => {\n        if (this.debugSessions.has(session)) {\n          this.debugSessions.delete(session);\n\n          if (session.configuration.runId !== undefined) {\n            this.TestRunExited(session.configuration.runId);\n          }\n        }\n      }),\n      vscode.debug.onDidReceiveDebugSessionCustomEvent((event) => {\n        if (event.session.configuration.type === \"robotcode\") {\n          switch (event.event) {\n            case \"robotExited\": {\n              this.TestRunExited(event.session.configuration.runId);\n              break;\n            }\n\n            case \"robotStarted\": {\n              this.OnRobotStartedEvent(event.session.configuration.runId, event.body as RobotExecutionEvent);\n              break;\n            }\n            case \"robotEnded\": {\n              this.OnRobotEndedEvent(event.session.configuration.runId, event.body as RobotExecutionEvent);\n              break;\n            }\n            case \"robotEnqueued\": {\n              this.TestItemEnqueued(event.session.configuration.runId, event.body?.items);\n              break;\n            }\n            case \"robotLog\": {\n              this.OnRobotLogMessageEvent(event.session.configuration.runId, event.body as RobotLogMessageEvent);\n              break;\n            }\n          }\n        }\n      }),\n      vscode.commands.registerCommand(\"robotcode.runCurrentFile\", async (...args) => {\n        await vscode.commands.executeCommand(\"testing.runCurrentFile\", ...args);\n      }),\n      vscode.commands.registerCommand(\"robotcode.debugCurrentFile\", async (...args) => {\n        await vscode.commands.executeCommand(\"testing.debugCurrentFile\", ...args);\n      })\n    );\n  }\n\n  private removeWorkspaceFolderItems(folder: vscode.WorkspaceFolder) {\n    if (this.robotTestItems.has(folder)) {\n      const robotItems = this.robotTestItems.get(folder)?.items;\n\n      this.robotTestItems.delete(folder);\n\n      for (const id of robotItems?.map((i) => i.id) ?? []) {\n        const deleteItem = (itemId: string) => {\n          const item = this.testItems.get(itemId);\n          this.testItems.delete(itemId);\n          item?.children.forEach((v) => deleteItem(v.id));\n        };\n\n        deleteItem(id);\n      }\n\n      for (const item of robotItems || []) {\n        this.testController.items.delete(item.id);\n      }\n    }\n  }\n\n  dispose(): void {\n    this._disposables.dispose();\n    this.testController.dispose();\n  }\n\n  public readonly robotTestItems = new WeakMap<vscode.WorkspaceFolder, WorkspaceFolderEntry | undefined>();\n\n  public findRobotItem(item: vscode.TestItem): RobotTestItem | undefined {\n    if (item.parent) {\n      return this.findRobotItem(item.parent)?.children?.find((i) => i.id === item.id);\n    } else {\n      for (const workspace of vscode.workspace.workspaceFolders ?? []) {\n        if (this.robotTestItems.has(workspace)) {\n          const items = this.robotTestItems.get(workspace)?.items;\n          if (items) {\n            for (const i of items) {\n              if (i.id === item.id) {\n                return i;\n              }\n            }\n          }\n        }\n      }\n      return undefined;\n    }\n  }\n\n  public refreshDocument(document: vscode.TextDocument): void {\n    if (document.languageId !== \"robotframework\") return;\n\n    const uri_str = document.uri.toString();\n    if (this.didChangedTimer.has(uri_str)) {\n      this.didChangedTimer.get(uri_str)?.cancel();\n      this.didChangedTimer.delete(uri_str);\n    }\n\n    const token = new vscode.CancellationTokenSource();\n\n    this.didChangedTimer.set(\n      uri_str,\n      new DidChangeEntry(\n        setTimeout(() => {\n          const item = this.findTestItemForDocument(document);\n          if (item)\n            this.refresh(item).then(\n              () => {\n                if (item?.canResolveChildren && item.children.size === 0) {\n                  this.refreshWorkspace(vscode.workspace.getWorkspaceFolder(document.uri)).then(\n                    () => undefined,\n                    () => undefined\n                  );\n                }\n              },\n              () => undefined\n            );\n          else {\n            this.refreshWorkspace(vscode.workspace.getWorkspaceFolder(document.uri)).then(\n              () => undefined,\n              () => undefined\n            );\n          }\n        }, 500),\n        token\n      )\n    );\n  }\n\n  public findTestItemForDocument(document: vscode.TextDocument): vscode.TestItem | undefined {\n    return this.findTestItemByUri(document.uri.toString());\n  }\n\n  public findTestItemByUri(documentUri: string): vscode.TestItem | undefined {\n    for (const item of this.testItems.values()) {\n      if (item.uri?.toString() === documentUri) return item;\n    }\n    return undefined;\n  }\n\n  public findTestItemById(id: string): vscode.TestItem | undefined {\n    return this.testItems.get(id);\n  }\n\n  public async refresh(item?: vscode.TestItem): Promise<void> {\n    await this.refreshMutex.dispatch(async () => {\n      await this.refreshItem(item);\n    });\n  }\n\n  private testItems = new WeakValueMap<string, vscode.TestItem>();\n\n  private async refreshItem(item?: vscode.TestItem, token?: vscode.CancellationToken): Promise<void> {\n    if (token?.isCancellationRequested) return;\n\n    if (item) {\n      item.busy = true;\n      try {\n        const robotItem = this.findRobotItem(item);\n\n        let tests = robotItem?.children;\n\n        if (robotItem?.type === \"suite\" && item.uri !== undefined) {\n          if (robotItem.children === undefined) robotItem.children = [];\n\n          const openDoc = vscode.workspace.textDocuments.find((d) => d.uri.toString() === item.uri?.toString());\n\n          if (openDoc !== undefined) {\n            tests = await this.languageClientsManager.getTestsFromDocument(openDoc, robotItem.longname, token);\n\n            if (tests !== undefined) {\n              for (const test of tests) {\n                const index = robotItem.children.findIndex((v) => v.id === test.id);\n                if (index >= 0 && robotItem.children) {\n                  robotItem.children[index] = test;\n                } else {\n                  robotItem.children.push(test);\n                }\n              }\n\n              const removed = robotItem.children.filter((v) => tests?.find((w) => w.id === v.id) === undefined);\n\n              robotItem.children = robotItem.children.filter((v) => removed.find((w) => w.id == v.id) === undefined);\n            } else {\n              robotItem.children = [];\n            }\n\n            robotItem.children = robotItem.children.sort(\n              (a, b) => (a.range?.start.line || -1) - (b.range?.start.line || -1)\n            );\n          }\n        }\n\n        if (token?.isCancellationRequested) return;\n\n        if (robotItem) {\n          const addedIds = new Set<string>();\n\n          for (const test of tests ?? []) {\n            addedIds.add(test.id);\n          }\n\n          for (const test of tests ?? []) {\n            const newItem = this.addOrUpdateTestItem(item, test);\n            await this.refreshItem(newItem, token);\n            if (newItem.canResolveChildren && newItem.children.size === 0) {\n              addedIds.delete(newItem.id);\n            }\n          }\n\n          // TODO: we need a sleep after deletion here, it seem's there is a bug in vscode\n          if (this.removeNotAddedTestItems(item, addedIds)) await sleep(5);\n        }\n      } finally {\n        item.busy = false;\n      }\n    } else {\n      const addedIds = new Set<string>();\n\n      for (const folder of vscode.workspace.workspaceFolders ?? []) {\n        if (token?.isCancellationRequested) return;\n\n        if (this.robotTestItems.get(folder) === undefined || !this.robotTestItems.get(folder)?.valid) {\n          this.robotTestItems.set(\n            folder,\n            new WorkspaceFolderEntry(\n              true,\n              await this.languageClientsManager.getTestsFromWorkspace(folder, undefined, undefined, token)\n            )\n          );\n        }\n\n        const tests = this.robotTestItems.get(folder)?.items;\n\n        if (tests) {\n          for (const test of tests) {\n            addedIds.add(test.id);\n            const newItem = this.addOrUpdateTestItem(undefined, test);\n            await this.refreshItem(newItem, token);\n            if (newItem.canResolveChildren && newItem.children.size === 0) {\n              addedIds.delete(newItem.id);\n            }\n          }\n        }\n      }\n\n      // TODO: we need a sleep after deletion here, it seem's there is a bug in vscode\n      if (this.removeNotAddedTestItems(undefined, addedIds)) await sleep(5);\n    }\n  }\n\n  private addOrUpdateTestItem(parentTestItem: vscode.TestItem | undefined, robotTestItem: RobotTestItem) {\n    let testItem = parentTestItem\n      ? parentTestItem.children.get(robotTestItem.id)\n      : this.testController.items.get(robotTestItem.id);\n\n    if (testItem === undefined) {\n      testItem = this.testController.createTestItem(\n        robotTestItem.id,\n        robotTestItem.label,\n        robotTestItem.uri ? vscode.Uri.parse(robotTestItem.uri) : undefined\n      );\n\n      this.testItems.set(robotTestItem.id, testItem);\n\n      if (parentTestItem) {\n        parentTestItem.children.add(testItem);\n      } else {\n        this.testController.items.add(testItem);\n      }\n    }\n\n    testItem.canResolveChildren = robotTestItem.type === \"suite\" || robotTestItem.type === \"workspace\";\n\n    if (robotTestItem.range !== undefined) {\n      testItem.range = toVsCodeRange(robotTestItem.range);\n    }\n    testItem.label = robotTestItem.label;\n    testItem.error = robotTestItem.error;\n\n    const tags = this.convertTags(robotTestItem.tags);\n    if (tags) testItem.tags = tags;\n    return testItem;\n  }\n\n  private removeNotAddedTestItems(parentTestItem: vscode.TestItem | undefined, addedIds: Set<string>): boolean {\n    const itemsToRemove = new Set<string>();\n\n    const items = parentTestItem ? parentTestItem.children : this.testController.items;\n\n    items.forEach((i) => {\n      if (!addedIds.has(i.id)) {\n        itemsToRemove.add(i.id);\n      }\n    });\n    itemsToRemove.forEach((i) => {\n      items.delete(i);\n      this.testItems.delete(i);\n    });\n\n    return itemsToRemove.size > 0;\n  }\n\n  private testTags = new WeakValueMap<string, vscode.TestTag>();\n\n  private convertTags(tags: string[] | undefined): vscode.TestTag[] | undefined {\n    if (tags === undefined) return undefined;\n\n    const result: vscode.TestTag[] = [];\n\n    for (const tag of tags) {\n      if (!this.testTags.has(tag)) {\n        this.testTags.set(tag, new vscode.TestTag(tag));\n      }\n      const vstag = this.testTags.get(tag);\n      if (vstag !== undefined) result.push(vstag);\n    }\n\n    return result;\n  }\n\n  private readonly refreshFromUriMutex = new Mutex();\n\n  private async refreshWorkspace(workspace?: vscode.WorkspaceFolder, _reason?: string): Promise<void> {\n    return this.refreshFromUriMutex.dispatch(async () => {\n      if (workspace) {\n        const entry = this.robotTestItems.get(workspace);\n        if (entry !== undefined) {\n          entry.valid = false;\n        } else {\n          this.removeWorkspaceFolderItems(workspace);\n        }\n      } else {\n        for (const w of vscode.workspace.workspaceFolders ?? []) {\n          this.removeWorkspaceFolderItems(w);\n        }\n      }\n      await sleep(5);\n      await this.refresh();\n    });\n  }\n\n  private refreshUri(uri?: vscode.Uri, reason?: string) {\n    if (uri) {\n      this.outputChannel.appendLine(`refresh uri ${uri.toString()}`);\n\n      const workspace = vscode.workspace.getWorkspaceFolder(uri);\n      if (workspace === undefined) return;\n\n      if (this.didChangedTimer.has(uri.toString())) return;\n\n      if (this.fileChangeTimer) {\n        this.fileChangeTimer.cancel();\n        this.fileChangeTimer = undefined;\n      }\n\n      const token = new vscode.CancellationTokenSource();\n\n      this.fileChangeTimer = new DidChangeEntry(\n        setTimeout(() => {\n          this.refreshWorkspace(workspace, reason).then(\n            () => undefined,\n            () => undefined\n          );\n        }, 500),\n        token\n      );\n    } else {\n      if (this.fileChangeTimer) {\n        this.fileChangeTimer.cancel();\n        this.fileChangeTimer = undefined;\n      }\n\n      this.refresh().then(\n        (_) => undefined,\n        (_) => undefined\n      );\n    }\n  }\n\n  private findWorkspaceForItem(item: vscode.TestItem): vscode.WorkspaceFolder | undefined {\n    if (item.uri !== undefined) {\n      return vscode.workspace.getWorkspaceFolder(item.uri);\n    }\n\n    let parent: vscode.TestItem | undefined = item;\n    while (parent?.parent !== undefined) {\n      parent = parent.parent;\n    }\n\n    if (parent) item = parent;\n\n    for (const ws of vscode.workspace.workspaceFolders ?? []) {\n      if (this.robotTestItems.has(ws)) {\n        if (this.robotTestItems.get(ws)?.items?.find((w) => w.id === item.id) !== undefined) {\n          return ws;\n        }\n      }\n    }\n    return undefined;\n  }\n\n  private readonly testRuns = new Map<string, vscode.TestRun>();\n\n  private mapTestItemsToWorkspace(items: vscode.TestItem[]): Map<vscode.WorkspaceFolder, vscode.TestItem[]> {\n    const folders = new Map<vscode.WorkspaceFolder, vscode.TestItem[]>();\n    for (const i of items) {\n      const ws = this.findWorkspaceForItem(i);\n      if (ws !== undefined) {\n        if (!folders.has(ws)) {\n          folders.set(ws, []);\n        }\n        folders.get(ws)?.push(i);\n      }\n    }\n    return folders;\n  }\n\n  private static _runIdCounter = 0;\n\n  private static *runIdGenerator(): Iterator<string> {\n    while (true) {\n      yield (this._runIdCounter++).toString();\n    }\n  }\n\n  private static readonly runId = TestControllerManager.runIdGenerator();\n\n  public async runTests(\n    request: vscode.TestRunRequest,\n    token: vscode.CancellationToken,\n    dryRun?: boolean\n  ): Promise<void> {\n    let includedItems: vscode.TestItem[] = [];\n\n    if (request.include) {\n      includedItems = Array.from(request.include);\n    } else {\n      this.testController.items.forEach((test) => {\n        const robotTest = this.findRobotItem(test);\n        if (robotTest?.type === \"error\") {\n          return;\n        } else if (robotTest?.type === \"workspace\") {\n          test.children.forEach((v) => includedItems.push(v));\n        } else {\n          includedItems.push(test);\n        }\n      });\n    }\n\n    const included = this.mapTestItemsToWorkspace(includedItems);\n    const excluded = this.mapTestItemsToWorkspace(request.exclude ? Array.from(request.exclude) : []);\n\n    if (included.size === 0) return;\n\n    const run = this.testController.createTestRun(request);\n    let run_started = false;\n\n    token.onCancellationRequested(async (_) => {\n      for (const e of this.testRuns.keys()) {\n        for (const session of this.debugSessions) {\n          if (session.configuration.runId === e) {\n            await vscode.debug.stopDebugging(session);\n          }\n        }\n      }\n    });\n\n    for (const [workspace, testItems] of included) {\n      const runId = TestControllerManager.runId.next().value;\n      this.testRuns.set(runId, run);\n\n      let options = {};\n      if (request.profile !== undefined && request.profile.kind !== vscode.TestRunProfileKind.Debug) {\n        options = {\n          noDebug: true,\n        };\n      }\n\n      let workspaceItem = this.findTestItemByUri(workspace.uri.toString());\n      const workspaceRobotItem = workspaceItem ? this.findRobotItem(workspaceItem) : undefined;\n\n      if (workspaceRobotItem?.type == \"workspace\" && workspaceRobotItem.children?.length) {\n        workspaceItem = workspaceItem?.children.get(workspaceRobotItem.children[0].id);\n      }\n\n      if (includedItems.length === 1 && includedItems[0] === workspaceItem && excluded.size === 0) {\n        run_started = run_started || (await DebugManager.runTests(workspace, [], [], [], runId, options, dryRun));\n      } else {\n        const includedInWs = testItems\n          .map((i) => {\n            const ritem = this.findRobotItem(i);\n            if (ritem?.type == \"workspace\" && ritem.children?.length) {\n              return ritem.children[0].longname;\n            }\n            return ritem?.longname;\n          })\n          .filter((i) => i !== undefined) as string[];\n        const excludedInWs =\n          (excluded\n            .get(workspace)\n            ?.map((i) => {\n              const ritem = this.findRobotItem(i);\n              if (ritem?.type == \"workspace\" && ritem.children?.length) {\n                return ritem.children[0].longname;\n              }\n              return ritem?.longname;\n            })\n            .filter((i) => i !== undefined) as string[]) ?? [];\n\n        const suites = new Set<string>();\n\n        for (const testItem of [...testItems, ...(excluded.get(workspace) || [])]) {\n          if (!testItem?.canResolveChildren) {\n            if (testItem?.parent) {\n              const longname = this.findRobotItem(testItem?.parent)?.longname;\n              if (longname) suites.add(longname);\n            }\n          } else {\n            const ritem = this.findRobotItem(testItem);\n            let longname = ritem?.longname;\n            if (ritem?.type == \"workspace\" && ritem.children?.length) {\n              longname = ritem.children[0].longname;\n            }\n            if (longname) suites.add(longname);\n          }\n        }\n\n        let suiteName: string | undefined = undefined;\n\n        if (workspaceRobotItem?.type == \"workspace\" && workspaceRobotItem.children?.length) {\n          suiteName = workspaceRobotItem.children[0].longname;\n        }\n\n        run_started =\n          run_started ||\n          (await DebugManager.runTests(\n            workspace,\n            Array.from(suites),\n            includedInWs,\n            excludedInWs,\n            runId,\n            options,\n            dryRun,\n            suiteName\n          ));\n      }\n    }\n\n    if (!run_started) {\n      run.end();\n    }\n  }\n\n  private TestRunExited(runId: string | undefined) {\n    if (runId === undefined) return;\n\n    const run = this.testRuns.get(runId);\n    this.testRuns.delete(runId);\n    if (run !== undefined) {\n      if (Array.from(this.testRuns.values()).indexOf(run) === -1) {\n        run.end();\n      }\n    }\n  }\n\n  private TestItemEnqueued(runId: string | undefined, items: string[] | undefined) {\n    if (runId === undefined || items === undefined) return;\n\n    const run = this.testRuns.get(runId);\n\n    if (run !== undefined) {\n      for (const id of items) {\n        const item = this.findTestItemById(id);\n        if (item !== undefined) {\n          run.enqueued(item);\n        }\n      }\n    }\n  }\n\n  private OnRobotStartedEvent(runId: string | undefined, event: RobotExecutionEvent) {\n    switch (event.type) {\n      case \"suite\":\n      case \"test\":\n        this.TestItemStarted(runId, event);\n        break;\n      default:\n        // do nothing\n        break;\n    }\n  }\n\n  private TestItemStarted(runId: string | undefined, event: RobotExecutionEvent) {\n    if (runId === undefined || event.attributes?.longname === undefined) return;\n\n    const run = this.testRuns.get(runId);\n\n    if (run !== undefined) {\n      const item = this.findTestItemById(event.id);\n      if (item !== undefined) {\n        run.started(item);\n      }\n    }\n  }\n\n  private OnRobotEndedEvent(runId: string | undefined, event: RobotExecutionEvent) {\n    switch (event.type) {\n      case \"suite\":\n      case \"test\":\n        this.TestItemEnded(runId, event);\n        break;\n      default:\n        // do nothing\n        break;\n    }\n  }\n\n  private TestItemEnded(runId: string | undefined, event: RobotExecutionEvent) {\n    if (runId === undefined || event.attributes?.longname === undefined) return;\n\n    const run = this.testRuns.get(runId);\n\n    if (run !== undefined) {\n      const item = this.findTestItemById(event.id);\n      if (item !== undefined) {\n        switch (event.attributes.status) {\n          case \"PASS\":\n            run.passed(item, event.attributes.elapsedtime);\n            break;\n          case \"SKIP\":\n            run.skipped(item);\n            break;\n          default:\n            {\n              const messages: vscode.TestMessage[] = [];\n\n              if (event.failedKeywords) {\n                for (const keyword of event.failedKeywords) {\n                  const message = new vscode.TestMessage(keyword.message ?? \"\");\n\n                  if (keyword.source) {\n                    message.location = new vscode.Location(\n                      vscode.Uri.file(keyword.source),\n                      new vscode.Range(\n                        new vscode.Position((keyword.lineno ?? 1) - 1, 0),\n                        new vscode.Position(keyword.lineno ?? 1, 0)\n                      )\n                    );\n                  }\n\n                  messages.push(message);\n                }\n              }\n              if (\n                !event.attributes?.message ||\n                !event.failedKeywords?.find((v) => v.message === event.attributes?.message)\n              ) {\n                const message = new vscode.TestMessage(event.attributes.message ?? \"\");\n\n                if (event.attributes.source) {\n                  message.location = new vscode.Location(\n                    vscode.Uri.file(event.attributes.source),\n                    new vscode.Range(\n                      new vscode.Position((event.attributes.lineno ?? 1) - 1, 0),\n                      new vscode.Position(event.attributes.lineno ?? 1, 0)\n                    )\n                  );\n                }\n                messages.push(message);\n              }\n\n              if (event.attributes.status === \"FAIL\") {\n                if (!item.canResolveChildren || (messages.length > 0 && messages.some((m) => m.message)))\n                  run.failed(item, messages, event.attributes.elapsedtime);\n              } else {\n                run.errored(item, messages, event.attributes.elapsedtime);\n              }\n            }\n            break;\n        }\n      }\n    }\n  }\n\n  private OnRobotLogMessageEvent(runId: string | undefined, event: RobotLogMessageEvent): void {\n    if (runId === undefined) return;\n\n    const run = this.testRuns.get(runId);\n\n    if (run !== undefined) {\n      // TODO add location to appendOutput, VSCode testextension is buggy at this time\n      // const location =\n      //   event.source !== undefined\n      //     ? new vscode.Location(\n      //         vscode.Uri.file(event.source),\n      //         new vscode.Range(\n      //           new vscode.Position((event.lineno ?? 1) - 1, event.column ?? 0),\n      //           new vscode.Position(event.lineno ?? 1, event.column ?? 0)\n      //         )\n      //       )\n      //     : undefined;\n\n      let style = (s: string) => s;\n      switch (event.level) {\n        case \"WARN\":\n          style = yellow;\n          break;\n        case \"ERROR\":\n          style = red;\n          break;\n      }\n\n      run.appendOutput(\n        style(`${event.level}: ${event.message.replaceAll(\"\\n\", \"\\r\\n\")}` + \"\\r\\n\"),\n        // location,\n        undefined,\n        event.itemId !== undefined ? this.findTestItemById(event.itemId) : undefined\n      );\n    }\n  }\n}\n","export async function sleep(timeout: number): Promise<number> {\n  return new Promise<number>((resolve) => {\n    setTimeout(() => resolve(timeout), timeout);\n  });\n}\n\nexport class Mutex {\n  private mutex = Promise.resolve();\n\n  lock(): PromiseLike<() => void> {\n    let begin: (unlock: () => void) => void = (_unlock) => {\n      // empty\n    };\n\n    this.mutex = this.mutex.then(() => new Promise(begin));\n\n    return new Promise((resolve) => {\n      begin = resolve;\n    });\n  }\n\n  async dispatch<T>(fn: (() => T) | (() => PromiseLike<T>)): Promise<T> {\n    const unlock = await this.lock();\n    try {\n      return await Promise.resolve(fn()).finally(() => unlock());\n    } finally {\n      unlock();\n    }\n  }\n}\n\nexport class WeakValueMap<K, V extends object> implements Map<K, V> {\n  private map = new Map<K, WeakRef<V>>();\n\n  private finalizer = new FinalizationRegistry<K>((v) => {\n    this.map.delete(v);\n  });\n\n  public clear(): void {\n    for (const key of this.map.keys()) {\n      this.delete(key);\n    }\n  }\n\n  public delete(key: K): boolean {\n    const ref = this.map.get(key);\n    if (ref !== undefined) this.finalizer.unregister(ref);\n    this.map.delete(key);\n    return true;\n  }\n\n  public forEach(callbackfn: (value: V, key: K, map: Map<K, V>) => void, thisArg?: unknown): void {\n    for (const [key, value] of this.entries()) {\n      callbackfn.bind(thisArg)(value, key, this);\n    }\n  }\n\n  public get(key: K): V | undefined {\n    const w = this.map.get(key);\n    if (w !== undefined) return w.deref();\n    return undefined;\n  }\n\n  public has(key: K): boolean {\n    return this.map.has(key);\n  }\n\n  public set(key: K, value: V): this {\n    if (this.map.has(key)) {\n      const oldref = this.map.get(key);\n      if (oldref !== undefined) this.finalizer.unregister(oldref);\n    }\n\n    const ref = new WeakRef(value);\n    this.map.set(key, ref);\n    this.finalizer.register(value, key, ref);\n    return this;\n  }\n\n  public get size(): number {\n    return this.map.size;\n  }\n\n  [Symbol.iterator](): IterableIterator<[K, V]> {\n    return this.entries();\n  }\n\n  *entries(): IterableIterator<[K, V]> {\n    for (const [key, value] of this.map) {\n      const v = value.deref();\n      if (v !== undefined) yield [key, v];\n    }\n  }\n\n  keys(): IterableIterator<K> {\n    return this.map.keys();\n  }\n\n  *values(): IterableIterator<V> {\n    for (const value of this.map.values()) {\n      const v = value.deref();\n      if (v !== undefined) yield v;\n    }\n  }\n\n  readonly [Symbol.toStringTag]: string = \"WeakValueMap\";\n}\n\nexport class WeakValueSet<V extends object> implements Set<V> {\n  private set = new Set<WeakRef<V>>();\n\n  private finalizer = new FinalizationRegistry<WeakRef<V>>((v) => {\n    this.set.delete(v);\n  });\n\n  add(value: V): this {\n    const ref = new WeakRef<V>(value);\n    this.set.add(ref);\n    this.finalizer.register(value, ref, ref);\n\n    return this;\n  }\n\n  clear(): void {\n    for (const v of this.set) {\n      this.finalizer.unregister(v);\n    }\n    this.set.clear();\n  }\n\n  delete(value: V): boolean {\n    if (value === undefined) return false;\n    let ref: WeakRef<V> | undefined;\n    for (const r of this.set) {\n      if (r.deref() === value) {\n        ref = r;\n        break;\n      }\n    }\n    if (ref === undefined) return false;\n    this.set.delete(ref);\n    return true;\n  }\n\n  forEach(callbackfn: (value: V, value2: V, set: Set<V>) => void, thisArg?: unknown): void {\n    for (const [key, value] of this.entries()) {\n      callbackfn.bind(thisArg)(value, key, this);\n    }\n  }\n\n  has(value: V): boolean {\n    if (value === undefined) return false;\n\n    for (const r of this.set) {\n      if (r.deref() === value) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  get size(): number {\n    return this.set.size;\n  }\n\n  *entries(): IterableIterator<[V, V]> {\n    for (const value of this.set) {\n      const v = value.deref();\n      if (v !== undefined) yield [v, v];\n    }\n  }\n\n  *keys(): IterableIterator<V> {\n    for (const value of this.set) {\n      const v = value.deref();\n      if (v !== undefined) yield v;\n    }\n  }\n\n  *values(): IterableIterator<V> {\n    for (const value of this.set) {\n      const v = value.deref();\n      if (v !== undefined) yield v;\n    }\n  }\n\n  [Symbol.iterator](): IterableIterator<V> {\n    return this.values();\n  }\n\n  readonly [Symbol.toStringTag]: string = \"WeakValueSet\";\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceValues = exports.Trace = exports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.AbstractMessageBuffer = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst messageBuffer_1 = require(\"./messageBuffer\");\nObject.defineProperty(exports, \"AbstractMessageBuffer\", { enumerable: true, get: function () { return messageBuffer_1.AbstractMessageBuffer; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken = exports.ProgressToken || (exports.ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues = exports.TraceValues || (exports.TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.Message.isRequest(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.Message.isNotification(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.Message.isResponse(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch(() => logger.error(`Sending notification failed.`));\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage).catch(() => logger.error(`Sending request failed.`));\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises.set(id, responsePromise);\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message = exports.Message || (exports.Message = {}));\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.PortMessageWriter = exports.PortMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        const eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass PortMessageReader extends api_1.AbstractMessageReader {\n    constructor(port) {\n        super();\n        this.onData = new api_1.Emitter;\n        port.on('close', () => this.fireClose);\n        port.on('error', (error) => this.fireError(error));\n        port.on('message', (message) => {\n            this.onData.fire(message);\n        });\n    }\n    listen(callback) {\n        return this.onData.event(callback);\n    }\n}\nexports.PortMessageReader = PortMessageReader;\nclass PortMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(port) {\n        super();\n        this.port = port;\n        this.errorCount = 0;\n        port.on('close', () => this.fireClose());\n        port.on('error', (error) => this.fireError(error));\n    }\n    write(msg) {\n        try {\n            this.port.postMessage(msg);\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.PortMessageWriter = PortMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readable, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readable), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"util\");\nconst api_1 = require(\"../common/api\");\nclass MessageBuffer extends api_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return api_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        api_1.RAL.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticPullMode = exports.vsdiag = void 0;\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\n__exportStar(require(\"./features\"), exports);\nvar diagnostic_1 = require(\"./diagnostic\");\nObject.defineProperty(exports, \"vsdiag\", { enumerable: true, get: function () { return diagnostic_1.vsdiag; } });\nObject.defineProperty(exports, \"DiagnosticPullMode\", { enumerable: true, get: function () { return diagnostic_1.DiagnosticPullMode; } });\n__exportStar(require(\"./client\"), exports);\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass CallHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareCallHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareCallHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareCallHierarchy\n            ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy)\n            : prepareCallHierarchy(document, position, token);\n    }\n    provideCallHierarchyIncomingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyIncomingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyIncomingCalls\n            ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls)\n            : provideCallHierarchyIncomingCalls(item, token);\n    }\n    provideCallHierarchyOutgoingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyOutgoingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyOutgoingCalls\n            ? middleware.provideCallHierarchyOutgoingCalls(item, token, provideCallHierarchyOutgoingCalls)\n            : provideCallHierarchyOutgoingCalls(item, token);\n    }\n}\nclass CallHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(cap) {\n        const capabilities = cap;\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'callHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new CallHierarchyProvider(client);\n        return [vscode_1.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.BaseLanguageClient = exports.MessageTransports = exports.SuspendMode = exports.State = exports.CloseAction = exports.ErrorAction = exports.RevealOutputChannelOn = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst c2p = require(\"./codeConverter\");\nconst p2c = require(\"./protocolConverter\");\nconst Is = require(\"./utils/is\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nconst progressPart_1 = require(\"./progressPart\");\nconst features_1 = require(\"./features\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst configuration_1 = require(\"./configuration\");\nconst textSynchronization_1 = require(\"./textSynchronization\");\nconst completion_1 = require(\"./completion\");\nconst hover_1 = require(\"./hover\");\nconst definition_1 = require(\"./definition\");\nconst signatureHelp_1 = require(\"./signatureHelp\");\nconst documentHighlight_1 = require(\"./documentHighlight\");\nconst documentSymbol_1 = require(\"./documentSymbol\");\nconst workspaceSymbol_1 = require(\"./workspaceSymbol\");\nconst reference_1 = require(\"./reference\");\nconst codeAction_1 = require(\"./codeAction\");\nconst codeLens_1 = require(\"./codeLens\");\nconst formatting_1 = require(\"./formatting\");\nconst rename_1 = require(\"./rename\");\nconst documentLink_1 = require(\"./documentLink\");\nconst executeCommand_1 = require(\"./executeCommand\");\nconst fileSystemWatcher_1 = require(\"./fileSystemWatcher\");\nconst colorProvider_1 = require(\"./colorProvider\");\nconst implementation_1 = require(\"./implementation\");\nconst typeDefinition_1 = require(\"./typeDefinition\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst foldingRange_1 = require(\"./foldingRange\");\nconst declaration_1 = require(\"./declaration\");\nconst selectionRange_1 = require(\"./selectionRange\");\nconst progress_1 = require(\"./progress\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst inlayHint_1 = require(\"./inlayHint\");\n/**\n * Controls when the output channel is revealed.\n */\nvar RevealOutputChannelOn;\n(function (RevealOutputChannelOn) {\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\n})(RevealOutputChannelOn = exports.RevealOutputChannelOn || (exports.RevealOutputChannelOn = {}));\n/**\n * An action to be performed when the connection is producing errors.\n */\nvar ErrorAction;\n(function (ErrorAction) {\n    /**\n     * Continue running the server.\n     */\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\n    /**\n     * Shutdown the server.\n     */\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\n})(ErrorAction = exports.ErrorAction || (exports.ErrorAction = {}));\n/**\n * An action to be performed when the connection to a server got closed.\n */\nvar CloseAction;\n(function (CloseAction) {\n    /**\n     * Don't restart the server. The connection stays closed.\n     */\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\n    /**\n     * Restart the server.\n     */\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\n})(CloseAction = exports.CloseAction || (exports.CloseAction = {}));\n/**\n * Signals in which state the language client is in.\n */\nvar State;\n(function (State) {\n    /**\n     * The client is stopped or got never started.\n     */\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\n    /**\n     * The client is starting but not ready yet.\n     */\n    State[State[\"Starting\"] = 3] = \"Starting\";\n    /**\n     * The client is running and ready.\n     */\n    State[State[\"Running\"] = 2] = \"Running\";\n})(State = exports.State || (exports.State = {}));\nvar SuspendMode;\n(function (SuspendMode) {\n    /**\n     * Don't allow suspend mode.\n     */\n    SuspendMode[\"off\"] = \"off\";\n    /**\n     * Support suspend mode even if not all\n     * registered providers have a corresponding\n     * activation listener.\n     */\n    SuspendMode[\"on\"] = \"on\";\n})(SuspendMode = exports.SuspendMode || (exports.SuspendMode = {}));\nclass DefaultErrorHandler {\n    constructor(client, maxRestartCount) {\n        this.client = client;\n        this.maxRestartCount = maxRestartCount;\n        this.restarts = [];\n    }\n    error(_error, _message, count) {\n        if (count && count <= 3) {\n            return { action: ErrorAction.Continue };\n        }\n        return { action: ErrorAction.Shutdown };\n    }\n    closed() {\n        this.restarts.push(Date.now());\n        if (this.restarts.length <= this.maxRestartCount) {\n            return { action: CloseAction.Restart };\n        }\n        else {\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\n            if (diff <= 3 * 60 * 1000) {\n                return { action: CloseAction.DoNotRestart, message: `The ${this.client.name} server crashed ${this.maxRestartCount + 1} times in the last 3 minutes. The server will not be restarted. See the output for more information.` };\n            }\n            else {\n                this.restarts.shift();\n                return { action: CloseAction.Restart };\n            }\n        }\n    }\n}\nvar ClientState;\n(function (ClientState) {\n    ClientState[\"Initial\"] = \"initial\";\n    ClientState[\"Starting\"] = \"starting\";\n    ClientState[\"StartFailed\"] = \"startFailed\";\n    ClientState[\"Running\"] = \"running\";\n    ClientState[\"Stopping\"] = \"stopping\";\n    ClientState[\"Stopped\"] = \"stopped\";\n})(ClientState || (ClientState = {}));\nvar MessageTransports;\n(function (MessageTransports) {\n    function is(value) {\n        let candidate = value;\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\n    }\n    MessageTransports.is = is;\n})(MessageTransports = exports.MessageTransports || (exports.MessageTransports = {}));\nclass BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        this._diagnosticQueue = new Map();\n        this._diagnosticQueueState = { state: 'idle' };\n        this._features = [];\n        this._dynamicFeatures = new Map();\n        this.workspaceEditLock = new async_1.Semaphore(1);\n        this._id = id;\n        this._name = name;\n        clientOptions = clientOptions || {};\n        const markdown = { isTrusted: false, supportHtml: false };\n        if (clientOptions.markdown !== undefined) {\n            markdown.isTrusted = clientOptions.markdown.isTrusted === true;\n            markdown.supportHtml = clientOptions.markdown.supportHtml === true;\n        }\n        // const defaultInterval = (clientOptions as TestOptions).$testMode ? 50 : 60000;\n        this._clientOptions = {\n            documentSelector: clientOptions.documentSelector ?? [],\n            synchronize: clientOptions.synchronize ?? {},\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\n            outputChannelName: clientOptions.outputChannelName ?? this._name,\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn ?? RevealOutputChannelOn.Error,\n            stdioEncoding: clientOptions.stdioEncoding ?? 'utf8',\n            initializationOptions: clientOptions.initializationOptions,\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\n            progressOnInitialization: !!clientOptions.progressOnInitialization,\n            errorHandler: clientOptions.errorHandler ?? this.createDefaultErrorHandler(clientOptions.connectionOptions?.maxRestartCount),\n            middleware: clientOptions.middleware ?? {},\n            uriConverters: clientOptions.uriConverters,\n            workspaceFolder: clientOptions.workspaceFolder,\n            connectionOptions: clientOptions.connectionOptions,\n            markdown,\n            // suspend: {\n            // \tmode: clientOptions.suspend?.mode ?? SuspendMode.off,\n            // \tcallback: clientOptions.suspend?.callback ?? (() => Promise.resolve(true)),\n            // \tinterval: clientOptions.suspend?.interval ? Math.max(clientOptions.suspend.interval, defaultInterval) : defaultInterval\n            // },\n            diagnosticPullOptions: clientOptions.diagnosticPullOptions ?? { onChange: true, onSave: false },\n            notebookDocumentOptions: clientOptions.notebookDocumentOptions ?? {}\n        };\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\n        this._state = ClientState.Initial;\n        this._ignoredRegistrations = new Set();\n        this._listeners = [];\n        this._notificationHandlers = new Map();\n        this._pendingNotificationHandlers = new Map();\n        this._notificationDisposables = new Map();\n        this._requestHandlers = new Map();\n        this._pendingRequestHandlers = new Map();\n        this._requestDisposables = new Map();\n        this._progressHandlers = new Map();\n        this._pendingProgressHandlers = new Map();\n        this._progressDisposables = new Map();\n        this._connection = undefined;\n        // this._idleStart = undefined;\n        this._initializeResult = undefined;\n        if (clientOptions.outputChannel) {\n            this._outputChannel = clientOptions.outputChannel;\n            this._disposeOutputChannel = false;\n        }\n        else {\n            this._outputChannel = undefined;\n            this._disposeOutputChannel = true;\n        }\n        this._traceOutputChannel = clientOptions.traceOutputChannel;\n        this._diagnostics = undefined;\n        this._fileEvents = [];\n        this._fileEventDelayer = new async_1.Delayer(250);\n        this._onStop = undefined;\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n        this._tracer = {\n            log: (messageOrDataObject, data) => {\n                if (Is.string(messageOrDataObject)) {\n                    this.logTrace(messageOrDataObject, data);\n                }\n                else {\n                    this.logObjectTrace(messageOrDataObject);\n                }\n            },\n        };\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined, this._clientOptions.markdown.isTrusted, this._clientOptions.markdown.supportHtml);\n        this._syncedDocuments = new Map();\n        this.registerBuiltinFeatures();\n    }\n    get name() {\n        return this._name;\n    }\n    get middleware() {\n        return this._clientOptions.middleware ?? Object.create(null);\n    }\n    get clientOptions() {\n        return this._clientOptions;\n    }\n    get protocol2CodeConverter() {\n        return this._p2c;\n    }\n    get code2ProtocolConverter() {\n        return this._c2p;\n    }\n    get onTelemetry() {\n        return this._telemetryEmitter.event;\n    }\n    get onDidChangeState() {\n        return this._stateChangeEmitter.event;\n    }\n    get outputChannel() {\n        if (!this._outputChannel) {\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\n        }\n        return this._outputChannel;\n    }\n    get traceOutputChannel() {\n        if (this._traceOutputChannel) {\n            return this._traceOutputChannel;\n        }\n        return this.outputChannel;\n    }\n    get diagnostics() {\n        return this._diagnostics;\n    }\n    get state() {\n        return this.getPublicState();\n    }\n    get $state() {\n        return this._state;\n    }\n    set $state(value) {\n        let oldState = this.getPublicState();\n        this._state = value;\n        let newState = this.getPublicState();\n        if (newState !== oldState) {\n            this._stateChangeEmitter.fire({ oldState, newState });\n        }\n    }\n    getPublicState() {\n        switch (this.$state) {\n            case ClientState.Starting:\n                return State.Starting;\n            case ClientState.Running:\n                return State.Running;\n            default:\n                return State.Stopped;\n        }\n    }\n    get initializeResult() {\n        return this._initializeResult;\n    }\n    async sendRequest(type, ...params) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            await this.forceDocumentSync();\n            return connection.sendRequest(type, ...params);\n        }\n        catch (error) {\n            this.error(`Sending request ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onRequest(type, handler) {\n        const method = typeof type === 'string' ? type : type.method;\n        this._requestHandlers.set(method, handler);\n        const connection = this.activeConnection();\n        let disposable;\n        if (connection !== undefined) {\n            this._requestDisposables.set(method, connection.onRequest(type, handler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._requestDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._requestDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingRequestHandlers.set(method, handler);\n            disposable = {\n                dispose: () => {\n                    this._pendingRequestHandlers.delete(method);\n                    const disposable = this._requestDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._requestDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._requestHandlers.delete(method);\n                disposable.dispose();\n            }\n        };\n    }\n    async sendNotification(type, params) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            await this.forceDocumentSync();\n            return connection.sendNotification(type, params);\n        }\n        catch (error) {\n            this.error(`Sending notification ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onNotification(type, handler) {\n        const method = typeof type === 'string' ? type : type.method;\n        this._notificationHandlers.set(method, handler);\n        const connection = this.activeConnection();\n        let disposable;\n        if (connection !== undefined) {\n            this._notificationDisposables.set(method, connection.onNotification(type, handler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._notificationDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._notificationDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingNotificationHandlers.set(method, handler);\n            disposable = {\n                dispose: () => {\n                    this._pendingNotificationHandlers.delete(method);\n                    const disposable = this._notificationDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._notificationDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._notificationHandlers.delete(method);\n                disposable.dispose();\n            }\n        };\n    }\n    async sendProgress(type, token, value) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            return connection.sendProgress(type, token, value);\n        }\n        catch (error) {\n            this.error(`Sending progress for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    onProgress(type, token, handler) {\n        this._progressHandlers.set(token, { type, handler });\n        const connection = this.activeConnection();\n        let disposable;\n        const handleWorkDoneProgress = this._clientOptions.middleware?.handleWorkDoneProgress;\n        const realHandler = vscode_languageserver_protocol_1.WorkDoneProgress.is(type) && handleWorkDoneProgress !== undefined\n            ? (params) => {\n                handleWorkDoneProgress(token, params, () => handler(params));\n            }\n            : handler;\n        if (connection !== undefined) {\n            this._progressDisposables.set(token, connection.onProgress(type, token, realHandler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._progressDisposables.get(token);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._progressDisposables.delete(token);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingProgressHandlers.set(token, { type, handler });\n            disposable = {\n                dispose: () => {\n                    this._pendingProgressHandlers.delete(token);\n                    const disposable = this._progressDisposables.get(token);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._progressDisposables.delete(token);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._progressHandlers.delete(token);\n                disposable.dispose();\n            }\n        };\n    }\n    createDefaultErrorHandler(maxRestartCount) {\n        if (maxRestartCount !== undefined && maxRestartCount < 0) {\n            throw new Error(`Invalid maxRestartCount: ${maxRestartCount}`);\n        }\n        return new DefaultErrorHandler(this, maxRestartCount ?? 4);\n    }\n    async setTrace(value) {\n        this._trace = value;\n        const connection = this.activeConnection();\n        if (connection !== undefined) {\n            await connection.trace(this._trace, this._tracer, {\n                sendNotification: false,\n                traceFormat: this._traceFormat\n            });\n        }\n    }\n    data2String(data) {\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\n            const responseError = data;\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\n        }\n        if (data instanceof Error) {\n            if (Is.string(data.stack)) {\n                return data.stack;\n            }\n            return data.message;\n        }\n        if (Is.string(data)) {\n            return data;\n        }\n        return data.toString();\n    }\n    info(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Info  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Info) {\n            this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Info, message);\n        }\n    }\n    warn(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Warn  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Warn) {\n            this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Warning, message);\n        }\n    }\n    error(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Error - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification === 'force' || (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Error)) {\n            this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Error, message);\n        }\n    }\n    showNotificationMessage(type, message) {\n        message = message ?? 'A request has failed. See the output for more information.';\n        const messageFunc = type === vscode_languageserver_protocol_1.MessageType.Error\n            ? vscode_1.window.showErrorMessage\n            : type === vscode_languageserver_protocol_1.MessageType.Warning\n                ? vscode_1.window.showWarningMessage\n                : vscode_1.window.showInformationMessage;\n        void messageFunc(message, 'Go to output').then((selection) => {\n            if (selection !== undefined) {\n                this.outputChannel.show(true);\n            }\n        });\n    }\n    logTrace(message, data) {\n        this.traceOutputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.traceOutputChannel.appendLine(this.data2String(data));\n        }\n    }\n    logObjectTrace(data) {\n        if (data.isLSPMessage && data.type) {\n            this.traceOutputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\n        }\n        else {\n            this.traceOutputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\n        }\n        if (data) {\n            this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`);\n        }\n    }\n    needsStart() {\n        return this.$state === ClientState.Initial || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped;\n    }\n    needsStop() {\n        return this.$state === ClientState.Starting || this.$state === ClientState.Running;\n    }\n    activeConnection() {\n        return this.$state === ClientState.Running && this._connection !== undefined ? this._connection : undefined;\n    }\n    isRunning() {\n        return this.$state === ClientState.Running;\n    }\n    async start() {\n        if (this._disposed === 'disposing' || this._disposed === 'disposed') {\n            throw new Error(`Client got disposed and can't be restarted.`);\n        }\n        if (this.$state === ClientState.Stopping) {\n            throw new Error(`Client is currently stopping. Can only restart a full stopped client`);\n        }\n        // We are already running or are in the process of getting up\n        // to speed.\n        if (this._onStart !== undefined) {\n            return this._onStart;\n        }\n        const [promise, resolve, reject] = this.createOnStartPromise();\n        this._onStart = promise;\n        // If we restart then the diagnostics collection is reused.\n        if (this._diagnostics === undefined) {\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\n                : vscode_1.languages.createDiagnosticCollection();\n        }\n        // When we start make all buffer handlers pending so that they\n        // get added.\n        for (const [method, handler] of this._notificationHandlers) {\n            if (!this._pendingNotificationHandlers.has(method)) {\n                this._pendingNotificationHandlers.set(method, handler);\n            }\n        }\n        for (const [method, handler] of this._requestHandlers) {\n            if (!this._pendingRequestHandlers.has(method)) {\n                this._pendingRequestHandlers.set(method, handler);\n            }\n        }\n        for (const [token, data] of this._progressHandlers) {\n            if (!this._pendingProgressHandlers.has(token)) {\n                this._pendingProgressHandlers.set(token, data);\n            }\n        }\n        this.$state = ClientState.Starting;\n        try {\n            const connection = await this.createConnection();\n            connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, (message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        this.error(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        this.warn(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        this.info(message.message, undefined, false);\n                        break;\n                    default:\n                        this.outputChannel.appendLine(message.message);\n                }\n            });\n            connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, (message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        void vscode_1.window.showErrorMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        void vscode_1.window.showWarningMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        void vscode_1.window.showInformationMessage(message.message);\n                        break;\n                    default:\n                        void vscode_1.window.showInformationMessage(message.message);\n                }\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\n                let messageFunc;\n                switch (params.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        messageFunc = vscode_1.window.showErrorMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        messageFunc = vscode_1.window.showWarningMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                        break;\n                    default:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                }\n                let actions = params.actions || [];\n                return messageFunc(params.message, ...actions);\n            });\n            connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, (data) => {\n                this._telemetryEmitter.fire(data);\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, async (params) => {\n                const showDocument = async (params) => {\n                    const uri = this.protocol2CodeConverter.asUri(params.uri);\n                    try {\n                        if (params.external === true) {\n                            const success = await vscode_1.env.openExternal(uri);\n                            return { success };\n                        }\n                        else {\n                            const options = {};\n                            if (params.selection !== undefined) {\n                                options.selection = this.protocol2CodeConverter.asRange(params.selection);\n                            }\n                            if (params.takeFocus === undefined || params.takeFocus === false) {\n                                options.preserveFocus = true;\n                            }\n                            else if (params.takeFocus === true) {\n                                options.preserveFocus = false;\n                            }\n                            await vscode_1.window.showTextDocument(uri, options);\n                            return { success: true };\n                        }\n                    }\n                    catch (error) {\n                        return { success: false };\n                    }\n                };\n                const middleware = this._clientOptions.middleware.window?.showDocument;\n                if (middleware !== undefined) {\n                    return middleware(params, showDocument);\n                }\n                else {\n                    return showDocument(params);\n                }\n            });\n            connection.listen();\n            await this.initialize(connection);\n            resolve();\n        }\n        catch (error) {\n            this.$state = ClientState.StartFailed;\n            this.error(`${this._name} client: couldn't create connection to server.`, error, 'force');\n            reject(error);\n        }\n        return this._onStart;\n    }\n    createOnStartPromise() {\n        let resolve;\n        let reject;\n        const promise = new Promise((_resolve, _reject) => {\n            resolve = _resolve;\n            reject = _reject;\n        });\n        return [promise, resolve, reject];\n    }\n    async initialize(connection) {\n        this.refreshTrace(connection, false);\n        const initOption = this._clientOptions.initializationOptions;\n        // If the client is locked to a workspace folder use it. In this case the workspace folder\n        // feature is not registered and we need to initialize the value here.\n        const [rootPath, workspaceFolders] = this._clientOptions.workspaceFolder !== undefined\n            ? [this._clientOptions.workspaceFolder.uri.fsPath, [{ uri: this._c2p.asUri(this._clientOptions.workspaceFolder.uri), name: this._clientOptions.workspaceFolder.name }]]\n            : [this._clientGetRootPath(), null];\n        const initParams = {\n            processId: null,\n            clientInfo: {\n                name: vscode_1.env.appName,\n                version: vscode_1.version\n            },\n            locale: this.getLocale(),\n            rootPath: rootPath ? rootPath : null,\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\n            capabilities: this.computeClientCapabilities(),\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\n            workspaceFolders: workspaceFolders\n        };\n        this.fillInitializeParams(initParams);\n        if (this._clientOptions.progressOnInitialization) {\n            const token = UUID.generateUuid();\n            const part = new progressPart_1.ProgressPart(connection, token);\n            initParams.workDoneToken = token;\n            try {\n                const result = await this.doInitialize(connection, initParams);\n                part.done();\n                return result;\n            }\n            catch (error) {\n                part.cancel();\n                throw error;\n            }\n        }\n        else {\n            return this.doInitialize(connection, initParams);\n        }\n    }\n    async doInitialize(connection, initParams) {\n        try {\n            const result = await connection.initialize(initParams);\n            if (result.capabilities.positionEncoding !== undefined && result.capabilities.positionEncoding !== vscode_languageserver_protocol_1.PositionEncodingKind.UTF16) {\n                throw new Error(`Unsupported position encoding (${result.capabilities.positionEncoding}) received from server ${this.name}`);\n            }\n            this._initializeResult = result;\n            this.$state = ClientState.Running;\n            let textDocumentSyncOptions = undefined;\n            if (Is.number(result.capabilities.textDocumentSync)) {\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n                    textDocumentSyncOptions = {\n                        openClose: false,\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\n                        save: undefined\n                    };\n                }\n                else {\n                    textDocumentSyncOptions = {\n                        openClose: true,\n                        change: result.capabilities.textDocumentSync,\n                        save: {\n                            includeText: false\n                        }\n                    };\n                }\n            }\n            else if (result.capabilities.textDocumentSync !== undefined && result.capabilities.textDocumentSync !== null) {\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\n            }\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\n            connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params => this.handleDiagnostics(params));\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\n            // Add pending notification, request and progress handlers.\n            for (const [method, handler] of this._pendingNotificationHandlers) {\n                this._notificationDisposables.set(method, connection.onNotification(method, handler));\n            }\n            this._pendingNotificationHandlers.clear();\n            for (const [method, handler] of this._pendingRequestHandlers) {\n                this._requestDisposables.set(method, connection.onRequest(method, handler));\n            }\n            this._pendingRequestHandlers.clear();\n            for (const [token, data] of this._pendingProgressHandlers) {\n                this._progressDisposables.set(token, connection.onProgress(data.type, token, data.handler));\n            }\n            this._pendingProgressHandlers.clear();\n            // if (this._clientOptions.suspend.mode !== SuspendMode.off) {\n            // \tthis._idleInterval =  RAL().timer.setInterval(() => this.checkSuspend(), this._clientOptions.suspend.interval);\n            // }\n            await connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\n            this.hookFileEvents(connection);\n            this.hookConfigurationChanged(connection);\n            this.initializeFeatures(connection);\n            return result;\n        }\n        catch (error) {\n            if (this._clientOptions.initializationFailedHandler) {\n                if (this._clientOptions.initializationFailedHandler(error)) {\n                    void this.initialize(connection);\n                }\n                else {\n                    void this.stop();\n                }\n            }\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\n                void vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: 'retry' }).then(item => {\n                    if (item && item.id === 'retry') {\n                        void this.initialize(connection);\n                    }\n                    else {\n                        void this.stop();\n                    }\n                });\n            }\n            else {\n                if (error && error.message) {\n                    void vscode_1.window.showErrorMessage(error.message);\n                }\n                this.error('Server initialization failed.', error);\n                void this.stop();\n            }\n            throw error;\n        }\n    }\n    _clientGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    stop(timeout = 2000) {\n        // Wait 2 seconds on stop\n        return this.shutdown('stop', timeout);\n    }\n    dispose(timeout = 2000) {\n        try {\n            this._disposed = 'disposing';\n            return this.stop(timeout);\n        }\n        finally {\n            this._disposed = 'disposed';\n        }\n    }\n    async shutdown(mode, timeout) {\n        // If the client is stopped or in its initial state return.\n        if (this.$state === ClientState.Stopped || this.$state === ClientState.Initial) {\n            return;\n        }\n        // If we are stopping the client and have a stop promise return it.\n        if (this.$state === ClientState.Stopping) {\n            if (this._onStop !== undefined) {\n                return this._onStop;\n            }\n            else {\n                throw new Error(`Client is stopping but no stop promise available.`);\n            }\n        }\n        const connection = this.activeConnection();\n        // We can't stop a client that is not running (e.g. has no connection). Especially not\n        // on that us starting since it can't be correctly synchronized.\n        if (connection === undefined || this.$state !== ClientState.Running) {\n            throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);\n        }\n        this._initializeResult = undefined;\n        this.$state = ClientState.Stopping;\n        this.cleanUp(mode);\n        const tp = new Promise(c => { (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(c, timeout); });\n        const shutdown = (async (connection) => {\n            await connection.shutdown();\n            await connection.exit();\n            return connection;\n        })(connection);\n        return this._onStop = Promise.race([tp, shutdown]).then((connection) => {\n            // The connection won the race with the timeout.\n            if (connection !== undefined) {\n                connection.end();\n                connection.dispose();\n            }\n            else {\n                this.error(`Stopping server timed out`, undefined, false);\n                throw new Error(`Stopping the server timed out`);\n            }\n        }, (error) => {\n            this.error(`Stopping server failed`, error, false);\n            throw error;\n        }).finally(() => {\n            this.$state = ClientState.Stopped;\n            mode === 'stop' && this.cleanUpChannel();\n            this._onStart = undefined;\n            this._onStop = undefined;\n            this._connection = undefined;\n            this._ignoredRegistrations.clear();\n        });\n    }\n    cleanUp(mode) {\n        // purge outstanding file events.\n        this._fileEvents = [];\n        this._fileEventDelayer.cancel();\n        const disposables = this._listeners.splice(0, this._listeners.length);\n        for (const disposable of disposables) {\n            disposable.dispose();\n        }\n        if (this._syncedDocuments) {\n            this._syncedDocuments.clear();\n        }\n        // Dispose features in reverse order;\n        for (const feature of Array.from(this._features.entries()).map(entry => entry[1]).reverse()) {\n            feature.dispose();\n        }\n        if (mode === 'stop' && this._diagnostics !== undefined) {\n            this._diagnostics.dispose();\n            this._diagnostics = undefined;\n        }\n        if (this._idleInterval !== undefined) {\n            this._idleInterval.dispose();\n            this._idleInterval = undefined;\n        }\n        // this._idleStart = undefined;\n    }\n    cleanUpChannel() {\n        if (this._outputChannel !== undefined && this._disposeOutputChannel) {\n            this._outputChannel.dispose();\n            this._outputChannel = undefined;\n        }\n    }\n    notifyFileEvent(event) {\n        const client = this;\n        async function didChangeWatchedFile(event) {\n            client._fileEvents.push(event);\n            return client._fileEventDelayer.trigger(async () => {\n                const connection = await client.$start();\n                await client.forceDocumentSync();\n                const result = connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, { changes: client._fileEvents });\n                client._fileEvents = [];\n                return result;\n            });\n        }\n        const workSpaceMiddleware = this.clientOptions.middleware?.workspace;\n        (workSpaceMiddleware?.didChangeWatchedFile ? workSpaceMiddleware.didChangeWatchedFile(event, didChangeWatchedFile) : didChangeWatchedFile(event)).catch((error) => {\n            client.error(`Notify file events failed.`, error);\n        });\n    }\n    async forceDocumentSync() {\n        if (this._didChangeTextDocumentFeature === undefined) {\n            this._didChangeTextDocumentFeature = this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method);\n        }\n        return this._didChangeTextDocumentFeature.forceDelivery();\n    }\n    handleDiagnostics(params) {\n        if (!this._diagnostics) {\n            return;\n        }\n        const key = params.uri;\n        if (this._diagnosticQueueState.state === 'busy' && this._diagnosticQueueState.document === key) {\n            // Cancel the active run;\n            this._diagnosticQueueState.tokenSource.cancel();\n        }\n        this._diagnosticQueue.set(params.uri, params.diagnostics);\n        this.triggerDiagnosticQueue();\n    }\n    triggerDiagnosticQueue() {\n        (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => { this.workDiagnosticQueue(); });\n    }\n    workDiagnosticQueue() {\n        if (this._diagnosticQueueState.state === 'busy') {\n            return;\n        }\n        const next = this._diagnosticQueue.entries().next();\n        if (next.done === true) {\n            // Nothing in the queue\n            return;\n        }\n        const [document, diagnostics] = next.value;\n        this._diagnosticQueue.delete(document);\n        const tokenSource = new vscode_1.CancellationTokenSource();\n        this._diagnosticQueueState = { state: 'busy', document: document, tokenSource };\n        this._p2c.asDiagnostics(diagnostics, tokenSource.token).then((converted) => {\n            if (!tokenSource.token.isCancellationRequested) {\n                const uri = this._p2c.asUri(document);\n                const middleware = this.clientOptions.middleware;\n                if (middleware.handleDiagnostics) {\n                    middleware.handleDiagnostics(uri, converted, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\n                }\n                else {\n                    this.setDiagnostics(uri, converted);\n                }\n            }\n        }).finally(() => {\n            this._diagnosticQueueState = { state: 'idle' };\n            this.triggerDiagnosticQueue();\n        });\n    }\n    setDiagnostics(uri, diagnostics) {\n        if (!this._diagnostics) {\n            return;\n        }\n        this._diagnostics.set(uri, diagnostics);\n    }\n    async $start() {\n        if (this.$state === ClientState.StartFailed) {\n            throw new Error(`Previous start failed. Can't restart server.`);\n        }\n        await this.start();\n        const connection = this.activeConnection();\n        if (connection === undefined) {\n            throw new Error(`Starting server failed`);\n        }\n        return connection;\n    }\n    async createConnection() {\n        let errorHandler = (error, message, count) => {\n            this.handleConnectionError(error, message, count);\n        };\n        let closeHandler = () => {\n            this.handleConnectionClosed();\n        };\n        const transports = await this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8');\n        this._connection = createConnection(transports.reader, transports.writer, errorHandler, closeHandler, this._clientOptions.connectionOptions);\n        return this._connection;\n    }\n    handleConnectionClosed() {\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\n        if (this.$state === ClientState.Stopped) {\n            return;\n        }\n        try {\n            if (this._connection !== undefined) {\n                this._connection.dispose();\n            }\n        }\n        catch (error) {\n            // Disposing a connection could fail if error cases.\n        }\n        let handlerResult = { action: CloseAction.DoNotRestart };\n        if (this.$state !== ClientState.Stopping) {\n            try {\n                handlerResult = this._clientOptions.errorHandler.closed();\n            }\n            catch (error) {\n                // Ignore errors coming from the error handler.\n            }\n        }\n        this._connection = undefined;\n        if (handlerResult.action === CloseAction.DoNotRestart) {\n            this.error(handlerResult.message ?? 'Connection to server got closed. Server will not be restarted.', undefined, 'force');\n            this.cleanUp('stop');\n            if (this.$state === ClientState.Starting) {\n                this.$state = ClientState.StartFailed;\n            }\n            else {\n                this.$state = ClientState.Stopped;\n            }\n            this._onStop = Promise.resolve();\n            this._onStart = undefined;\n        }\n        else if (handlerResult.action === CloseAction.Restart) {\n            this.info(handlerResult.message ?? 'Connection to server got closed. Server will restart.');\n            this.cleanUp('restart');\n            this.$state = ClientState.Initial;\n            this._onStop = Promise.resolve();\n            this._onStart = undefined;\n            this.start().catch((error) => this.error(`Restarting server failed`, error, 'force'));\n        }\n    }\n    handleConnectionError(error, message, count) {\n        const handlerResult = this._clientOptions.errorHandler.error(error, message, count);\n        if (handlerResult.action === ErrorAction.Shutdown) {\n            this.error(handlerResult.message ?? `Client ${this._name}: connection to server is erroring. Shutting down server.`, undefined, 'force');\n            this.stop().catch((error) => {\n                this.error(`Stopping server failed`, error, false);\n            });\n        }\n    }\n    hookConfigurationChanged(connection) {\n        this._listeners.push(vscode_1.workspace.onDidChangeConfiguration(() => {\n            this.refreshTrace(connection, true);\n        }));\n    }\n    refreshTrace(connection, sendNotification = false) {\n        const config = vscode_1.workspace.getConfiguration(this._id);\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        if (config) {\n            const traceConfig = config.get('trace.server', 'off');\n            if (typeof traceConfig === 'string') {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\n            }\n            else {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\n            }\n        }\n        this._trace = trace;\n        this._traceFormat = traceFormat;\n        connection.trace(this._trace, this._tracer, {\n            sendNotification,\n            traceFormat: this._traceFormat\n        }).catch((error) => { this.error(`Updating trace failed with error`, error, false); });\n    }\n    hookFileEvents(_connection) {\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\n        if (!fileEvents) {\n            return;\n        }\n        let watchers;\n        if (Is.array(fileEvents)) {\n            watchers = fileEvents;\n        }\n        else {\n            watchers = [fileEvents];\n        }\n        if (!watchers) {\n            return;\n        }\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\n    }\n    registerFeatures(features) {\n        for (let feature of features) {\n            this.registerFeature(feature);\n        }\n    }\n    registerFeature(feature) {\n        this._features.push(feature);\n        if (features_1.DynamicFeature.is(feature)) {\n            const registrationType = feature.registrationType;\n            this._dynamicFeatures.set(registrationType.method, feature);\n        }\n    }\n    getFeature(request) {\n        return this._dynamicFeatures.get(request);\n    }\n    hasDedicatedTextSynchronizationFeature(textDocument) {\n        const feature = this.getFeature(vscode_languageserver_protocol_1.NotebookDocumentSyncRegistrationType.method);\n        if (feature === undefined || !(feature instanceof notebook_1.NotebookDocumentSyncFeature)) {\n            return false;\n        }\n        return feature.handles(textDocument);\n    }\n    registerBuiltinFeatures() {\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\n        this.registerFeature(new textSynchronization_1.DidOpenTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new textSynchronization_1.DidChangeTextDocumentFeature(this));\n        this.registerFeature(new textSynchronization_1.WillSaveFeature(this));\n        this.registerFeature(new textSynchronization_1.WillSaveWaitUntilFeature(this));\n        this.registerFeature(new textSynchronization_1.DidSaveTextDocumentFeature(this));\n        this.registerFeature(new textSynchronization_1.DidCloseTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new fileSystemWatcher_1.FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\n        this.registerFeature(new completion_1.CompletionItemFeature(this));\n        this.registerFeature(new hover_1.HoverFeature(this));\n        this.registerFeature(new signatureHelp_1.SignatureHelpFeature(this));\n        this.registerFeature(new definition_1.DefinitionFeature(this));\n        this.registerFeature(new reference_1.ReferencesFeature(this));\n        this.registerFeature(new documentHighlight_1.DocumentHighlightFeature(this));\n        this.registerFeature(new documentSymbol_1.DocumentSymbolFeature(this));\n        this.registerFeature(new workspaceSymbol_1.WorkspaceSymbolFeature(this));\n        this.registerFeature(new codeAction_1.CodeActionFeature(this));\n        this.registerFeature(new codeLens_1.CodeLensFeature(this));\n        this.registerFeature(new formatting_1.DocumentFormattingFeature(this));\n        this.registerFeature(new formatting_1.DocumentRangeFormattingFeature(this));\n        this.registerFeature(new formatting_1.DocumentOnTypeFormattingFeature(this));\n        this.registerFeature(new rename_1.RenameFeature(this));\n        this.registerFeature(new documentLink_1.DocumentLinkFeature(this));\n        this.registerFeature(new executeCommand_1.ExecuteCommandFeature(this));\n        this.registerFeature(new configuration_1.SyncConfigurationFeature(this));\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\n        // We only register the workspace folder feature if the client is not locked\n        // to a specific workspace folder.\n        if (this.clientOptions.workspaceFolder === undefined) {\n            this.registerFeature(new workspaceFolder_1.WorkspaceFoldersFeature(this));\n        }\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\n        this.registerFeature(new selectionRange_1.SelectionRangeFeature(this));\n        this.registerFeature(new progress_1.ProgressFeature(this));\n        this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this));\n        this.registerFeature(new semanticTokens_1.SemanticTokensFeature(this));\n        this.registerFeature(new linkedEditingRange_1.LinkedEditingFeature(this));\n        this.registerFeature(new fileOperations_1.DidCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidDeleteFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillDeleteFilesFeature(this));\n        this.registerFeature(new typeHierarchy_1.TypeHierarchyFeature(this));\n        this.registerFeature(new inlineValue_1.InlineValueFeature(this));\n        this.registerFeature(new inlayHint_1.InlayHintsFeature(this));\n        this.registerFeature(new diagnostic_1.DiagnosticFeature(this));\n        this.registerFeature(new notebook_1.NotebookDocumentSyncFeature(this));\n    }\n    registerProposedFeatures() {\n        this.registerFeatures(ProposedFeatures.createAll(this));\n    }\n    fillInitializeParams(params) {\n        for (let feature of this._features) {\n            if (Is.func(feature.fillInitializeParams)) {\n                feature.fillInitializeParams(params);\n            }\n        }\n    }\n    computeClientCapabilities() {\n        const result = {};\n        (0, features_1.ensure)(result, 'workspace').applyEdit = true;\n        const workspaceEdit = (0, features_1.ensure)((0, features_1.ensure)(result, 'workspace'), 'workspaceEdit');\n        workspaceEdit.documentChanges = true;\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\n        workspaceEdit.normalizesLineEndings = true;\n        workspaceEdit.changeAnnotationSupport = {\n            groupsOnLabel: true\n        };\n        const diagnostics = (0, features_1.ensure)((0, features_1.ensure)(result, 'textDocument'), 'publishDiagnostics');\n        diagnostics.relatedInformation = true;\n        diagnostics.versionSupport = false;\n        diagnostics.tagSupport = { valueSet: [vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary, vscode_languageserver_protocol_1.DiagnosticTag.Deprecated] };\n        diagnostics.codeDescriptionSupport = true;\n        diagnostics.dataSupport = true;\n        const windowCapabilities = (0, features_1.ensure)(result, 'window');\n        const showMessage = (0, features_1.ensure)(windowCapabilities, 'showMessage');\n        showMessage.messageActionItem = { additionalPropertiesSupport: true };\n        const showDocument = (0, features_1.ensure)(windowCapabilities, 'showDocument');\n        showDocument.support = true;\n        const generalCapabilities = (0, features_1.ensure)(result, 'general');\n        generalCapabilities.staleRequestSupport = {\n            cancel: true,\n            retryOnContentModified: Array.from(BaseLanguageClient.RequestsToCancelOnContentModified)\n        };\n        generalCapabilities.regularExpressions = { engine: 'ECMAScript', version: 'ES2020' };\n        generalCapabilities.markdown = {\n            parser: 'marked',\n            version: '1.1.0',\n        };\n        generalCapabilities.positionEncodings = ['utf-16'];\n        if (this._clientOptions.markdown.supportHtml) {\n            generalCapabilities.markdown.allowedTags = ['ul', 'li', 'p', 'code', 'blockquote', 'ol', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'em', 'pre', 'table', 'thead', 'tbody', 'tr', 'th', 'td', 'div', 'del', 'a', 'strong', 'br', 'img', 'span'];\n        }\n        for (let feature of this._features) {\n            feature.fillClientCapabilities(result);\n        }\n        return result;\n    }\n    initializeFeatures(_connection) {\n        const documentSelector = this._clientOptions.documentSelector;\n        for (const feature of this._features) {\n            if (Is.func(feature.preInitialize)) {\n                feature.preInitialize(this._capabilities, documentSelector);\n            }\n        }\n        for (const feature of this._features) {\n            feature.initialize(this._capabilities, documentSelector);\n        }\n    }\n    async handleRegistrationRequest(params) {\n        // We will not receive a registration call before a client is running\n        // from a server. However if we stop or shutdown we might which might\n        // try to restart the server. So ignore registrations if we are not running\n        if (!this.isRunning()) {\n            for (const registration of params.registrations) {\n                this._ignoredRegistrations.add(registration.id);\n            }\n            return;\n        }\n        for (const registration of params.registrations) {\n            const feature = this._dynamicFeatures.get(registration.method);\n            if (feature === undefined) {\n                return Promise.reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\n            }\n            const options = registration.registerOptions ?? {};\n            options.documentSelector = options.documentSelector ?? this._clientOptions.documentSelector;\n            const data = {\n                id: registration.id,\n                registerOptions: options\n            };\n            try {\n                feature.register(data);\n            }\n            catch (err) {\n                return Promise.reject(err);\n            }\n        }\n    }\n    async handleUnregistrationRequest(params) {\n        for (let unregistration of params.unregisterations) {\n            if (this._ignoredRegistrations.has(unregistration.id)) {\n                continue;\n            }\n            const feature = this._dynamicFeatures.get(unregistration.method);\n            if (!feature) {\n                return Promise.reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\n            }\n            feature.unregister(unregistration.id);\n        }\n    }\n    async handleApplyWorkspaceEdit(params) {\n        const workspaceEdit = params.edit;\n        // Make sure we convert workspace edits one after the other. Otherwise\n        // we might execute a workspace edit received first after we received another\n        // one since the conversion might race.\n        const converted = await this.workspaceEditLock.lock(() => {\n            return this._p2c.asWorkspaceEdit(workspaceEdit);\n        });\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\n        // However doing it here adds some safety since the server can lag more behind then an extension.\n        const openTextDocuments = new Map();\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\n        let versionMismatch = false;\n        if (workspaceEdit.documentChanges) {\n            for (const change of workspaceEdit.documentChanges) {\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\n                    const textDocument = openTextDocuments.get(change.textDocument.uri);\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\n                        versionMismatch = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (versionMismatch) {\n            return Promise.resolve({ applied: false });\n        }\n        return Is.asPromise(vscode_1.workspace.applyEdit(converted).then((value) => { return { applied: value }; }));\n    }\n    handleFailedRequest(type, token, error, defaultValue, showNotification = true) {\n        // If we get a request cancel or a content modified don't log anything.\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError) {\n            // The connection got disposed while we were waiting for a response.\n            // Simply return the default value. Is the best we can do.\n            if (error.code === vscode_languageserver_protocol_1.ErrorCodes.PendingResponseRejected || error.code === vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive) {\n                return defaultValue;\n            }\n            if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.RequestCancelled || error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ServerCancelled) {\n                if (token !== undefined && token.isCancellationRequested) {\n                    return defaultValue;\n                }\n                else {\n                    if (error.data !== undefined) {\n                        throw new features_1.LSPCancellationError(error.data);\n                    }\n                    else {\n                        throw new vscode_1.CancellationError();\n                    }\n                }\n            }\n            else if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ContentModified) {\n                if (BaseLanguageClient.RequestsToCancelOnContentModified.has(type.method)) {\n                    throw new vscode_1.CancellationError();\n                }\n                else {\n                    return defaultValue;\n                }\n            }\n        }\n        this.error(`Request ${type.method} failed.`, error, showNotification);\n        throw error;\n    }\n}\nexports.BaseLanguageClient = BaseLanguageClient;\nBaseLanguageClient.RequestsToCancelOnContentModified = new Set([\n    vscode_languageserver_protocol_1.SemanticTokensRequest.method,\n    vscode_languageserver_protocol_1.SemanticTokensRangeRequest.method,\n    vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.method\n]);\nclass ConsoleLogger {\n    error(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.error(message);\n    }\n    warn(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.warn(message);\n    }\n    info(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.info(message);\n    }\n    log(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.log(message);\n    }\n}\nfunction createConnection(input, output, errorHandler, closeHandler, options) {\n    let _lastUsed = -1;\n    const logger = new ConsoleLogger();\n    const connection = (0, vscode_languageserver_protocol_1.createProtocolConnection)(input, output, logger, options);\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\n    connection.onClose(closeHandler);\n    const result = {\n        get lastUsed() {\n            return _lastUsed;\n        },\n        resetLastUsed: () => {\n            _lastUsed = -1;\n        },\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => {\n            _lastUsed = Date.now();\n            return connection.sendRequest(type, ...params);\n        },\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        hasPendingResponse: () => connection.hasPendingResponse(),\n        sendNotification: (type, params) => {\n            _lastUsed = Date.now();\n            return connection.sendNotification(type, params);\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\n            const defaultTraceOptions = {\n                sendNotification: false,\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\n            };\n            if (sendNotificationOrTraceOptions === undefined) {\n                return connection.trace(value, tracer, defaultTraceOptions);\n            }\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\n                return connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n            else {\n                return connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n        },\n        initialize: (params) => {\n            _lastUsed = Date.now();\n            return connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params);\n        },\n        shutdown: () => {\n            _lastUsed = Date.now();\n            return connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined);\n        },\n        exit: () => {\n            _lastUsed = Date.now();\n            return connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type);\n        },\n        end: () => connection.end(),\n        dispose: () => connection.dispose()\n    };\n    return result;\n}\n// Exporting proposed protocol.\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    function createAll(_client) {\n        let result = [];\n        return result;\n    }\n    ProposedFeatures.createAll = createAll;\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=client.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeActionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass CodeActionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const cap = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'codeAction');\n        cap.dynamicRegistration = true;\n        cap.isPreferredSupport = true;\n        cap.disabledSupport = true;\n        cap.dataSupport = true;\n        // We can only resolve the edit property.\n        cap.resolveSupport = {\n            properties: ['edit']\n        };\n        cap.codeActionLiteralSupport = {\n            codeActionKind: {\n                valueSet: [\n                    vscode_languageserver_protocol_1.CodeActionKind.Empty,\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\n                ]\n            }\n        };\n        cap.honorsChangeAnnotations = false;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeActionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideCodeActions: (document, range, context, token) => {\n                const client = this._client;\n                const _provideCodeActions = async (document, range, context, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        context: await client.code2ProtocolConverter.asCodeActionContext(context, token)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\n                        if (token.isCancellationRequested || values === null || values === undefined) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCodeActionResult(values, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideCodeActions\n                    ? middleware.provideCodeActions(document, range, context, token, _provideCodeActions)\n                    : _provideCodeActions(document, range, context, token);\n            },\n            resolveCodeAction: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.middleware;\n                    const resolveCodeAction = async (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, await client.code2ProtocolConverter.asCodeAction(item, token), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return item;\n                            }\n                            return client.protocol2CodeConverter.asCodeAction(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, token, error, item);\n                        });\n                    };\n                    return middleware.resolveCodeAction\n                        ? middleware.resolveCodeAction(item, token, resolveCodeAction)\n                        : resolveCodeAction(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, (options.codeActionKinds\n                ? { providedCodeActionKinds: this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\n                : undefined)), provider];\n    }\n}\nexports.CodeActionFeature = CodeActionFeature;\n//# sourceMappingURL=codeAction.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst async = require(\"./utils/async\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst protocolTypeHierarchyItem_1 = require(\"./protocolTypeHierarchyItem\");\nconst protocolWorkspaceSymbol_1 = require(\"./protocolWorkspaceSymbol\");\nconst protocolInlayHint_1 = require(\"./protocolInlayHint\");\nvar InsertReplaceRange;\n(function (InsertReplaceRange) {\n    function is(value) {\n        const candidate = value;\n        return candidate && !!candidate.inserting && !!candidate.replacing;\n    }\n    InsertReplaceRange.is = is;\n})(InsertReplaceRange || (InsertReplaceRange = {}));\nfunction createConverter(uriConverter) {\n    const nullConverter = (value) => value.toString();\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri)\n        };\n    }\n    function asTextDocumentItem(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            languageId: textDocument.languageId,\n            version: textDocument.version,\n            text: textDocument.getText()\n        };\n    }\n    function asVersionedTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            version: textDocument.version\n        };\n    }\n    function asOpenTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentItem(textDocument)\n        };\n    }\n    function isTextDocumentChangeEvent(value) {\n        let candidate = value;\n        return !!candidate.document && !!candidate.contentChanges;\n    }\n    function isTextDocument(value) {\n        let candidate = value;\n        return !!candidate.uri && !!candidate.version;\n    }\n    function asChangeTextDocumentParams(arg) {\n        if (isTextDocument(arg)) {\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(arg.uri),\n                    version: arg.version\n                },\n                contentChanges: [{ text: arg.getText() }]\n            };\n            return result;\n        }\n        else if (isTextDocumentChangeEvent(arg)) {\n            let document = arg.document;\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(document.uri),\n                    version: document.version\n                },\n                contentChanges: arg.contentChanges.map((change) => {\n                    let range = change.range;\n                    return {\n                        range: {\n                            start: { line: range.start.line, character: range.start.character },\n                            end: { line: range.end.line, character: range.end.character }\n                        },\n                        rangeLength: change.rangeLength,\n                        text: change.text\n                    };\n                })\n            };\n            return result;\n        }\n        else {\n            throw Error('Unsupported text document change parameter');\n        }\n    }\n    function asCloseTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\n        let result = {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n        if (includeContent) {\n            result.text = textDocument.getText();\n        }\n        return result;\n    }\n    function asTextDocumentSaveReason(reason) {\n        switch (reason) {\n            case code.TextDocumentSaveReason.Manual:\n                return proto.TextDocumentSaveReason.Manual;\n            case code.TextDocumentSaveReason.AfterDelay:\n                return proto.TextDocumentSaveReason.AfterDelay;\n            case code.TextDocumentSaveReason.FocusOut:\n                return proto.TextDocumentSaveReason.FocusOut;\n        }\n        return proto.TextDocumentSaveReason.Manual;\n    }\n    function asWillSaveTextDocumentParams(event) {\n        return {\n            textDocument: asTextDocumentIdentifier(event.document),\n            reason: asTextDocumentSaveReason(event.reason)\n        };\n    }\n    function asDidCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asDidRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asDidDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asWillDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asTextDocumentPositionParams(textDocument, position) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position)\n        };\n    }\n    function asCompletionTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.CompletionTriggerKind.TriggerCharacter:\n                return proto.CompletionTriggerKind.TriggerCharacter;\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\n            default:\n                return proto.CompletionTriggerKind.Invoked;\n        }\n    }\n    function asCompletionParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                triggerKind: asCompletionTriggerKind(context.triggerKind),\n                triggerCharacter: context.triggerCharacter\n            }\n        };\n    }\n    function asSignatureHelpTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.SignatureHelpTriggerKind.Invoke:\n                return proto.SignatureHelpTriggerKind.Invoked;\n            case code.SignatureHelpTriggerKind.TriggerCharacter:\n                return proto.SignatureHelpTriggerKind.TriggerCharacter;\n            case code.SignatureHelpTriggerKind.ContentChange:\n                return proto.SignatureHelpTriggerKind.ContentChange;\n        }\n    }\n    function asParameterInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label\n        };\n    }\n    function asParameterInformations(values) {\n        return values.map(asParameterInformation);\n    }\n    function asSignatureInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label,\n            parameters: asParameterInformations(value.parameters)\n        };\n    }\n    function asSignatureInformations(values) {\n        return values.map(asSignatureInformation);\n    }\n    function asSignatureHelp(value) {\n        if (value === undefined) {\n            return value;\n        }\n        return {\n            signatures: asSignatureInformations(value.signatures),\n            activeSignature: value.activeSignature,\n            activeParameter: value.activeParameter\n        };\n    }\n    function asSignatureHelpParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                isRetrigger: context.isRetrigger,\n                triggerCharacter: context.triggerCharacter,\n                triggerKind: asSignatureHelpTriggerKind(context.triggerKind),\n                activeSignatureHelp: asSignatureHelp(context.activeSignatureHelp)\n            }\n        };\n    }\n    function asWorkerPosition(position) {\n        return { line: position.line, character: position.character };\n    }\n    function asPosition(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { line: value.line > proto.uinteger.MAX_VALUE ? proto.uinteger.MAX_VALUE : value.line, character: value.character > proto.uinteger.MAX_VALUE ? proto.uinteger.MAX_VALUE : value.character };\n    }\n    function asPositions(value, token) {\n        return async.map(value, asPosition, token);\n    }\n    function asRange(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { start: asPosition(value.start), end: asPosition(value.end) };\n    }\n    function asLocation(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return proto.Location.create(asUri(value.uri), asRange(value.range));\n    }\n    function asDiagnosticSeverity(value) {\n        switch (value) {\n            case code.DiagnosticSeverity.Error:\n                return proto.DiagnosticSeverity.Error;\n            case code.DiagnosticSeverity.Warning:\n                return proto.DiagnosticSeverity.Warning;\n            case code.DiagnosticSeverity.Information:\n                return proto.DiagnosticSeverity.Information;\n            case code.DiagnosticSeverity.Hint:\n                return proto.DiagnosticSeverity.Hint;\n        }\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case code.DiagnosticTag.Unnecessary:\n                return proto.DiagnosticTag.Unnecessary;\n            case code.DiagnosticTag.Deprecated:\n                return proto.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asRelatedInformation(item) {\n        return {\n            message: item.message,\n            location: asLocation(item.location)\n        };\n    }\n    function asRelatedInformations(items) {\n        return items.map(asRelatedInformation);\n    }\n    function asDiagnosticCode(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        if (Is.number(value) || Is.string(value)) {\n            return value;\n        }\n        return { value: value.value, target: asUri(value.target) };\n    }\n    function asDiagnostic(item) {\n        const result = proto.Diagnostic.create(asRange(item.range), item.message);\n        const protocolDiagnostic = item instanceof protocolDiagnostic_1.ProtocolDiagnostic ? item : undefined;\n        if (protocolDiagnostic !== undefined && protocolDiagnostic.data !== undefined) {\n            result.data = protocolDiagnostic.data;\n        }\n        const code = asDiagnosticCode(item.code);\n        if (protocolDiagnostic_1.DiagnosticCode.is(code)) {\n            if (protocolDiagnostic !== undefined && protocolDiagnostic.hasDiagnosticCode) {\n                result.code = code;\n            }\n            else {\n                result.code = code.value;\n                result.codeDescription = { href: code.target };\n            }\n        }\n        else {\n            result.code = code;\n        }\n        if (Is.number(item.severity)) {\n            result.severity = asDiagnosticSeverity(item.severity);\n        }\n        if (Array.isArray(item.tags)) {\n            result.tags = asDiagnosticTags(item.tags);\n        }\n        if (item.relatedInformation) {\n            result.relatedInformation = asRelatedInformations(item.relatedInformation);\n        }\n        if (item.source) {\n            result.source = item.source;\n        }\n        return result;\n    }\n    function asDiagnostics(items, token) {\n        if (items === undefined || items === null) {\n            return items;\n        }\n        return async.map(items, asDiagnostic, token);\n    }\n    function asDocumentation(format, documentation) {\n        switch (format) {\n            case '$string':\n                return documentation;\n            case proto.MarkupKind.PlainText:\n                return { kind: format, value: documentation };\n            case proto.MarkupKind.Markdown:\n                return { kind: format, value: documentation.value };\n            default:\n                return `Unsupported Markup content received. Kind is: ${format}`;\n        }\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case code.CompletionItemTag.Deprecated:\n                return proto.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined) {\n            return tags;\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItemKind(value, original) {\n        if (original !== undefined) {\n            return original;\n        }\n        return value + 1;\n    }\n    function asCompletionItem(item, labelDetailsSupport = false) {\n        let label;\n        let labelDetails;\n        if (Is.string(item.label)) {\n            label = item.label;\n        }\n        else {\n            label = item.label.label;\n            if (labelDetailsSupport && (item.label.detail !== undefined || item.label.description !== undefined)) {\n                labelDetails = { detail: item.label.detail, description: item.label.description };\n            }\n        }\n        let result = { label: label };\n        if (labelDetails !== undefined) {\n            result.labelDetails = labelDetails;\n        }\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        // We only send items back we created. So this can't be something else than\n        // a string right now.\n        if (item.documentation) {\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\n                result.documentation = item.documentation;\n            }\n            else {\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\n            }\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        fillPrimaryInsertText(result, item);\n        if (Is.number(item.kind)) {\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (item.commitCharacters) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const tags = asCompletionItemTags(item.tags);\n        if (protocolItem) {\n            if (protocolItem.data !== undefined) {\n                result.data = protocolItem.data;\n            }\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\n                if (protocolItem.deprecated === true && tags !== undefined && tags.length > 0) {\n                    const index = tags.indexOf(code.CompletionItemTag.Deprecated);\n                    if (index !== -1) {\n                        tags.splice(index, 1);\n                    }\n                }\n                result.deprecated = protocolItem.deprecated;\n            }\n            if (protocolItem.insertTextMode !== undefined) {\n                result.insertTextMode = protocolItem.insertTextMode;\n            }\n        }\n        if (tags !== undefined && tags.length > 0) {\n            result.tags = tags;\n        }\n        if (result.insertTextMode === undefined && item.keepWhitespace === true) {\n            result.insertTextMode = proto.InsertTextMode.adjustIndentation;\n        }\n        return result;\n    }\n    function fillPrimaryInsertText(target, source) {\n        let format = proto.InsertTextFormat.PlainText;\n        let text = undefined;\n        let range = undefined;\n        if (source.textEdit) {\n            text = source.textEdit.newText;\n            range = source.textEdit.range;\n        }\n        else if (source.insertText instanceof code.SnippetString) {\n            format = proto.InsertTextFormat.Snippet;\n            text = source.insertText.value;\n        }\n        else {\n            text = source.insertText;\n        }\n        if (source.range) {\n            range = source.range;\n        }\n        target.insertTextFormat = format;\n        if (source.fromEdit && text !== undefined && range !== undefined) {\n            target.textEdit = asCompletionTextEdit(text, range);\n        }\n        else {\n            target.insertText = text;\n        }\n    }\n    function asCompletionTextEdit(newText, range) {\n        if (InsertReplaceRange.is(range)) {\n            return proto.InsertReplaceEdit.create(newText, asRange(range.inserting), asRange(range.replacing));\n        }\n        else {\n            return { newText, range: asRange(range) };\n        }\n    }\n    function asTextEdit(edit) {\n        return { range: asRange(edit.range), newText: edit.newText };\n    }\n    function asTextEdits(edits) {\n        if (edits === undefined || edits === null) {\n            return edits;\n        }\n        return edits.map(asTextEdit);\n    }\n    function asSymbolKind(item) {\n        if (item <= code.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return (item + 1);\n        }\n        return proto.SymbolKind.Property;\n    }\n    function asSymbolTag(item) {\n        return item;\n    }\n    function asSymbolTags(items) {\n        return items.map(asSymbolTag);\n    }\n    function asReferenceParams(textDocument, position, options) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: { includeDeclaration: options.includeDeclaration }\n        };\n    }\n    async function asCodeAction(item, token) {\n        let result = proto.CodeAction.create(item.title);\n        if (item instanceof protocolCodeAction_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = await asDiagnostics(item.diagnostics, token);\n        }\n        if (item.edit !== undefined) {\n            throw new Error(`VS Code code actions can only be converted to a protocol code action without an edit.`);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    async function asCodeActionContext(context, token) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        let only;\n        if (context.only && Is.string(context.only.value)) {\n            only = [context.only.value];\n        }\n        return proto.CodeActionContext.create(await asDiagnostics(context.diagnostics, token), only, asCodeActionTriggerKind(context.triggerKind));\n    }\n    function asCodeActionTriggerKind(kind) {\n        switch (kind) {\n            case code.CodeActionTriggerKind.Invoke:\n                return proto.CodeActionTriggerKind.Invoked;\n            case code.CodeActionTriggerKind.Automatic:\n                return proto.CodeActionTriggerKind.Automatic;\n            default:\n                return undefined;\n        }\n    }\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        return item.value;\n    }\n    function asInlineValueContext(context) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        return proto.InlineValueContext.create(context.frameId, asRange(context.stoppedLocation));\n    }\n    function asCommand(item) {\n        let result = proto.Command.create(item.title, item.command);\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        let result = proto.CodeLens.create(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item instanceof protocolCodeLens_1.default) {\n            if (item.data) {\n                result.data = item.data;\n            }\n        }\n        return result;\n    }\n    function asFormattingOptions(options, fileOptions) {\n        const result = { tabSize: options.tabSize, insertSpaces: options.insertSpaces };\n        if (fileOptions.trimTrailingWhitespace) {\n            result.trimTrailingWhitespace = true;\n        }\n        if (fileOptions.trimFinalNewlines) {\n            result.trimFinalNewlines = true;\n        }\n        if (fileOptions.insertFinalNewline) {\n            result.insertFinalNewline = true;\n        }\n        return result;\n    }\n    function asDocumentSymbolParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCodeLensParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asDocumentLink(item) {\n        let result = proto.DocumentLink.create(asRange(item.range));\n        if (item.target) {\n            result.target = asUri(item.target);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = item.tooltip;\n        }\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\n        if (protocolItem && protocolItem.data) {\n            result.data = protocolItem.data;\n        }\n        return result;\n    }\n    function asDocumentLinkParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCallHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange)\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolCallHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asTypeHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange),\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolTypeHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asWorkspaceSymbol(item) {\n        const result = item instanceof protocolWorkspaceSymbol_1.default\n            ? { name: item.name, kind: asSymbolKind(item.kind), location: item.hasRange ? asLocation(item.location) : { uri: _uriConverter(item.location.uri) }, data: item.data }\n            : { name: item.name, kind: asSymbolKind(item.kind), location: asLocation(item.location) };\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        if (item.containerName !== '') {\n            result.containerName = item.containerName;\n        }\n        return result;\n    }\n    function asInlayHint(item) {\n        const label = typeof item.label === 'string'\n            ? item.label\n            : item.label.map(asInlayHintLabelPart);\n        const result = proto.InlayHint.create(asPosition(item.position), label);\n        if (item.kind !== undefined) {\n            result.kind = item.kind;\n        }\n        if (item.textEdits !== undefined) {\n            result.textEdits = asTextEdits(item.textEdits);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = asTooltip(item.tooltip);\n        }\n        if (item.paddingLeft !== undefined) {\n            result.paddingLeft = item.paddingLeft;\n        }\n        if (item.paddingRight !== undefined) {\n            result.paddingRight = item.paddingRight;\n        }\n        if (item instanceof protocolInlayHint_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    function asInlayHintLabelPart(item) {\n        const result = proto.InlayHintLabelPart.create(item.value);\n        if (item.location !== undefined) {\n            result.location = asLocation(item.location);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = asTooltip(item.tooltip);\n        }\n        return result;\n    }\n    function asTooltip(value) {\n        if (typeof value === 'string') {\n            return value;\n        }\n        const result = {\n            kind: proto.MarkupKind.Markdown,\n            value: value.value\n        };\n        return result;\n    }\n    return {\n        asUri,\n        asTextDocumentIdentifier,\n        asTextDocumentItem,\n        asVersionedTextDocumentIdentifier,\n        asOpenTextDocumentParams,\n        asChangeTextDocumentParams,\n        asCloseTextDocumentParams,\n        asSaveTextDocumentParams,\n        asWillSaveTextDocumentParams,\n        asDidCreateFilesParams,\n        asDidRenameFilesParams,\n        asDidDeleteFilesParams,\n        asWillCreateFilesParams,\n        asWillRenameFilesParams,\n        asWillDeleteFilesParams,\n        asTextDocumentPositionParams,\n        asCompletionParams,\n        asSignatureHelpParams,\n        asWorkerPosition,\n        asRange,\n        asPosition,\n        asPositions,\n        asLocation,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asDiagnostic,\n        asDiagnostics,\n        asCompletionItem,\n        asTextEdit,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asReferenceParams,\n        asCodeAction,\n        asCodeActionContext,\n        asInlineValueContext,\n        asCommand,\n        asCodeLens,\n        asFormattingOptions,\n        asDocumentSymbolParams,\n        asCodeLensParams,\n        asDocumentLink,\n        asDocumentLinkParams,\n        asCallHierarchyItem,\n        asTypeHierarchyItem,\n        asInlayHint,\n        asWorkspaceSymbol\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=codeConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeLensFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass CodeLensFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'codeLens').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'codeLens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.CodeLensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeCodeLensEmitter.fire();\n            }\n        });\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeLensProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeCodeLenses: eventEmitter.event,\n            provideCodeLenses: (document, token) => {\n                const client = this._client;\n                const provideCodeLenses = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCodeLenses(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideCodeLenses\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\n                    : provideCodeLenses(document, token);\n            },\n            resolveCodeLens: (options.resolveProvider)\n                ? (codeLens, token) => {\n                    const client = this._client;\n                    const resolveCodeLens = (codeLens, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return codeLens;\n                            }\n                            return client.protocol2CodeConverter.asCodeLens(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, token, error, codeLens);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveCodeLens\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\n                        : resolveCodeLens(codeLens, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), { provider, onDidChangeCodeLensEmitter: eventEmitter }];\n    }\n}\nexports.CodeLensFeature = CodeLensFeature;\n//# sourceMappingURL=codeLens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorProviderFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass ColorProviderFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'colorProvider').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.colorProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideColorPresentations: (color, context, token) => {\n                const client = this._client;\n                const provideColorPresentations = (color, context, token) => {\n                    const requestParams = {\n                        color,\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\n                        range: client.code2ProtocolConverter.asRange(context.range)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return this._client.protocol2CodeConverter.asColorPresentations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideColorPresentations\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\n                    : provideColorPresentations(color, context, token);\n            },\n            provideDocumentColors: (document, token) => {\n                const client = this._client;\n                const provideDocumentColors = (document, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return this._client.protocol2CodeConverter.asColorInformations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentColors\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\n                    : provideDocumentColors(document, token);\n            }\n        };\n        return [vscode_1.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.ColorProviderFeature = ColorProviderFeature;\n//# sourceMappingURL=colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompletionItemFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nconst SupportedCompletionItemKinds = [\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\n];\nclass CompletionItemFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\n        this.labelDetailsSupport = new Map();\n    }\n    fillClientCapabilities(capabilities) {\n        let completion = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'completion');\n        completion.dynamicRegistration = true;\n        completion.contextSupport = true;\n        completion.completionItem = {\n            snippetSupport: true,\n            commitCharactersSupport: true,\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\n            deprecatedSupport: true,\n            preselectSupport: true,\n            tagSupport: { valueSet: [vscode_languageserver_protocol_1.CompletionItemTag.Deprecated] },\n            insertReplaceSupport: true,\n            resolveSupport: {\n                properties: ['documentation', 'detail', 'additionalTextEdits']\n            },\n            insertTextModeSupport: { valueSet: [vscode_languageserver_protocol_1.InsertTextMode.asIs, vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation] },\n            labelDetailsSupport: true\n        };\n        completion.insertTextMode = vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation;\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\n        completion.completionList = {\n            itemDefaults: [\n                'commitCharacters', 'editRange', 'insertTextFormat', 'insertTextMode'\n            ]\n        };\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.completionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options, id) {\n        this.labelDetailsSupport.set(id, !!options.completionItem?.labelDetailsSupport);\n        const triggerCharacters = options.triggerCharacters ?? [];\n        const defaultCommitCharacters = options.allCommitCharacters;\n        const selector = options.documentSelector;\n        const provider = {\n            provideCompletionItems: (document, position, token, context) => {\n                const client = this._client;\n                const middleware = this._client.middleware;\n                const provideCompletionItems = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCompletionResult(result, defaultCommitCharacters, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, token, error, null);\n                    });\n                };\n                return middleware.provideCompletionItem\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\n                    : provideCompletionItems(document, position, context, token);\n            },\n            resolveCompletionItem: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.middleware;\n                    const resolveCompletionItem = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item, !!this.labelDetailsSupport.get(id)), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asCompletionItem(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, token, error, item);\n                        });\n                    };\n                    return middleware.resolveCompletionItem\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\n                        : resolveCompletionItem(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, ...triggerCharacters), provider];\n    }\n}\nexports.CompletionItemFeature = CompletionItemFeature;\n//# sourceMappingURL=completion.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyncConfigurationFeature = exports.toJSONObject = exports.ConfigurationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\n/**\n * Configuration pull model. From server to client.\n */\nclass ConfigurationFeature {\n    constructor(client) {\n        this._client = client;\n    }\n    getState() {\n        return { kind: 'static' };\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.configuration = true;\n    }\n    initialize() {\n        let client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\n            let configuration = (params) => {\n                let result = [];\n                for (let item of params.items) {\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\n                }\n                return result;\n            };\n            let middleware = client.middleware.workspace;\n            return middleware && middleware.configuration\n                ? middleware.configuration(params, token, configuration)\n                : configuration(params, token);\n        });\n    }\n    getConfiguration(resource, section) {\n        let result = null;\n        if (section) {\n            let index = section.lastIndexOf('.');\n            if (index === -1) {\n                result = toJSONObject(vscode_1.workspace.getConfiguration(undefined, resource).get(section));\n            }\n            else {\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index), resource);\n                if (config) {\n                    result = toJSONObject(config.get(section.substr(index + 1)));\n                }\n            }\n        }\n        else {\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\n            result = {};\n            for (let key of Object.keys(config)) {\n                if (config.has(key)) {\n                    result[key] = toJSONObject(config.get(key));\n                }\n            }\n        }\n        if (result === undefined) {\n            result = null;\n        }\n        return result;\n    }\n    dispose() {\n    }\n}\nexports.ConfigurationFeature = ConfigurationFeature;\nfunction toJSONObject(obj) {\n    if (obj) {\n        if (Array.isArray(obj)) {\n            return obj.map(toJSONObject);\n        }\n        else if (typeof obj === 'object') {\n            const res = Object.create(null);\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    res[key] = toJSONObject(obj[key]);\n                }\n            }\n            return res;\n        }\n    }\n    return obj;\n}\nexports.toJSONObject = toJSONObject;\nclass SyncConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._listeners = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._listeners.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\n    }\n    initialize() {\n        let section = this._client.clientOptions.synchronize?.configurationSection;\n        if (section !== undefined) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: {\n                    section: section\n                }\n            });\n        }\n    }\n    register(data) {\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\n        });\n        this._listeners.set(data.id, disposable);\n        if (data.registerOptions.section !== undefined) {\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\n        }\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable) {\n            this._listeners.delete(id);\n            disposable.dispose();\n        }\n    }\n    dispose() {\n        for (const disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    onDidChangeConfiguration(configurationSection, event) {\n        let sections;\n        if (Is.string(configurationSection)) {\n            sections = [configurationSection];\n        }\n        else {\n            sections = configurationSection;\n        }\n        if (sections !== undefined && event !== undefined) {\n            let affected = sections.some((section) => event.affectsConfiguration(section));\n            if (!affected) {\n                return;\n            }\n        }\n        const didChangeConfiguration = async (sections) => {\n            if (sections === undefined) {\n                return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\n            }\n            else {\n                return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\n            }\n        };\n        let middleware = this._client.middleware.workspace?.didChangeConfiguration;\n        (middleware ? middleware(sections, didChangeConfiguration) : didChangeConfiguration(sections)).catch((error) => {\n            this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type.method} failed`, error);\n        });\n    }\n    extractSettingsInformation(keys) {\n        function ensurePath(config, path) {\n            let current = config;\n            for (let i = 0; i < path.length - 1; i++) {\n                let obj = current[path[i]];\n                if (!obj) {\n                    obj = Object.create(null);\n                    current[path[i]] = obj;\n                }\n                current = obj;\n            }\n            return current;\n        }\n        let resource = this._client.clientOptions.workspaceFolder\n            ? this._client.clientOptions.workspaceFolder.uri\n            : undefined;\n        let result = Object.create(null);\n        for (let i = 0; i < keys.length; i++) {\n            let key = keys[i];\n            let index = key.indexOf('.');\n            let config = null;\n            if (index >= 0) {\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\n            }\n            else {\n                config = vscode_1.workspace.getConfiguration(undefined, resource).get(key);\n            }\n            if (config) {\n                let path = keys[i].split('.');\n                ensurePath(result, path)[path[path.length - 1]] = toJSONObject(config);\n            }\n        }\n        return result;\n    }\n}\nexports.SyncConfigurationFeature = SyncConfigurationFeature;\n//# sourceMappingURL=configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass DeclarationFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const declarationSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'declaration');\n        declarationSupport.dynamicRegistration = true;\n        declarationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.declarationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDeclaration: (document, position, token) => {\n                const client = this._client;\n                const provideDeclaration = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDeclarationResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDeclaration\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\n                    : provideDeclaration(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.DeclarationFeature = DeclarationFeature;\n//# sourceMappingURL=declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DefinitionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let definitionSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'definition');\n        definitionSupport.dynamicRegistration = true;\n        definitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.definitionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDefinition\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\n                    : provideDefinition(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.DefinitionFeature = DefinitionFeature;\n//# sourceMappingURL=definition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = exports.DiagnosticPullMode = exports.vsdiag = void 0;\nconst minimatch = require(\"minimatch\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar vsdiag;\n(function (vsdiag) {\n    let DocumentDiagnosticReportKind;\n    (function (DocumentDiagnosticReportKind) {\n        DocumentDiagnosticReportKind[\"full\"] = \"full\";\n        DocumentDiagnosticReportKind[\"unChanged\"] = \"unChanged\";\n    })(DocumentDiagnosticReportKind = vsdiag.DocumentDiagnosticReportKind || (vsdiag.DocumentDiagnosticReportKind = {}));\n})(vsdiag = exports.vsdiag || (exports.vsdiag = {}));\nvar DiagnosticPullMode;\n(function (DiagnosticPullMode) {\n    DiagnosticPullMode[\"onType\"] = \"onType\";\n    DiagnosticPullMode[\"onSave\"] = \"onSave\";\n})(DiagnosticPullMode = exports.DiagnosticPullMode || (exports.DiagnosticPullMode = {}));\nvar RequestStateKind;\n(function (RequestStateKind) {\n    RequestStateKind[\"active\"] = \"open\";\n    RequestStateKind[\"reschedule\"] = \"reschedule\";\n    RequestStateKind[\"outDated\"] = \"drop\";\n})(RequestStateKind || (RequestStateKind = {}));\n/**\n * Manages the open tabs. We don't directly use the tab API since for\n * diagnostics we need to de-dupe tabs that show the same resources since\n * we pull on the model not the UI.\n */\nclass Tabs {\n    constructor() {\n        this.open = new Set();\n        this._onOpen = new vscode_1.EventEmitter();\n        this._onClose = new vscode_1.EventEmitter();\n        Tabs.fillTabResources(this.open);\n        const openTabsHandler = (event) => {\n            if (event.closed.length === 0 && event.opened.length === 0) {\n                return;\n            }\n            const oldTabs = this.open;\n            const currentTabs = new Set();\n            Tabs.fillTabResources(currentTabs);\n            const closed = new Set();\n            const opened = new Set(currentTabs);\n            for (const tab of oldTabs.values()) {\n                if (currentTabs.has(tab)) {\n                    opened.delete(tab);\n                }\n                else {\n                    closed.add(tab);\n                }\n            }\n            this.open = currentTabs;\n            if (closed.size > 0) {\n                const toFire = new Set();\n                for (const item of closed) {\n                    toFire.add(vscode_1.Uri.parse(item));\n                }\n                this._onClose.fire(toFire);\n            }\n            if (opened.size > 0) {\n                const toFire = new Set();\n                for (const item of opened) {\n                    toFire.add(vscode_1.Uri.parse(item));\n                }\n                this._onOpen.fire(toFire);\n            }\n        };\n        if (vscode_1.window.tabGroups.onDidChangeTabs !== undefined) {\n            this.disposable = vscode_1.window.tabGroups.onDidChangeTabs(openTabsHandler);\n        }\n        else {\n            this.disposable = { dispose: () => { } };\n        }\n    }\n    get onClose() {\n        return this._onClose.event;\n    }\n    get onOpen() {\n        return this._onOpen.event;\n    }\n    dispose() {\n        this.disposable.dispose();\n    }\n    isActive(document) {\n        return document instanceof vscode_1.Uri\n            ? vscode_1.window.activeTextEditor?.document.uri === document\n            : vscode_1.window.activeTextEditor?.document === document;\n    }\n    isVisible(document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        return this.open.has(uri.toString());\n    }\n    getTabResources() {\n        const result = new Set();\n        Tabs.fillTabResources(new Set(), result);\n        return result;\n    }\n    static fillTabResources(strings, uris) {\n        const seen = strings ?? new Set();\n        for (const group of vscode_1.window.tabGroups.all) {\n            for (const tab of group.tabs) {\n                const input = tab.input;\n                let uri;\n                if (input instanceof vscode_1.TabInputText) {\n                    uri = input.uri;\n                }\n                else if (input instanceof vscode_1.TabInputTextDiff) {\n                    uri = input.modified;\n                }\n                if (uri !== undefined && !seen.has(uri.toString())) {\n                    seen.add(uri.toString());\n                    uris !== undefined && uris.add(uri);\n                }\n            }\n        }\n    }\n}\nvar PullState;\n(function (PullState) {\n    PullState[PullState[\"document\"] = 1] = \"document\";\n    PullState[PullState[\"workspace\"] = 2] = \"workspace\";\n})(PullState || (PullState = {}));\nvar DocumentOrUri;\n(function (DocumentOrUri) {\n    function asKey(document) {\n        return document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n    }\n    DocumentOrUri.asKey = asKey;\n})(DocumentOrUri || (DocumentOrUri = {}));\nclass DocumentPullStateTracker {\n    constructor() {\n        this.documentPullStates = new Map();\n        this.workspacePullStates = new Map();\n    }\n    track(kind, document, arg1) {\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        const [key, uri, version] = document instanceof vscode_1.Uri\n            ? [document.toString(), document, arg1]\n            : [document.uri.toString(), document.uri, document.version];\n        let state = states.get(key);\n        if (state === undefined) {\n            state = { document: uri, pulledVersion: version, resultId: undefined };\n            states.set(key, state);\n        }\n        return state;\n    }\n    update(kind, document, arg1, arg2) {\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        const [key, uri, version, resultId] = document instanceof vscode_1.Uri\n            ? [document.toString(), document, arg1, arg2]\n            : [document.uri.toString(), document.uri, document.version, arg1];\n        let state = states.get(key);\n        if (state === undefined) {\n            state = { document: uri, pulledVersion: version, resultId };\n            states.set(key, state);\n        }\n        else {\n            state.pulledVersion = version;\n            state.resultId = resultId;\n        }\n    }\n    unTrack(kind, document) {\n        const key = DocumentOrUri.asKey(document);\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        states.delete(key);\n    }\n    tracks(kind, document) {\n        const key = DocumentOrUri.asKey(document);\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        return states.has(key);\n    }\n    getResultId(kind, document) {\n        const key = DocumentOrUri.asKey(document);\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        return states.get(key)?.resultId;\n    }\n    getAllResultIds() {\n        const result = [];\n        for (let [uri, value] of this.workspacePullStates) {\n            if (this.documentPullStates.has(uri)) {\n                value = this.documentPullStates.get(uri);\n            }\n            if (value.resultId !== undefined) {\n                result.push({ uri, value: value.resultId });\n            }\n        }\n        return result;\n    }\n}\nclass DiagnosticRequestor {\n    constructor(client, tabs, options) {\n        this.client = client;\n        this.tabs = tabs;\n        this.options = options;\n        this.isDisposed = false;\n        this.onDidChangeDiagnosticsEmitter = new vscode_1.EventEmitter();\n        this.provider = this.createProvider();\n        this.diagnostics = vscode_1.languages.createDiagnosticCollection(options.identifier);\n        this.openRequests = new Map();\n        this.documentStates = new DocumentPullStateTracker();\n        this.workspaceErrorCounter = 0;\n    }\n    knows(kind, document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        return this.documentStates.tracks(kind, document) || this.openRequests.has(uri.toString());\n    }\n    forget(kind, document) {\n        this.documentStates.unTrack(kind, document);\n    }\n    pull(document, cb) {\n        if (this.isDisposed) {\n            return;\n        }\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        this.pullAsync(document).then(() => {\n            if (cb) {\n                cb();\n            }\n        }, (error) => {\n            this.client.error(`Document pull failed for text document ${uri.toString()}`, error, false);\n        });\n    }\n    async pullAsync(document, version) {\n        if (this.isDisposed) {\n            return;\n        }\n        const isUri = document instanceof vscode_1.Uri;\n        const uri = isUri ? document : document.uri;\n        const key = uri.toString();\n        version = isUri ? version : document.version;\n        const currentRequestState = this.openRequests.get(key);\n        const documentState = isUri\n            ? this.documentStates.track(PullState.document, document, version)\n            : this.documentStates.track(PullState.document, document);\n        if (currentRequestState === undefined) {\n            const tokenSource = new vscode_1.CancellationTokenSource();\n            this.openRequests.set(key, { state: RequestStateKind.active, document: document, version: version, tokenSource });\n            let report;\n            let afterState;\n            try {\n                report = await this.provider.provideDiagnostics(document, documentState.resultId, tokenSource.token) ?? { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n            }\n            catch (error) {\n                if (error instanceof features_1.LSPCancellationError && vscode_languageserver_protocol_1.DiagnosticServerCancellationData.is(error.data) && error.data.retriggerRequest === false) {\n                    afterState = { state: RequestStateKind.outDated, document };\n                }\n                if (afterState === undefined && error instanceof vscode_1.CancellationError) {\n                    afterState = { state: RequestStateKind.reschedule, document };\n                }\n                else {\n                    throw error;\n                }\n            }\n            afterState = afterState ?? this.openRequests.get(key);\n            if (afterState === undefined) {\n                // This shouldn't happen. Log it\n                this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${key}`);\n                this.diagnostics.delete(uri);\n                return;\n            }\n            this.openRequests.delete(key);\n            if (!this.tabs.isVisible(document)) {\n                this.documentStates.unTrack(PullState.document, document);\n                return;\n            }\n            if (afterState.state === RequestStateKind.outDated) {\n                return;\n            }\n            // report is only undefined if the request has thrown.\n            if (report !== undefined) {\n                if (report.kind === vsdiag.DocumentDiagnosticReportKind.full) {\n                    this.diagnostics.set(uri, report.items);\n                }\n                documentState.pulledVersion = version;\n                documentState.resultId = report.resultId;\n            }\n            if (afterState.state === RequestStateKind.reschedule) {\n                this.pull(document);\n            }\n        }\n        else {\n            if (currentRequestState.state === RequestStateKind.active) {\n                // Cancel the current request and reschedule a new one when the old one returned.\n                currentRequestState.tokenSource.cancel();\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: currentRequestState.document });\n            }\n            else if (currentRequestState.state === RequestStateKind.outDated) {\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: currentRequestState.document });\n            }\n        }\n    }\n    forgetDocument(document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        const key = uri.toString();\n        const request = this.openRequests.get(key);\n        if (this.options.workspaceDiagnostics) {\n            // If we run workspace diagnostic pull a last time for the diagnostics\n            // and the rely on getting them from the workspace result.\n            if (request !== undefined) {\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: document });\n            }\n            else {\n                this.pull(document, () => {\n                    this.forget(PullState.document, document);\n                });\n            }\n        }\n        else {\n            // We have normal pull or inter file dependencies. In this case we\n            // clear the diagnostics (to have the same start as after startup).\n            // We also cancel outstanding requests.\n            if (request !== undefined) {\n                if (request.state === RequestStateKind.active) {\n                    request.tokenSource.cancel();\n                }\n                this.openRequests.set(key, { state: RequestStateKind.outDated, document: document });\n            }\n            this.diagnostics.delete(uri);\n            this.forget(PullState.document, document);\n        }\n    }\n    pullWorkspace() {\n        if (this.isDisposed) {\n            return;\n        }\n        this.pullWorkspaceAsync().then(() => {\n            this.workspaceTimeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                this.pullWorkspace();\n            }, 2000);\n        }, (error) => {\n            if (!(error instanceof features_1.LSPCancellationError) && !vscode_languageserver_protocol_1.DiagnosticServerCancellationData.is(error.data)) {\n                this.client.error(`Workspace diagnostic pull failed.`, error, false);\n                this.workspaceErrorCounter++;\n            }\n            if (this.workspaceErrorCounter <= 5) {\n                this.workspaceTimeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                    this.pullWorkspace();\n                }, 2000);\n            }\n        });\n    }\n    async pullWorkspaceAsync() {\n        if (!this.provider.provideWorkspaceDiagnostics || this.isDisposed) {\n            return;\n        }\n        if (this.workspaceCancellation !== undefined) {\n            this.workspaceCancellation.cancel();\n            this.workspaceCancellation = undefined;\n        }\n        this.workspaceCancellation = new vscode_1.CancellationTokenSource();\n        const previousResultIds = this.documentStates.getAllResultIds().map((item) => {\n            return {\n                uri: this.client.protocol2CodeConverter.asUri(item.uri),\n                value: item.value\n            };\n        });\n        await this.provider.provideWorkspaceDiagnostics(previousResultIds, this.workspaceCancellation.token, (chunk) => {\n            if (!chunk || this.isDisposed) {\n                return;\n            }\n            for (const item of chunk.items) {\n                if (item.kind === vsdiag.DocumentDiagnosticReportKind.full) {\n                    // Favour document pull result over workspace results. So skip if it is tracked\n                    // as a document result.\n                    if (!this.documentStates.tracks(PullState.document, item.uri)) {\n                        this.diagnostics.set(item.uri, item.items);\n                    }\n                }\n                this.documentStates.update(PullState.workspace, item.uri, item.version ?? undefined, item.resultId);\n            }\n        });\n    }\n    createProvider() {\n        const result = {\n            onDidChangeDiagnostics: this.onDidChangeDiagnosticsEmitter.event,\n            provideDiagnostics: (document, previousResultId, token) => {\n                const provideDiagnostics = (document, previousResultId, token) => {\n                    const params = {\n                        identifier: this.options.identifier,\n                        textDocument: { uri: this.client.code2ProtocolConverter.asUri(document instanceof vscode_1.Uri ? document : document.uri) },\n                        previousResultId: previousResultId\n                    };\n                    if (this.isDisposed === true || !this.client.isRunning()) {\n                        return { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n                    }\n                    return this.client.sendRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, params, token).then(async (result) => {\n                        if (result === undefined || result === null || this.isDisposed || token.isCancellationRequested) {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n                        }\n                        if (result.kind === vscode_languageserver_protocol_1.DocumentDiagnosticReportKind.Full) {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.full, resultId: result.resultId, items: await this.client.protocol2CodeConverter.asDiagnostics(result.items, token) };\n                        }\n                        else {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.unChanged, resultId: result.resultId };\n                        }\n                    }, (error) => {\n                        return this.client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, token, error, { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] });\n                    });\n                };\n                const middleware = this.client.middleware;\n                return middleware.provideDiagnostics\n                    ? middleware.provideDiagnostics(document, previousResultId, token, provideDiagnostics)\n                    : provideDiagnostics(document, previousResultId, token);\n            }\n        };\n        if (this.options.workspaceDiagnostics) {\n            result.provideWorkspaceDiagnostics = (resultIds, token, resultReporter) => {\n                const convertReport = async (report) => {\n                    if (report.kind === vscode_languageserver_protocol_1.DocumentDiagnosticReportKind.Full) {\n                        return {\n                            kind: vsdiag.DocumentDiagnosticReportKind.full,\n                            uri: this.client.protocol2CodeConverter.asUri(report.uri),\n                            resultId: report.resultId,\n                            version: report.version,\n                            items: await this.client.protocol2CodeConverter.asDiagnostics(report.items, token)\n                        };\n                    }\n                    else {\n                        return {\n                            kind: vsdiag.DocumentDiagnosticReportKind.unChanged,\n                            uri: this.client.protocol2CodeConverter.asUri(report.uri),\n                            resultId: report.resultId,\n                            version: report.version\n                        };\n                    }\n                };\n                const convertPreviousResultIds = (resultIds) => {\n                    const converted = [];\n                    for (const item of resultIds) {\n                        converted.push({ uri: this.client.code2ProtocolConverter.asUri(item.uri), value: item.value });\n                    }\n                    return converted;\n                };\n                const provideDiagnostics = (resultIds, token) => {\n                    const partialResultToken = (0, uuid_1.generateUuid)();\n                    const disposable = this.client.onProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, partialResultToken, async (partialResult) => {\n                        if (partialResult === undefined || partialResult === null) {\n                            resultReporter(null);\n                            return;\n                        }\n                        const converted = {\n                            items: []\n                        };\n                        for (const item of partialResult.items) {\n                            try {\n                                converted.items.push(await convertReport(item));\n                            }\n                            catch (error) {\n                                this.client.error(`Converting workspace diagnostics failed.`, error);\n                            }\n                        }\n                        resultReporter(converted);\n                    });\n                    const params = {\n                        identifier: this.options.identifier,\n                        previousResultIds: convertPreviousResultIds(resultIds),\n                        partialResultToken: partialResultToken\n                    };\n                    if (this.isDisposed === true || !this.client.isRunning()) {\n                        return { items: [] };\n                    }\n                    return this.client.sendRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, params, token).then(async (result) => {\n                        if (token.isCancellationRequested) {\n                            return { items: [] };\n                        }\n                        const converted = {\n                            items: []\n                        };\n                        for (const item of result.items) {\n                            converted.items.push(await convertReport(item));\n                        }\n                        disposable.dispose();\n                        resultReporter(converted);\n                        return { items: [] };\n                    }, (error) => {\n                        disposable.dispose();\n                        return this.client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, token, error, { items: [] });\n                    });\n                };\n                const middleware = this.client.middleware;\n                return middleware.provideWorkspaceDiagnostics\n                    ? middleware.provideWorkspaceDiagnostics(resultIds, token, resultReporter, provideDiagnostics)\n                    : provideDiagnostics(resultIds, token, resultReporter);\n            };\n        }\n        return result;\n    }\n    dispose() {\n        this.isDisposed = true;\n        // Cancel and clear workspace pull if present.\n        this.workspaceCancellation?.cancel();\n        this.workspaceTimeout?.dispose();\n        // Cancel all request and mark open requests as outdated.\n        for (const [key, request] of this.openRequests) {\n            if (request.state === RequestStateKind.active) {\n                request.tokenSource.cancel();\n            }\n            this.openRequests.set(key, { state: RequestStateKind.outDated, document: request.document });\n        }\n        // cleanup old diagnostics\n        this.diagnostics.dispose();\n    }\n}\nclass BackgroundScheduler {\n    constructor(diagnosticRequestor) {\n        this.diagnosticRequestor = diagnosticRequestor;\n        this.documents = new vscode_languageserver_protocol_1.LinkedMap();\n        this.isDisposed = false;\n    }\n    add(document) {\n        if (this.isDisposed === true) {\n            return;\n        }\n        const key = DocumentOrUri.asKey(document);\n        if (this.documents.has(key)) {\n            return;\n        }\n        this.documents.set(key, document, vscode_languageserver_protocol_1.Touch.Last);\n        this.trigger();\n    }\n    remove(document) {\n        const key = DocumentOrUri.asKey(document);\n        if (this.documents.has(key)) {\n            this.documents.delete(key);\n            // Do a last pull\n            this.diagnosticRequestor.pull(document);\n        }\n        // No more documents. Stop background activity.\n        if (this.documents.size === 0) {\n            this.stop();\n        }\n        else if (key === this.endDocumentKey()) {\n            // Make sure we have a correct last document. It could have\n            this.endDocument = this.documents.last;\n        }\n    }\n    trigger() {\n        if (this.isDisposed === true) {\n            return;\n        }\n        // We have a round running. So simply make sure we run up to the\n        // last document\n        if (this.intervalHandle !== undefined) {\n            this.endDocument = this.documents.last;\n            return;\n        }\n        this.endDocument = this.documents.last;\n        this.intervalHandle = (0, vscode_languageserver_protocol_1.RAL)().timer.setInterval(() => {\n            const document = this.documents.first;\n            if (document !== undefined) {\n                const key = DocumentOrUri.asKey(document);\n                this.diagnosticRequestor.pull(document);\n                this.documents.set(key, document, vscode_languageserver_protocol_1.Touch.Last);\n                if (key === this.endDocumentKey()) {\n                    this.stop();\n                }\n            }\n        }, 200);\n    }\n    dispose() {\n        this.isDisposed = true;\n        this.stop();\n        this.documents.clear();\n    }\n    stop() {\n        this.intervalHandle?.dispose();\n        this.intervalHandle = undefined;\n        this.endDocument = undefined;\n    }\n    endDocumentKey() {\n        return this.endDocument !== undefined ? DocumentOrUri.asKey(this.endDocument) : undefined;\n    }\n}\nclass DiagnosticFeatureProviderImpl {\n    constructor(client, tabs, options) {\n        const diagnosticPullOptions = client.clientOptions.diagnosticPullOptions ?? { onChange: true, onSave: false };\n        const documentSelector = client.protocol2CodeConverter.asDocumentSelector(options.documentSelector);\n        const disposables = [];\n        const matchResource = (resource) => {\n            const selector = options.documentSelector;\n            if (diagnosticPullOptions.match !== undefined) {\n                return diagnosticPullOptions.match(selector, resource);\n            }\n            for (const filter of selector) {\n                if (!vscode_languageserver_protocol_1.TextDocumentFilter.is(filter)) {\n                    continue;\n                }\n                // The filter is a language id. We can't determine if it matches\n                // so we return false.\n                if (typeof filter === 'string') {\n                    return false;\n                }\n                if (filter.language !== undefined && filter.language !== '*') {\n                    return false;\n                }\n                if (filter.scheme !== undefined && filter.scheme !== '*' && filter.scheme !== resource.scheme) {\n                    return false;\n                }\n                if (filter.pattern !== undefined) {\n                    const matcher = new minimatch.Minimatch(filter.pattern, { noext: true });\n                    if (!matcher.makeRe()) {\n                        return false;\n                    }\n                    if (!matcher.match(resource.fsPath)) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        };\n        const matches = (document) => {\n            return document instanceof vscode_1.Uri\n                ? matchResource(document)\n                : vscode_1.languages.match(documentSelector, document) > 0 && tabs.isVisible(document);\n        };\n        const isActiveDocument = (document) => {\n            return document instanceof vscode_1.Uri\n                ? this.activeTextDocument?.uri.toString() === document.toString()\n                : this.activeTextDocument === document;\n        };\n        this.diagnosticRequestor = new DiagnosticRequestor(client, tabs, options);\n        this.backgroundScheduler = new BackgroundScheduler(this.diagnosticRequestor);\n        const addToBackgroundIfNeeded = (document) => {\n            if (!matches(document) || !options.interFileDependencies || isActiveDocument(document)) {\n                return;\n            }\n            this.backgroundScheduler.add(document);\n        };\n        this.activeTextDocument = vscode_1.window.activeTextEditor?.document;\n        vscode_1.window.onDidChangeActiveTextEditor((editor) => {\n            const oldActive = this.activeTextDocument;\n            this.activeTextDocument = editor?.document;\n            if (oldActive !== undefined) {\n                addToBackgroundIfNeeded(oldActive);\n            }\n            if (this.activeTextDocument !== undefined) {\n                this.backgroundScheduler.remove(this.activeTextDocument);\n            }\n        });\n        // For pull model diagnostics we pull for documents visible in the UI.\n        // From an eventing point of view we still rely on open document events\n        // and filter the documents that are not visible in the UI instead of\n        // listening to Tab events. Major reason is event timing since we need\n        // to ensure that the pull is send after the document open has reached\n        // the server.\n        // We always pull on open.\n        const openFeature = client.getFeature(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.method);\n        disposables.push(openFeature.onNotificationSent((event) => {\n            const textDocument = event.original;\n            if (matches(textDocument)) {\n                this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n            }\n        }));\n        // Pull all diagnostics for documents that are already open\n        const pulledTextDocuments = new Set();\n        for (const textDocument of vscode_1.workspace.textDocuments) {\n            if (matches(textDocument)) {\n                this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n                pulledTextDocuments.add(textDocument.uri.toString());\n            }\n        }\n        // Pull all tabs if not already pulled as text document\n        if (diagnosticPullOptions.onTabs === true) {\n            for (const resource of tabs.getTabResources()) {\n                if (!pulledTextDocuments.has(resource.toString()) && matches(resource)) {\n                    this.diagnosticRequestor.pull(resource, () => { addToBackgroundIfNeeded(resource); });\n                }\n            }\n        }\n        // We don't need to pull on tab open since we will receive a document open as well later on\n        // and that event allows us to use a document for a match check which will have a set\n        // language id.\n        if (diagnosticPullOptions.onChange === true) {\n            const changeFeature = client.getFeature(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.method);\n            disposables.push(changeFeature.onNotificationSent(async (event) => {\n                const textDocument = event.original.document;\n                if ((diagnosticPullOptions.filter === undefined || !diagnosticPullOptions.filter(textDocument, DiagnosticPullMode.onType)) && this.diagnosticRequestor.knows(PullState.document, textDocument) && event.original.contentChanges.length > 0) {\n                    this.diagnosticRequestor.pull(textDocument, () => { this.backgroundScheduler.trigger(); });\n                }\n            }));\n        }\n        if (diagnosticPullOptions.onSave === true) {\n            const saveFeature = client.getFeature(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.method);\n            disposables.push(saveFeature.onNotificationSent((event) => {\n                const textDocument = event.original;\n                if ((diagnosticPullOptions.filter === undefined || !diagnosticPullOptions.filter(textDocument, DiagnosticPullMode.onSave)) && this.diagnosticRequestor.knows(PullState.document, textDocument)) {\n                    this.diagnosticRequestor.pull(event.original, () => { this.backgroundScheduler.trigger(); });\n                }\n            }));\n        }\n        // When the document closes clear things up\n        const closeFeature = client.getFeature(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.method);\n        disposables.push(closeFeature.onNotificationSent((event) => {\n            this.cleanUpDocument(event.original);\n        }));\n        // Same when a tabs closes.\n        tabs.onClose((closed) => {\n            for (const document of closed) {\n                this.cleanUpDocument(document);\n            }\n        });\n        // We received a did change from the server.\n        this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(() => {\n            for (const textDocument of vscode_1.workspace.textDocuments) {\n                if (matches(textDocument)) {\n                    this.diagnosticRequestor.pull(textDocument);\n                }\n            }\n        });\n        // da348dc5-c30a-4515-9d98-31ff3be38d14 is the test UUID to test the middle ware. So don't auto trigger pulls.\n        if (options.workspaceDiagnostics === true && options.identifier !== 'da348dc5-c30a-4515-9d98-31ff3be38d14') {\n            this.diagnosticRequestor.pullWorkspace();\n        }\n        this.disposable = vscode_1.Disposable.from(...disposables, this.backgroundScheduler, this.diagnosticRequestor);\n    }\n    get onDidChangeDiagnosticsEmitter() {\n        return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter;\n    }\n    get diagnostics() {\n        return this.diagnosticRequestor.provider;\n    }\n    cleanUpDocument(document) {\n        if (this.diagnosticRequestor.knows(PullState.document, document)) {\n            this.diagnosticRequestor.forgetDocument(document);\n            this.backgroundScheduler.remove(document);\n        }\n    }\n}\nclass DiagnosticFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'diagnostic');\n        capability.dynamicRegistration = true;\n        // We first need to decide how a UI will look with related documents.\n        // An easy implementation would be to only show related diagnostics for\n        // the active editor.\n        capability.relatedDocumentSupport = false;\n        ensure(ensure(capabilities, 'workspace'), 'diagnostics').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeDiagnosticsEmitter.fire();\n            }\n        });\n        let [id, options] = this.getRegistration(documentSelector, capabilities.diagnosticProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    dispose() {\n        if (this.tabs !== undefined) {\n            this.tabs.dispose();\n            this.tabs = undefined;\n        }\n        super.dispose();\n    }\n    registerLanguageProvider(options) {\n        if (this.tabs === undefined) {\n            this.tabs = new Tabs();\n        }\n        const provider = new DiagnosticFeatureProviderImpl(this._client, this.tabs, options);\n        return [provider.disposable, provider];\n    }\n}\nexports.DiagnosticFeature = DiagnosticFeature;\n//# sourceMappingURL=diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentHighlightFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DocumentHighlightFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentHighlightProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentHighlights: (document, position, token) => {\n                const client = this._client;\n                const _provideDocumentHighlights = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDocumentHighlights(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentHighlights\n                    ? middleware.provideDocumentHighlights(document, position, token, _provideDocumentHighlights)\n                    : _provideDocumentHighlights(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentHighlightFeature = DocumentHighlightFeature;\n//# sourceMappingURL=documentHighlight.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentLinkFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DocumentLinkFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const documentLinkCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentLink');\n        documentLinkCapabilities.dynamicRegistration = true;\n        documentLinkCapabilities.tooltipSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentLinkProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentLinks: (document, token) => {\n                const client = this._client;\n                const provideDocumentLinks = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDocumentLinks(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentLinks\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\n                    : provideDocumentLinks(document, token);\n            },\n            resolveDocumentLink: options.resolveProvider\n                ? (link, token) => {\n                    const client = this._client;\n                    let resolveDocumentLink = (link, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return link;\n                            }\n                            return client.protocol2CodeConverter.asDocumentLink(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, token, error, link);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveDocumentLink\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\n                        : resolveDocumentLink(link, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentLinkFeature = DocumentLinkFeature;\n//# sourceMappingURL=documentLink.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentSymbolFeature = exports.SupportedSymbolTags = exports.SupportedSymbolKinds = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nexports.SupportedSymbolKinds = [\n    vscode_languageserver_protocol_1.SymbolKind.File,\n    vscode_languageserver_protocol_1.SymbolKind.Module,\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\n    vscode_languageserver_protocol_1.SymbolKind.Package,\n    vscode_languageserver_protocol_1.SymbolKind.Class,\n    vscode_languageserver_protocol_1.SymbolKind.Method,\n    vscode_languageserver_protocol_1.SymbolKind.Property,\n    vscode_languageserver_protocol_1.SymbolKind.Field,\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\n    vscode_languageserver_protocol_1.SymbolKind.Function,\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\n    vscode_languageserver_protocol_1.SymbolKind.String,\n    vscode_languageserver_protocol_1.SymbolKind.Number,\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\n    vscode_languageserver_protocol_1.SymbolKind.Array,\n    vscode_languageserver_protocol_1.SymbolKind.Object,\n    vscode_languageserver_protocol_1.SymbolKind.Key,\n    vscode_languageserver_protocol_1.SymbolKind.Null,\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\n    vscode_languageserver_protocol_1.SymbolKind.Event,\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\n];\nexports.SupportedSymbolTags = [\n    vscode_languageserver_protocol_1.SymbolTag.Deprecated\n];\nclass DocumentSymbolFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentSymbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: exports.SupportedSymbolKinds\n        };\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\n        symbolCapabilities.tagSupport = {\n            valueSet: exports.SupportedSymbolTags\n        };\n        symbolCapabilities.labelSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentSymbolProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentSymbols: (document, token) => {\n                const client = this._client;\n                const _provideDocumentSymbols = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token).then(async (data) => {\n                        if (token.isCancellationRequested || data === undefined || data === null) {\n                            return null;\n                        }\n                        if (data.length === 0) {\n                            return [];\n                        }\n                        else {\n                            const first = data[0];\n                            if (vscode_languageserver_protocol_1.DocumentSymbol.is(first)) {\n                                return await client.protocol2CodeConverter.asDocumentSymbols(data, token);\n                            }\n                            else {\n                                return await client.protocol2CodeConverter.asSymbolInformations(data, token);\n                            }\n                        }\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentSymbols\n                    ? middleware.provideDocumentSymbols(document, token, _provideDocumentSymbols)\n                    : _provideDocumentSymbols(document, token);\n            }\n        };\n        const metaData = options.label !== undefined ? { label: options.label } : undefined;\n        return [vscode_1.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, metaData), provider];\n    }\n}\nexports.DocumentSymbolFeature = DocumentSymbolFeature;\n//# sourceMappingURL=documentSymbol.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExecuteCommandFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass ExecuteCommandFeature {\n    constructor(client) {\n        this._client = client;\n        this._commands = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._commands.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\n    }\n    initialize(capabilities) {\n        if (!capabilities.executeCommandProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\n        });\n    }\n    register(data) {\n        const client = this._client;\n        const middleware = client.middleware;\n        const executeCommand = (command, args) => {\n            let params = {\n                command,\n                arguments: args\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, undefined, error, undefined);\n            });\n        };\n        if (data.registerOptions.commands) {\n            const disposables = [];\n            for (const command of data.registerOptions.commands) {\n                disposables.push(vscode_1.commands.registerCommand(command, (...args) => {\n                    return middleware.executeCommand\n                        ? middleware.executeCommand(command, args, executeCommand)\n                        : executeCommand(command, args);\n                }));\n            }\n            this._commands.set(data.id, disposables);\n        }\n    }\n    unregister(id) {\n        let disposables = this._commands.get(id);\n        if (disposables) {\n            disposables.forEach(disposable => disposable.dispose());\n        }\n    }\n    dispose() {\n        this._commands.forEach((value) => {\n            value.forEach(disposable => disposable.dispose());\n        });\n        this._commands.clear();\n    }\n}\nexports.ExecuteCommandFeature = ExecuteCommandFeature;\n//# sourceMappingURL=executeCommand.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFeature = exports.TextDocumentLanguageFeature = exports.TextDocumentEventFeature = exports.DynamicDocumentFeature = exports.DynamicFeature = exports.StaticFeature = exports.ensure = exports.LSPCancellationError = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nclass LSPCancellationError extends vscode_1.CancellationError {\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n}\nexports.LSPCancellationError = LSPCancellationError;\nfunction ensure(target, key) {\n    if (target[key] === undefined) {\n        target[key] = {};\n    }\n    return target[key];\n}\nexports.ensure = ensure;\nvar StaticFeature;\n(function (StaticFeature) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null &&\n            Is.func(candidate.fillClientCapabilities) && Is.func(candidate.initialize) && Is.func(candidate.getState) && Is.func(candidate.dispose) &&\n            (candidate.fillInitializeParams === undefined || Is.func(candidate.fillInitializeParams));\n    }\n    StaticFeature.is = is;\n})(StaticFeature = exports.StaticFeature || (exports.StaticFeature = {}));\nvar DynamicFeature;\n(function (DynamicFeature) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null &&\n            Is.func(candidate.fillClientCapabilities) && Is.func(candidate.initialize) && Is.func(candidate.getState) && Is.func(candidate.dispose) &&\n            (candidate.fillInitializeParams === undefined || Is.func(candidate.fillInitializeParams)) && Is.func(candidate.register) &&\n            Is.func(candidate.unregister) && candidate.registrationType !== undefined;\n    }\n    DynamicFeature.is = is;\n})(DynamicFeature = exports.DynamicFeature || (exports.DynamicFeature = {}));\n/**\n * An abstract dynamic feature implementation that operates on documents (e.g. text\n * documents or notebooks).\n */\nclass DynamicDocumentFeature {\n    constructor(client) {\n        this._client = client;\n    }\n    /**\n     * Returns the state the feature is in.\n     */\n    getState() {\n        const selectors = this.getDocumentSelectors();\n        let count = 0;\n        for (const selector of selectors) {\n            count++;\n            for (const document of vscode_1.workspace.textDocuments) {\n                if (vscode_1.languages.match(selector, document) > 0) {\n                    return { kind: 'document', id: this.registrationType.method, registrations: true, matches: true };\n                }\n            }\n        }\n        const registrations = count > 0;\n        return { kind: 'document', id: this.registrationType.method, registrations, matches: false };\n    }\n}\nexports.DynamicDocumentFeature = DynamicDocumentFeature;\n/**\n * An abstract base class to implement features that react to events\n * emitted from text documents.\n */\nclass TextDocumentEventFeature extends DynamicDocumentFeature {\n    constructor(client, event, type, middleware, createParams, textDocument, selectorFilter) {\n        super(client);\n        this._event = event;\n        this._type = type;\n        this._middleware = middleware;\n        this._createParams = createParams;\n        this._textDocument = textDocument;\n        this._selectorFilter = selectorFilter;\n        this._selectors = new Map();\n        this._onNotificationSent = new vscode_1.EventEmitter();\n    }\n    static textDocumentFilter(selectors, textDocument) {\n        for (const selector of selectors) {\n            if (vscode_1.languages.match(selector, textDocument) > 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getStateInfo() {\n        return [this._selectors.values(), false];\n    }\n    getDocumentSelectors() {\n        return this._selectors.values();\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = this._event((data) => {\n                this.callback(data).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed.`, error);\n                });\n            });\n        }\n        this._selectors.set(data.id, this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector));\n    }\n    async callback(data) {\n        const doSend = async (data) => {\n            const params = this._createParams(data);\n            await this._client.sendNotification(this._type, params).catch();\n            this.notificationSent(data, this._type, params);\n        };\n        if (this.matches(data)) {\n            const middleware = this._middleware();\n            return middleware ? middleware(data, (data) => doSend(data)) : doSend(data);\n        }\n    }\n    matches(data) {\n        if (this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(data))) {\n            return false;\n        }\n        return !this._selectorFilter || this._selectorFilter(this._selectors.values(), data);\n    }\n    get onNotificationSent() {\n        return this._onNotificationSent.event;\n    }\n    notificationSent(data, type, params) {\n        this._onNotificationSent.fire({ original: data, type, params });\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        this._onNotificationSent.dispose();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getProvider(document) {\n        for (const selector of this._selectors.values()) {\n            if (vscode_1.languages.match(selector, document) > 0) {\n                return {\n                    send: (data) => {\n                        return this.callback(data);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nexports.TextDocumentEventFeature = TextDocumentEventFeature;\n/**\n * A abstract feature implementation that registers language providers\n * for text documents using a given document selector.\n */\nclass TextDocumentLanguageFeature extends DynamicDocumentFeature {\n    constructor(client, registrationType) {\n        super(client);\n        this._registrationType = registrationType;\n        this._registrations = new Map();\n    }\n    *getDocumentSelectors() {\n        for (const registration of this._registrations.values()) {\n            const selector = registration.data.registerOptions.documentSelector;\n            if (selector === null) {\n                continue;\n            }\n            yield this._client.protocol2CodeConverter.asDocumentSelector(selector);\n        }\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let registration = this.registerLanguageProvider(data.registerOptions, data.id);\n        this._registrations.set(data.id, { disposable: registration[0], data, provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((value) => {\n            value.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getRegistration(documentSelector, capability) {\n        if (!capability) {\n            return [undefined, undefined];\n        }\n        else if (vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)) {\n            const id = vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability) ? capability.id : UUID.generateUuid();\n            const selector = capability.documentSelector || documentSelector;\n            if (selector) {\n                return [id, Object.assign({}, capability, { documentSelector: selector })];\n            }\n        }\n        else if (Is.boolean(capability) && capability === true || vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)) {\n            if (!documentSelector) {\n                return [undefined, undefined];\n            }\n            let options = (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n            return [UUID.generateUuid(), options];\n        }\n        return [undefined, undefined];\n    }\n    getRegistrationOptions(documentSelector, capability) {\n        if (!documentSelector || !capability) {\n            return undefined;\n        }\n        return (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n    }\n    getProvider(textDocument) {\n        for (const registration of this._registrations.values()) {\n            let selector = registration.data.registerOptions.documentSelector;\n            if (selector !== null && vscode_1.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(selector), textDocument) > 0) {\n                return registration.provider;\n            }\n        }\n        return undefined;\n    }\n    getAllProviders() {\n        const result = [];\n        for (const item of this._registrations.values()) {\n            result.push(item.provider);\n        }\n        return result;\n    }\n}\nexports.TextDocumentLanguageFeature = TextDocumentLanguageFeature;\nclass WorkspaceFeature {\n    constructor(client, registrationType) {\n        this._client = client;\n        this._registrationType = registrationType;\n        this._registrations = new Map();\n    }\n    getState() {\n        const registrations = this._registrations.size > 0;\n        return { kind: 'workspace', id: this._registrationType.method, registrations };\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        const registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((registration) => {\n            registration.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getProviders() {\n        const result = [];\n        for (const registration of this._registrations.values()) {\n            result.push(registration.provider);\n        }\n        return result;\n    }\n}\nexports.WorkspaceFeature = WorkspaceFeature;\n//# sourceMappingURL=features.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesFeature = exports.WillRenameFilesFeature = exports.WillCreateFilesFeature = exports.DidDeleteFilesFeature = exports.DidRenameFilesFeature = exports.DidCreateFilesFeature = void 0;\nconst code = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nfunction access(target, key) {\n    return target[key];\n}\nfunction assign(target, key, value) {\n    target[key] = value;\n}\nclass FileOperationFeature {\n    constructor(client, event, registrationType, clientCapability, serverCapability) {\n        this._client = client;\n        this._event = event;\n        this._registrationType = registrationType;\n        this._clientCapability = clientCapability;\n        this._serverCapability = serverCapability;\n        this._filters = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this._registrationType.method, registrations: this._filters.size > 0 };\n    }\n    filterSize() {\n        return this._filters.size;\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    fillClientCapabilities(capabilities) {\n        const value = ensure(ensure(capabilities, 'workspace'), 'fileOperations');\n        // this happens n times but it is the same value so we tolerate this.\n        assign(value, 'dynamicRegistration', true);\n        assign(value, this._clientCapability, true);\n    }\n    initialize(capabilities) {\n        const options = capabilities.workspace?.fileOperations;\n        const capability = options !== undefined ? access(options, this._serverCapability) : undefined;\n        if (capability?.filters !== undefined) {\n            try {\n                this.register({\n                    id: UUID.generateUuid(),\n                    registerOptions: { filters: capability.filters }\n                });\n            }\n            catch (e) {\n                this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`);\n            }\n        }\n    }\n    register(data) {\n        if (!this._listener) {\n            this._listener = this._event(this.send, this);\n        }\n        const minimatchFilter = data.registerOptions.filters.map((filter) => {\n            const matcher = new minimatch.Minimatch(filter.pattern.glob, FileOperationFeature.asMinimatchOptions(filter.pattern.options));\n            if (!matcher.makeRe()) {\n                throw new Error(`Invalid pattern ${filter.pattern.glob}!`);\n            }\n            return { scheme: filter.scheme, matcher, kind: filter.pattern.matches };\n        });\n        this._filters.set(data.id, minimatchFilter);\n    }\n    unregister(id) {\n        this._filters.delete(id);\n        if (this._filters.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._filters.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getFileType(uri) {\n        return FileOperationFeature.getFileType(uri);\n    }\n    async filter(event, prop) {\n        // (Asynchronously) map each file onto a boolean of whether it matches\n        // any of the globs.\n        const fileMatches = await Promise.all(event.files.map(async (item) => {\n            const uri = prop(item);\n            // Use fsPath to make this consistent with file system watchers but help\n            // minimatch to use '/' instead of `\\\\` if present.\n            const path = uri.fsPath.replace(/\\\\/g, '/');\n            for (const filters of this._filters.values()) {\n                for (const filter of filters) {\n                    if (filter.scheme !== undefined && filter.scheme !== uri.scheme) {\n                        continue;\n                    }\n                    if (filter.matcher.match(path)) {\n                        // The pattern matches. If kind is undefined then everything is ok\n                        if (filter.kind === undefined) {\n                            return true;\n                        }\n                        const fileType = await this.getFileType(uri);\n                        // If we can't determine the file type than we treat it as a match.\n                        // Dropping it would be another alternative.\n                        if (fileType === undefined) {\n                            this._client.error(`Failed to determine file type for ${uri.toString()}.`);\n                            return true;\n                        }\n                        if ((fileType === code.FileType.File && filter.kind === proto.FileOperationPatternKind.file) || (fileType === code.FileType.Directory && filter.kind === proto.FileOperationPatternKind.folder)) {\n                            return true;\n                        }\n                    }\n                    else if (filter.kind === proto.FileOperationPatternKind.folder) {\n                        const fileType = await FileOperationFeature.getFileType(uri);\n                        if (fileType === code.FileType.Directory && filter.matcher.match(`${path}/`)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        }));\n        // Filter the files to those that matched.\n        const files = event.files.filter((_, index) => fileMatches[index]);\n        return { ...event, files };\n    }\n    static async getFileType(uri) {\n        try {\n            return (await code.workspace.fs.stat(uri)).type;\n        }\n        catch (e) {\n            return undefined;\n        }\n    }\n    static asMinimatchOptions(options) {\n        if (options === undefined) {\n            return undefined;\n        }\n        if (options.ignoreCase === true) {\n            return { nocase: true };\n        }\n        return undefined;\n    }\n}\nclass NotificationFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, notificationType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, notificationType, clientCapability, serverCapability);\n        this._notificationType = notificationType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = async (event) => {\n                return this._client.sendNotification(this._notificationType, this._createParams(event));\n            };\n            return this.doSend(filteredEvent, next);\n        }\n    }\n}\nclass CachingNotificationFileOperationFeature extends NotificationFileOperationFeature {\n    constructor() {\n        super(...arguments);\n        this._fsPathFileTypes = new Map();\n    }\n    async getFileType(uri) {\n        const fsPath = uri.fsPath;\n        if (this._fsPathFileTypes.has(fsPath)) {\n            return this._fsPathFileTypes.get(fsPath);\n        }\n        const type = await FileOperationFeature.getFileType(uri);\n        if (type) {\n            this._fsPathFileTypes.set(fsPath, type);\n        }\n        return type;\n    }\n    async cacheFileTypes(event, prop) {\n        // Calling filter will force the matching logic to run. For any item\n        // that requires a getFileType lookup, the overriden getFileType will\n        // be called that will cache the result so that when onDidRename fires,\n        // it can still be checked even though the item no longer exists on disk\n        // in its original location.\n        await this.filter(event, prop);\n    }\n    clearFileTypeCache() {\n        this._fsPathFileTypes.clear();\n    }\n    unregister(id) {\n        super.unregister(id);\n        if (this.filterSize() === 0 && this._willListener) {\n            this._willListener.dispose();\n            this._willListener = undefined;\n        }\n    }\n    dispose() {\n        super.dispose();\n        if (this._willListener) {\n            this._willListener.dispose();\n            this._willListener = undefined;\n        }\n    }\n}\nclass DidCreateFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidCreateFiles, proto.DidCreateFilesNotification.type, 'didCreate', 'didCreate', (i) => i, client.code2ProtocolConverter.asDidCreateFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didCreateFiles\n            ? middleware.didCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidCreateFilesFeature = DidCreateFilesFeature;\nclass DidRenameFilesFeature extends CachingNotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidRenameFiles, proto.DidRenameFilesNotification.type, 'didRename', 'didRename', (i) => i.oldUri, client.code2ProtocolConverter.asDidRenameFilesParams);\n    }\n    register(data) {\n        if (!this._willListener) {\n            this._willListener = code.workspace.onWillRenameFiles(this.willRename, this);\n        }\n        super.register(data);\n    }\n    willRename(e) {\n        e.waitUntil(this.cacheFileTypes(e, (i) => i.oldUri));\n    }\n    doSend(event, next) {\n        this.clearFileTypeCache();\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didRenameFiles\n            ? middleware.didRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidRenameFilesFeature = DidRenameFilesFeature;\nclass DidDeleteFilesFeature extends CachingNotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidDeleteFiles, proto.DidDeleteFilesNotification.type, 'didDelete', 'didDelete', (i) => i, client.code2ProtocolConverter.asDidDeleteFilesParams);\n    }\n    register(data) {\n        if (!this._willListener) {\n            this._willListener = code.workspace.onWillDeleteFiles(this.willDelete, this);\n        }\n        super.register(data);\n    }\n    willDelete(e) {\n        e.waitUntil(this.cacheFileTypes(e, (i) => i));\n    }\n    doSend(event, next) {\n        this.clearFileTypeCache();\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didDeleteFiles\n            ? middleware.didDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidDeleteFilesFeature = DidDeleteFilesFeature;\nclass RequestFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, requestType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, requestType, clientCapability, serverCapability);\n        this._requestType = requestType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        const waitUntil = this.waitUntil(originalEvent);\n        originalEvent.waitUntil(waitUntil);\n    }\n    async waitUntil(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = (event) => {\n                return this._client.sendRequest(this._requestType, this._createParams(event), event.token)\n                    .then(this._client.protocol2CodeConverter.asWorkspaceEdit);\n            };\n            return this.doSend(filteredEvent, next);\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nclass WillCreateFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillCreateFiles, proto.WillCreateFilesRequest.type, 'willCreate', 'willCreate', (i) => i, client.code2ProtocolConverter.asWillCreateFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willCreateFiles\n            ? middleware.willCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillCreateFilesFeature = WillCreateFilesFeature;\nclass WillRenameFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillRenameFiles, proto.WillRenameFilesRequest.type, 'willRename', 'willRename', (i) => i.oldUri, client.code2ProtocolConverter.asWillRenameFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willRenameFiles\n            ? middleware.willRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillRenameFilesFeature = WillRenameFilesFeature;\nclass WillDeleteFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillDeleteFiles, proto.WillDeleteFilesRequest.type, 'willDelete', 'willDelete', (i) => i, client.code2ProtocolConverter.asWillDeleteFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willDeleteFiles\n            ? middleware.willDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillDeleteFilesFeature = WillDeleteFilesFeature;\n//# sourceMappingURL=fileOperations.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSystemWatcherFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass FileSystemWatcherFeature {\n    constructor(client, notifyFileEvent) {\n        this._client = client;\n        this._notifyFileEvent = notifyFileEvent;\n        this._watchers = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._watchers.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeWatchedFiles').relativePatternSupport = true;\n    }\n    initialize(_capabilities, _documentSelector) {\n    }\n    register(data) {\n        if (!Array.isArray(data.registerOptions.watchers)) {\n            return;\n        }\n        const disposables = [];\n        for (const watcher of data.registerOptions.watchers) {\n            const globPattern = this._client.protocol2CodeConverter.asGlobPattern(watcher.globPattern);\n            if (globPattern === undefined) {\n                continue;\n            }\n            let watchCreate = true, watchChange = true, watchDelete = true;\n            if (watcher.kind !== undefined && watcher.kind !== null) {\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) !== 0;\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) !== 0;\n            }\n            const fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(globPattern, !watchCreate, !watchChange, !watchDelete);\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, disposables);\n            disposables.push(fileSystemWatcher);\n        }\n        this._watchers.set(data.id, disposables);\n    }\n    registerRaw(id, fileSystemWatchers) {\n        let disposables = [];\n        for (let fileSystemWatcher of fileSystemWatchers) {\n            this.hookListeners(fileSystemWatcher, true, true, true, disposables);\n        }\n        this._watchers.set(id, disposables);\n    }\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\n        if (watchCreate) {\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\n            }), null, listeners);\n        }\n        if (watchChange) {\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\n            }), null, listeners);\n        }\n        if (watchDelete) {\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\n            }), null, listeners);\n        }\n    }\n    unregister(id) {\n        let disposables = this._watchers.get(id);\n        if (disposables) {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        }\n    }\n    dispose() {\n        this._watchers.forEach((disposables) => {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        });\n        this._watchers.clear();\n    }\n}\nexports.FileSystemWatcherFeature = FileSystemWatcherFeature;\n//# sourceMappingURL=fileSystemWatcher.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass FoldingRangeFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'foldingRange');\n        capability.dynamicRegistration = true;\n        capability.rangeLimit = 5000;\n        capability.lineFoldingOnly = true;\n        capability.foldingRangeKind = { valueSet: [vscode_languageserver_protocol_1.FoldingRangeKind.Comment, vscode_languageserver_protocol_1.FoldingRangeKind.Imports, vscode_languageserver_protocol_1.FoldingRangeKind.Region] };\n        capability.foldingRange = { collapsedText: false };\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.foldingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideFoldingRanges: (document, context, token) => {\n                const client = this._client;\n                const provideFoldingRanges = (document, _, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asFoldingRanges(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideFoldingRanges\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\n                    : provideFoldingRanges(document, context, token);\n            }\n        };\n        return [vscode_1.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.FoldingRangeFeature = FoldingRangeFeature;\n//# sourceMappingURL=foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentOnTypeFormattingFeature = exports.DocumentRangeFormattingFeature = exports.DocumentFormattingFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nvar FileFormattingOptions;\n(function (FileFormattingOptions) {\n    function fromConfiguration(document) {\n        const filesConfig = vscode_1.workspace.getConfiguration('files', document);\n        return {\n            trimTrailingWhitespace: filesConfig.get('trimTrailingWhitespace'),\n            trimFinalNewlines: filesConfig.get('trimFinalNewlines'),\n            insertFinalNewline: filesConfig.get('insertFinalNewline'),\n        };\n    }\n    FileFormattingOptions.fromConfiguration = fromConfiguration;\n})(FileFormattingOptions || (FileFormattingOptions = {}));\nclass DocumentFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'formatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentFormattingEdits: (document, options, token) => {\n                const client = this._client;\n                const provideDocumentFormattingEdits = (document, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentFormattingEdits\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\n                    : provideDocumentFormattingEdits(document, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentFormattingFeature = DocumentFormattingFeature;\nclass DocumentRangeFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'rangeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentRangeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\n                const client = this._client;\n                const provideDocumentRangeFormattingEdits = (document, range, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentRangeFormattingEdits\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentRangeFormattingFeature = DocumentRangeFormattingFeature;\nclass DocumentOnTypeFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentOnTypeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\n                const client = this._client;\n                const provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        ch: ch,\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideOnTypeFormattingEdits\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\n            }\n        };\n        const moreTriggerCharacter = options.moreTriggerCharacter || [];\n        return [vscode_1.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, options.firstTriggerCharacter, ...moreTriggerCharacter), provider];\n    }\n}\nexports.DocumentOnTypeFormattingFeature = DocumentOnTypeFormattingFeature;\n//# sourceMappingURL=formatting.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HoverFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass HoverFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const hoverCapability = ((0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'hover'));\n        hoverCapability.dynamicRegistration = true;\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.hoverProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideHover: (document, position, token) => {\n                const client = this._client;\n                const provideHover = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asHover(result);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideHover\n                    ? middleware.provideHover(document, position, token, provideHover)\n                    : provideHover(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.HoverFeature = HoverFeature;\n//# sourceMappingURL=hover.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass ImplementationFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let implementationSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'implementation');\n        implementationSupport.dynamicRegistration = true;\n        implementationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.implementationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideImplementation: (document, position, token) => {\n                const client = this._client;\n                const provideImplementation = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideImplementation\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\n                    : provideImplementation(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.ImplementationFeature = ImplementationFeature;\n//# sourceMappingURL=implementation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintsFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass InlayHintsFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlayHintRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const inlayHint = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlayHint');\n        inlayHint.dynamicRegistration = true;\n        inlayHint.resolveSupport = {\n            properties: ['tooltip', 'textEdits', 'label.tooltip', 'label.location', 'label.command']\n        };\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'inlayHint').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeInlayHints.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.inlayHintProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeInlayHints: eventEmitter.event,\n            provideInlayHints: (document, viewPort, token) => {\n                const client = this._client;\n                const provideInlayHints = async (document, viewPort, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(viewPort)\n                    };\n                    try {\n                        const values = await client.sendRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, requestParams, token);\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlayHints(values, token);\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.provideInlayHints\n                    ? middleware.provideInlayHints(document, viewPort, token, provideInlayHints)\n                    : provideInlayHints(document, viewPort, token);\n            }\n        };\n        provider.resolveInlayHint = options.resolveProvider === true\n            ? (hint, token) => {\n                const client = this._client;\n                const resolveInlayHint = async (item, token) => {\n                    try {\n                        const value = await client.sendRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, client.code2ProtocolConverter.asInlayHint(item), token);\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        const result = client.protocol2CodeConverter.asInlayHint(value, token);\n                        return token.isCancellationRequested ? null : result;\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.resolveInlayHint\n                    ? middleware.resolveInlayHint(hint, token, resolveInlayHint)\n                    : resolveInlayHint(hint, token);\n            }\n            : undefined;\n        return [this.registerProvider(selector, provider), { provider: provider, onDidChangeInlayHints: eventEmitter }];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.InlayHintsFeature = InlayHintsFeature;\n//# sourceMappingURL=inlayHint.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass InlineValueFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlineValueRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlineValue').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'inlineValue').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeInlineValues.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.inlineValueProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeInlineValues: eventEmitter.event,\n            provideInlineValues: (document, viewPort, context, token) => {\n                const client = this._client;\n                const provideInlineValues = (document, viewPort, context, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(viewPort),\n                        context: client.code2ProtocolConverter.asInlineValueContext(context)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, requestParams, token).then((values) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlineValues(values, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideInlineValues\n                    ? middleware.provideInlineValues(document, viewPort, context, token, provideInlineValues)\n                    : provideInlineValues(document, viewPort, context, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), { provider: provider, onDidChangeInlineValues: eventEmitter }];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.InlineValueFeature = InlineValueFeature;\n//# sourceMappingURL=inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingFeature = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass LinkedEditingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, proto.LinkedEditingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const linkedEditingSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'linkedEditingRange');\n        linkedEditingSupport.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.linkedEditingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideLinkedEditingRanges: (document, position, token) => {\n                const client = this._client;\n                const provideLinkedEditing = (document, position, token) => {\n                    return client.sendRequest(proto.LinkedEditingRangeRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asLinkedEditingRanges(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(proto.LinkedEditingRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideLinkedEditingRange\n                    ? middleware.provideLinkedEditingRange(document, position, token, provideLinkedEditing)\n                    : provideLinkedEditing(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return code.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.LinkedEditingFeature = LinkedEditingFeature;\n//# sourceMappingURL=linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocumentSyncFeature = void 0;\nconst vscode = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst Is = require(\"./utils/is\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar Converter;\n(function (Converter) {\n    let c2p;\n    (function (c2p) {\n        function asVersionedNotebookDocumentIdentifier(notebookDocument, base) {\n            return {\n                version: notebookDocument.version,\n                uri: base.asUri(notebookDocument.uri)\n            };\n        }\n        c2p.asVersionedNotebookDocumentIdentifier = asVersionedNotebookDocumentIdentifier;\n        function asNotebookDocument(notebookDocument, cells, base) {\n            const result = proto.NotebookDocument.create(base.asUri(notebookDocument.uri), notebookDocument.notebookType, notebookDocument.version, asNotebookCells(cells, base));\n            if (Object.keys(notebookDocument.metadata).length > 0) {\n                result.metadata = asMetadata(notebookDocument.metadata);\n            }\n            return result;\n        }\n        c2p.asNotebookDocument = asNotebookDocument;\n        function asNotebookCells(cells, base) {\n            return cells.map(cell => asNotebookCell(cell, base));\n        }\n        c2p.asNotebookCells = asNotebookCells;\n        function asMetadata(metadata) {\n            const seen = new Set();\n            return deepCopy(seen, metadata);\n        }\n        c2p.asMetadata = asMetadata;\n        function asNotebookCell(cell, base) {\n            const result = proto.NotebookCell.create(asNotebookCellKind(cell.kind), base.asUri(cell.document.uri));\n            if (Object.keys(cell.metadata).length > 0) {\n                result.metadata = asMetadata(cell.metadata);\n            }\n            if (cell.executionSummary !== undefined && (Is.number(cell.executionSummary.executionOrder) && Is.boolean(cell.executionSummary.success))) {\n                result.executionSummary = {\n                    executionOrder: cell.executionSummary.executionOrder,\n                    success: cell.executionSummary.success\n                };\n            }\n            return result;\n        }\n        c2p.asNotebookCell = asNotebookCell;\n        function asNotebookCellKind(kind) {\n            switch (kind) {\n                case vscode.NotebookCellKind.Markup:\n                    return proto.NotebookCellKind.Markup;\n                case vscode.NotebookCellKind.Code:\n                    return proto.NotebookCellKind.Code;\n            }\n        }\n        function deepCopy(seen, value) {\n            if (seen.has(value)) {\n                throw new Error(`Can't deep copy cyclic structures.`);\n            }\n            if (Array.isArray(value)) {\n                const result = [];\n                for (const elem of value) {\n                    if (elem !== null && typeof elem === 'object' || Array.isArray(elem)) {\n                        result.push(deepCopy(seen, elem));\n                    }\n                    else {\n                        if (elem instanceof RegExp) {\n                            throw new Error(`Can't transfer regular expressions to the server`);\n                        }\n                        result.push(elem);\n                    }\n                }\n                return result;\n            }\n            else {\n                const props = Object.keys(value);\n                const result = Object.create(null);\n                for (const prop of props) {\n                    const elem = value[prop];\n                    if (elem !== null && typeof elem === 'object' || Array.isArray(elem)) {\n                        result[prop] = deepCopy(seen, elem);\n                    }\n                    else {\n                        if (elem instanceof RegExp) {\n                            throw new Error(`Can't transfer regular expressions to the server`);\n                        }\n                        result[prop] = elem;\n                    }\n                }\n                return result;\n            }\n        }\n        function asTextContentChange(event, base) {\n            const params = base.asChangeTextDocumentParams(event);\n            return { document: params.textDocument, changes: params.contentChanges };\n        }\n        c2p.asTextContentChange = asTextContentChange;\n        function asNotebookDocumentChangeEvent(event, base) {\n            const result = Object.create(null);\n            if (event.metadata) {\n                result.metadata = Converter.c2p.asMetadata(event.metadata);\n            }\n            if (event.cells !== undefined) {\n                const cells = Object.create(null);\n                const changedCells = event.cells;\n                if (changedCells.structure) {\n                    cells.structure = {\n                        array: {\n                            start: changedCells.structure.array.start,\n                            deleteCount: changedCells.structure.array.deleteCount,\n                            cells: changedCells.structure.array.cells !== undefined ? changedCells.structure.array.cells.map(cell => Converter.c2p.asNotebookCell(cell, base)) : undefined\n                        },\n                        didOpen: changedCells.structure.didOpen !== undefined\n                            ? changedCells.structure.didOpen.map(cell => base.asOpenTextDocumentParams(cell.document).textDocument)\n                            : undefined,\n                        didClose: changedCells.structure.didClose !== undefined\n                            ? changedCells.structure.didClose.map(cell => base.asCloseTextDocumentParams(cell.document).textDocument)\n                            : undefined\n                    };\n                }\n                if (changedCells.data !== undefined) {\n                    cells.data = changedCells.data.map(cell => Converter.c2p.asNotebookCell(cell, base));\n                }\n                if (changedCells.textContent !== undefined) {\n                    cells.textContent = changedCells.textContent.map(event => Converter.c2p.asTextContentChange(event, base));\n                }\n                if (Object.keys(cells).length > 0) {\n                    result.cells = cells;\n                }\n            }\n            return result;\n        }\n        c2p.asNotebookDocumentChangeEvent = asNotebookDocumentChangeEvent;\n    })(c2p = Converter.c2p || (Converter.c2p = {}));\n})(Converter || (Converter = {}));\nvar $NotebookCell;\n(function ($NotebookCell) {\n    function computeDiff(originalCells, modifiedCells, compareMetadata) {\n        const originalLength = originalCells.length;\n        const modifiedLength = modifiedCells.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && equals(originalCells[startIndex], modifiedCells[startIndex], compareMetadata)) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= 0 && modifiedEndIndex >= 0 && equals(originalCells[originalEndIndex], modifiedCells[modifiedEndIndex], compareMetadata)) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            const deleteCount = (originalEndIndex + 1) - startIndex;\n            const newCells = startIndex === modifiedEndIndex + 1 ? undefined : modifiedCells.slice(startIndex, modifiedEndIndex + 1);\n            return newCells !== undefined ? { start: startIndex, deleteCount, cells: newCells } : { start: startIndex, deleteCount };\n        }\n        else if (startIndex < modifiedLength) {\n            return { start: startIndex, deleteCount: 0, cells: modifiedCells.slice(startIndex) };\n        }\n        else if (startIndex < originalLength) {\n            return { start: startIndex, deleteCount: originalLength - startIndex };\n        }\n        else {\n            // The two arrays are the same.\n            return undefined;\n        }\n    }\n    $NotebookCell.computeDiff = computeDiff;\n    /**\n     * We only sync kind, document, execution and metadata to the server. So we only need to compare those.\n     */\n    function equals(one, other, compareMetaData = true) {\n        if (one.kind !== other.kind || one.document.uri.toString() !== other.document.uri.toString() || one.document.languageId !== other.document.languageId ||\n            !equalsExecution(one.executionSummary, other.executionSummary)) {\n            return false;\n        }\n        return !compareMetaData || (compareMetaData && equalsMetadata(one.metadata, other.metadata));\n    }\n    function equalsExecution(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === undefined || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success && equalsTiming(one.timing, other.timing);\n    }\n    function equalsTiming(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === undefined || other === undefined) {\n            return false;\n        }\n        return one.startTime === other.startTime && one.endTime === other.endTime;\n    }\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (isObjectLiteral(one) && isObjectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    function isObjectLiteral(value) {\n        return value !== null && typeof value === 'object';\n    }\n    $NotebookCell.isObjectLiteral = isObjectLiteral;\n})($NotebookCell || ($NotebookCell = {}));\nvar $NotebookDocumentFilter;\n(function ($NotebookDocumentFilter) {\n    function matchNotebook(filter, notebookDocument) {\n        if (typeof filter === 'string') {\n            return filter === '*' || notebookDocument.notebookType === filter;\n        }\n        if (filter.notebookType !== undefined && filter.notebookType !== '*' && notebookDocument.notebookType !== filter.notebookType) {\n            return false;\n        }\n        const uri = notebookDocument.uri;\n        if (filter.scheme !== undefined && filter.scheme !== '*' && uri.scheme !== filter.scheme) {\n            return false;\n        }\n        if (filter.pattern !== undefined) {\n            const matcher = new minimatch.Minimatch(filter.pattern, { noext: true });\n            if (!matcher.makeRe()) {\n                return false;\n            }\n            if (!matcher.match(uri.fsPath)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    $NotebookDocumentFilter.matchNotebook = matchNotebook;\n})($NotebookDocumentFilter || ($NotebookDocumentFilter = {}));\nvar $NotebookDocumentSyncOptions;\n(function ($NotebookDocumentSyncOptions) {\n    function asDocumentSelector(options) {\n        const selector = options.notebookSelector;\n        const result = [];\n        for (const element of selector) {\n            const notebookType = (typeof element.notebook === 'string' ? element.notebook : element.notebook?.notebookType) ?? '*';\n            const scheme = (typeof element.notebook === 'string') ? undefined : element.notebook?.scheme;\n            const pattern = (typeof element.notebook === 'string') ? undefined : element.notebook?.pattern;\n            if (element.cells !== undefined) {\n                for (const cell of element.cells) {\n                    result.push(asDocumentFilter(notebookType, scheme, pattern, cell.language));\n                }\n            }\n            else {\n                result.push(asDocumentFilter(notebookType, scheme, pattern, undefined));\n            }\n        }\n        return result;\n    }\n    $NotebookDocumentSyncOptions.asDocumentSelector = asDocumentSelector;\n    function asDocumentFilter(notebookType, scheme, pattern, language) {\n        return scheme === undefined && pattern === undefined\n            ? { notebook: notebookType, language }\n            : { notebook: { notebookType, scheme, pattern }, language };\n    }\n})($NotebookDocumentSyncOptions || ($NotebookDocumentSyncOptions = {}));\nvar SyncInfo;\n(function (SyncInfo) {\n    function create(cells) {\n        return {\n            cells,\n            uris: new Set(cells.map(cell => cell.document.uri.toString()))\n        };\n    }\n    SyncInfo.create = create;\n})(SyncInfo || (SyncInfo = {}));\nclass NotebookDocumentSyncFeatureProvider {\n    constructor(client, options) {\n        this.client = client;\n        this.options = options;\n        this.notebookSyncInfo = new Map();\n        this.notebookDidOpen = new Set();\n        this.disposables = [];\n        this.selector = client.protocol2CodeConverter.asDocumentSelector($NotebookDocumentSyncOptions.asDocumentSelector(options));\n        // open\n        vscode.workspace.onDidOpenNotebookDocument((notebookDocument) => {\n            this.notebookDidOpen.add(notebookDocument.uri.toString());\n            this.didOpen(notebookDocument);\n        }, undefined, this.disposables);\n        for (const notebookDocument of vscode.workspace.notebookDocuments) {\n            this.notebookDidOpen.add(notebookDocument.uri.toString());\n            this.didOpen(notebookDocument);\n        }\n        // Notebook document changed.\n        vscode.workspace.onDidChangeNotebookDocument(event => this.didChangeNotebookDocument(event), undefined, this.disposables);\n        //save\n        if (this.options.save === true) {\n            vscode.workspace.onDidSaveNotebookDocument(notebookDocument => this.didSave(notebookDocument), undefined, this.disposables);\n        }\n        // close\n        vscode.workspace.onDidCloseNotebookDocument((notebookDocument) => {\n            this.didClose(notebookDocument);\n            this.notebookDidOpen.delete(notebookDocument.uri.toString());\n        }, undefined, this.disposables);\n    }\n    getState() {\n        for (const notebook of vscode.workspace.notebookDocuments) {\n            const matchingCells = this.getMatchingCells(notebook);\n            if (matchingCells !== undefined) {\n                return { kind: 'document', id: '$internal', registrations: true, matches: true };\n            }\n        }\n        return { kind: 'document', id: '$internal', registrations: true, matches: false };\n    }\n    get mode() {\n        return 'notebook';\n    }\n    handles(textDocument) {\n        return vscode.languages.match(this.selector, textDocument) > 0;\n    }\n    didOpenNotebookCellTextDocument(notebookDocument, cell) {\n        if (vscode.languages.match(this.selector, cell.document) === 0) {\n            return;\n        }\n        if (!this.notebookDidOpen.has(notebookDocument.uri.toString())) {\n            // We have never received an open notification for the notebook document.\n            // VS Code guarantees that we first get cell document open and then\n            // notebook open. So simply wait for the notebook open.\n            return;\n        }\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        // In VS Code we receive a notebook open before a cell document open.\n        // The document and the cell is synced.\n        const cellMatches = this.cellMatches(notebookDocument, cell);\n        if (syncInfo !== undefined) {\n            const cellIsSynced = syncInfo.uris.has(cell.document.uri.toString());\n            if ((cellMatches && cellIsSynced) || (!cellMatches && !cellIsSynced)) {\n                // The cell doesn't match and was not synced or it matches and is synced.\n                // In both cases nothing to do.\n                //\n                // Note that if the language mode of a document changes we remove the\n                // cell and add it back to update the language mode on the server side.\n                return;\n            }\n            if (cellMatches) {\n                // don't use cells from above since there might be more matching cells in the notebook\n                // Since we had a matching cell above we will have matching cells now.\n                const matchingCells = this.getMatchingCells(notebookDocument);\n                if (matchingCells !== undefined) {\n                    const event = this.asNotebookDocumentChangeEvent(notebookDocument, undefined, syncInfo, matchingCells);\n                    if (event !== undefined) {\n                        this.doSendChange(event, matchingCells).catch(() => { });\n                    }\n                }\n            }\n        }\n        else {\n            // No sync info. But we have a open event for the notebook document\n            // itself. If the cell matches then we need to send an open with\n            // exactly that cell.\n            if (cellMatches) {\n                this.doSendOpen(notebookDocument, [cell]).catch(() => { });\n            }\n        }\n    }\n    didChangeNotebookCellTextDocument(notebookDocument, event) {\n        // No match with the selector\n        if (vscode.languages.match(this.selector, event.document) === 0) {\n            return;\n        }\n        this.doSendChange({\n            notebook: notebookDocument,\n            cells: { textContent: [event] }\n        }, undefined).catch(() => { });\n    }\n    didCloseNotebookCellTextDocument(notebookDocument, cell) {\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            // The notebook document got never synced. So it doesn't matter if a cell\n            // document closes.\n            return;\n        }\n        const cellUri = cell.document.uri;\n        const index = syncInfo.cells.findIndex((item) => item.document.uri.toString() === cellUri.toString());\n        if (index === -1) {\n            // The cell never got synced or it got deleted and we now received the document\n            // close event.\n            return;\n        }\n        if (index === 0 && syncInfo.cells.length === 1) {\n            // The last cell. Close the notebook document in the server.\n            this.doSendClose(notebookDocument, syncInfo.cells).catch(() => { });\n        }\n        else {\n            const newCells = syncInfo.cells.slice();\n            const deleted = newCells.splice(index, 1);\n            this.doSendChange({\n                notebook: notebookDocument,\n                cells: {\n                    structure: {\n                        array: { start: index, deleteCount: 1 },\n                        didClose: deleted\n                    }\n                }\n            }, newCells).catch(() => { });\n        }\n    }\n    dispose() {\n        for (const disposable of this.disposables) {\n            disposable.dispose();\n        }\n    }\n    didOpen(notebookDocument, matchingCells = this.getMatchingCells(notebookDocument), syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString())) {\n        if (syncInfo !== undefined) {\n            if (matchingCells !== undefined) {\n                const event = this.asNotebookDocumentChangeEvent(notebookDocument, undefined, syncInfo, matchingCells);\n                if (event !== undefined) {\n                    this.doSendChange(event, matchingCells).catch(() => { });\n                }\n            }\n            else {\n                this.doSendClose(notebookDocument, []).catch(() => { });\n            }\n        }\n        else {\n            // Check if we need to sync the notebook document.\n            if (matchingCells === undefined) {\n                return;\n            }\n            this.doSendOpen(notebookDocument, matchingCells).catch(() => { });\n        }\n    }\n    didChangeNotebookDocument(event) {\n        const notebookDocument = event.notebook;\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            // We have no changes to the cells. Since the notebook wasn't synced\n            // it will not be synced now.\n            if (event.contentChanges.length === 0) {\n                return;\n            }\n            // Check if we have new matching cells.\n            const cells = this.getMatchingCells(notebookDocument);\n            // No matching cells and the notebook never synced. So still no need\n            // to sync it.\n            if (cells === undefined) {\n                return;\n            }\n            // Open the notebook document and ignore the rest of the changes\n            // this the notebooks will be synced with the correct settings.\n            this.didOpen(notebookDocument, cells, syncInfo);\n        }\n        else {\n            // The notebook is synced. First check if we have no matching\n            // cells anymore and if so close the notebook\n            const cells = this.getMatchingCells(notebookDocument);\n            if (cells === undefined) {\n                this.didClose(notebookDocument, syncInfo);\n                return;\n            }\n            const newEvent = this.asNotebookDocumentChangeEvent(event.notebook, event, syncInfo, cells);\n            if (newEvent !== undefined) {\n                this.doSendChange(newEvent, cells).catch(() => { });\n            }\n        }\n    }\n    didSave(notebookDocument) {\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            return;\n        }\n        this.doSendSave(notebookDocument).catch(() => { });\n    }\n    didClose(notebookDocument, syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString())) {\n        if (syncInfo === undefined) {\n            return;\n        }\n        const syncedCells = notebookDocument.getCells().filter(cell => syncInfo.uris.has(cell.document.uri.toString()));\n        this.doSendClose(notebookDocument, syncedCells).catch(() => { });\n    }\n    async sendDidOpenNotebookDocument(notebookDocument) {\n        const cells = this.getMatchingCells(notebookDocument);\n        if (cells === undefined) {\n            return;\n        }\n        return this.doSendOpen(notebookDocument, cells);\n    }\n    async doSendOpen(notebookDocument, cells) {\n        const send = async (notebookDocument, cells) => {\n            const nb = Converter.c2p.asNotebookDocument(notebookDocument, cells, this.client.code2ProtocolConverter);\n            const cellDocuments = cells.map(cell => this.client.code2ProtocolConverter.asTextDocumentItem(cell.document));\n            try {\n                await this.client.sendNotification(proto.DidOpenNotebookDocumentNotification.type, {\n                    notebookDocument: nb,\n                    cellTextDocuments: cellDocuments\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidOpenNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        this.notebookSyncInfo.set(notebookDocument.uri.toString(), SyncInfo.create(cells));\n        return middleware?.didOpen !== undefined ? middleware.didOpen(notebookDocument, cells, send) : send(notebookDocument, cells);\n    }\n    async sendDidChangeNotebookDocument(event) {\n        return this.doSendChange(event, undefined);\n    }\n    async doSendChange(event, cells = this.getMatchingCells(event.notebook)) {\n        const send = async (event) => {\n            try {\n                await this.client.sendNotification(proto.DidChangeNotebookDocumentNotification.type, {\n                    notebookDocument: Converter.c2p.asVersionedNotebookDocumentIdentifier(event.notebook, this.client.code2ProtocolConverter),\n                    change: Converter.c2p.asNotebookDocumentChangeEvent(event, this.client.code2ProtocolConverter)\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidChangeNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        if (event.cells?.structure !== undefined) {\n            this.notebookSyncInfo.set(event.notebook.uri.toString(), SyncInfo.create(cells ?? []));\n        }\n        return middleware?.didChange !== undefined ? middleware?.didChange(event, send) : send(event);\n    }\n    async sendDidSaveNotebookDocument(notebookDocument) {\n        return this.doSendSave(notebookDocument);\n    }\n    async doSendSave(notebookDocument) {\n        const send = async (notebookDocument) => {\n            try {\n                await this.client.sendNotification(proto.DidSaveNotebookDocumentNotification.type, {\n                    notebookDocument: { uri: this.client.code2ProtocolConverter.asUri(notebookDocument.uri) }\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidSaveNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        return middleware?.didSave !== undefined ? middleware.didSave(notebookDocument, send) : send(notebookDocument);\n    }\n    async sendDidCloseNotebookDocument(notebookDocument) {\n        return this.doSendClose(notebookDocument, this.getMatchingCells(notebookDocument) ?? []);\n    }\n    async doSendClose(notebookDocument, cells) {\n        const send = async (notebookDocument, cells) => {\n            try {\n                await this.client.sendNotification(proto.DidCloseNotebookDocumentNotification.type, {\n                    notebookDocument: { uri: this.client.code2ProtocolConverter.asUri(notebookDocument.uri) },\n                    cellTextDocuments: cells.map(cell => this.client.code2ProtocolConverter.asTextDocumentIdentifier(cell.document))\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidCloseNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        this.notebookSyncInfo.delete(notebookDocument.uri.toString());\n        return middleware?.didClose !== undefined ? middleware.didClose(notebookDocument, cells, send) : send(notebookDocument, cells);\n    }\n    asNotebookDocumentChangeEvent(notebook, event, syncInfo, matchingCells) {\n        if (event !== undefined && event.notebook !== notebook) {\n            throw new Error('Notebook must be identical');\n        }\n        const result = {\n            notebook: notebook\n        };\n        if (event?.metadata !== undefined) {\n            result.metadata = Converter.c2p.asMetadata(event.metadata);\n        }\n        let matchingCellsSet;\n        if (event?.cellChanges !== undefined && event.cellChanges.length > 0) {\n            const data = [];\n            // Only consider the new matching cells.\n            matchingCellsSet = new Set(matchingCells.map(cell => cell.document.uri.toString()));\n            for (const cellChange of event.cellChanges) {\n                if (matchingCellsSet.has(cellChange.cell.document.uri.toString()) && (cellChange.executionSummary !== undefined || cellChange.metadata !== undefined)) {\n                    data.push(cellChange.cell);\n                }\n            }\n            if (data.length > 0) {\n                result.cells = result.cells ?? {};\n                result.cells.data = data;\n            }\n        }\n        if (((event?.contentChanges !== undefined && event.contentChanges.length > 0) || event === undefined) && syncInfo !== undefined && matchingCells !== undefined) {\n            // We still have matching cells. Check if the cell changes\n            // affect the notebook on the server side.\n            const oldCells = syncInfo.cells;\n            const newCells = matchingCells;\n            // meta data changes are reported using on the cell itself. So we can ignore comparing\n            // it which has a positive effect on performance.\n            const diff = $NotebookCell.computeDiff(oldCells, newCells, false);\n            let addedCells;\n            let removedCells;\n            if (diff !== undefined) {\n                addedCells = diff.cells === undefined\n                    ? new Map()\n                    : new Map(diff.cells.map(cell => [cell.document.uri.toString(), cell]));\n                removedCells = diff.deleteCount === 0\n                    ? new Map()\n                    : new Map(oldCells.slice(diff.start, diff.start + diff.deleteCount).map(cell => [cell.document.uri.toString(), cell]));\n                // Remove the onces that got deleted and inserted again.\n                for (const key of Array.from(removedCells.keys())) {\n                    if (addedCells.has(key)) {\n                        removedCells.delete(key);\n                        addedCells.delete(key);\n                    }\n                }\n                result.cells = result.cells ?? {};\n                const didOpen = [];\n                const didClose = [];\n                if (addedCells.size > 0 || removedCells.size > 0) {\n                    for (const cell of addedCells.values()) {\n                        didOpen.push(cell);\n                    }\n                    for (const cell of removedCells.values()) {\n                        didClose.push(cell);\n                    }\n                }\n                result.cells.structure = {\n                    array: diff,\n                    didOpen,\n                    didClose\n                };\n            }\n        }\n        // The notebook is a property as well.\n        return Object.keys(result).length > 1 ? result : undefined;\n    }\n    getMatchingCells(notebookDocument, cells = notebookDocument.getCells()) {\n        if (this.options.notebookSelector === undefined) {\n            return undefined;\n        }\n        for (const item of this.options.notebookSelector) {\n            if (item.notebook === undefined || $NotebookDocumentFilter.matchNotebook(item.notebook, notebookDocument)) {\n                const filtered = this.filterCells(notebookDocument, cells, item.cells);\n                return filtered.length === 0 ? undefined : filtered;\n            }\n        }\n        return undefined;\n    }\n    cellMatches(notebookDocument, cell) {\n        const cells = this.getMatchingCells(notebookDocument, [cell]);\n        return cells !== undefined && cells[0] === cell;\n    }\n    filterCells(notebookDocument, cells, cellSelector) {\n        const filtered = cellSelector !== undefined ? cells.filter((cell) => {\n            const cellLanguage = cell.document.languageId;\n            return cellSelector.some((filter => (filter.language === '*' || cellLanguage === filter.language)));\n        }) : cells;\n        return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells === 'function'\n            ? this.client.clientOptions.notebookDocumentOptions.filterCells(notebookDocument, filtered)\n            : filtered;\n    }\n}\nclass NotebookDocumentSyncFeature {\n    constructor(client) {\n        this.client = client;\n        this.registrations = new Map();\n        this.registrationType = proto.NotebookDocumentSyncRegistrationType.type;\n        // We don't receive an event for cells where the document changes its language mode\n        // Since we allow servers to filter on the language mode we fire such an event ourselves.\n        vscode.workspace.onDidOpenTextDocument((textDocument) => {\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            const [notebookDocument, notebookCell] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined || notebookCell === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didOpenNotebookCellTextDocument(notebookDocument, notebookCell);\n                }\n            }\n        });\n        vscode.workspace.onDidChangeTextDocument((event) => {\n            if (event.contentChanges.length === 0) {\n                return;\n            }\n            const textDocument = event.document;\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            const [notebookDocument,] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didChangeNotebookCellTextDocument(notebookDocument, event);\n                }\n            }\n        });\n        vscode.workspace.onDidCloseTextDocument((textDocument) => {\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            // There are two cases when we receive a close for a text document\n            // 1: the cell got removed. This is handled in `onDidChangeNotebookCells`\n            // 2: the language mode of a cell changed. This keeps the URI stable so\n            //    we will still find the cell and the notebook document.\n            const [notebookDocument, notebookCell] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined || notebookCell === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didCloseNotebookCellTextDocument(notebookDocument, notebookCell);\n                }\n            }\n        });\n    }\n    getState() {\n        if (this.registrations.size === 0) {\n            return { kind: 'document', id: this.registrationType.method, registrations: false, matches: false };\n        }\n        for (const provider of this.registrations.values()) {\n            const state = provider.getState();\n            if (state.kind === 'document' && state.registrations === true && state.matches === true) {\n                return { kind: 'document', id: this.registrationType.method, registrations: true, matches: true };\n            }\n        }\n        return { kind: 'document', id: this.registrationType.method, registrations: true, matches: false };\n    }\n    fillClientCapabilities(capabilities) {\n        const synchronization = ensure(ensure(capabilities, 'notebookDocument'), 'synchronization');\n        synchronization.dynamicRegistration = true;\n        synchronization.executionSummarySupport = true;\n    }\n    preInitialize(capabilities) {\n        const options = capabilities.notebookDocumentSync;\n        if (options === undefined) {\n            return;\n        }\n        this.dedicatedChannel = this.client.protocol2CodeConverter.asDocumentSelector($NotebookDocumentSyncOptions.asDocumentSelector(options));\n    }\n    initialize(capabilities) {\n        const options = capabilities.notebookDocumentSync;\n        if (options === undefined) {\n            return;\n        }\n        const id = options.id ?? UUID.generateUuid();\n        this.register({ id, registerOptions: options });\n    }\n    register(data) {\n        const provider = new NotebookDocumentSyncFeatureProvider(this.client, data.registerOptions);\n        this.registrations.set(data.id, provider);\n    }\n    unregister(id) {\n        const provider = this.registrations.get(id);\n        provider && provider.dispose();\n    }\n    dispose() {\n        for (const provider of this.registrations.values()) {\n            provider.dispose();\n        }\n        this.registrations.clear();\n    }\n    handles(textDocument) {\n        if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n            return false;\n        }\n        if (this.dedicatedChannel !== undefined && vscode.languages.match(this.dedicatedChannel, textDocument) > 0) {\n            return true;\n        }\n        for (const provider of this.registrations.values()) {\n            if (provider.handles(textDocument)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getProvider(notebookCell) {\n        for (const provider of this.registrations.values()) {\n            if (provider.handles(notebookCell.document)) {\n                return provider;\n            }\n        }\n        return undefined;\n    }\n    findNotebookDocumentAndCell(textDocument) {\n        const uri = textDocument.uri.toString();\n        for (const notebookDocument of vscode.workspace.notebookDocuments) {\n            for (const cell of notebookDocument.getCells()) {\n                if (cell.document.uri.toString() === uri) {\n                    return [notebookDocument, cell];\n                }\n            }\n        }\n        return [undefined, undefined];\n    }\n}\nexports.NotebookDocumentSyncFeature = NotebookDocumentSyncFeature;\nNotebookDocumentSyncFeature.CellScheme = 'vscode-notebook-cell';\n//# sourceMappingURL=notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst progressPart_1 = require(\"./progressPart\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass ProgressFeature {\n    constructor(_client) {\n        this._client = _client;\n        this.activeParts = new Set();\n    }\n    getState() {\n        return { kind: 'window', id: vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.method, registrations: this.activeParts.size > 0 };\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(capabilities, 'window').workDoneProgress = true;\n    }\n    initialize() {\n        const client = this._client;\n        const deleteHandler = (part) => {\n            this.activeParts.delete(part);\n        };\n        const createHandler = (params) => {\n            this.activeParts.add(new progressPart_1.ProgressPart(this._client, params.token, deleteHandler));\n        };\n        client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, createHandler);\n    }\n    dispose() {\n        for (const part of this.activeParts) {\n            part.done();\n        }\n        this.activeParts.clear();\n    }\n}\nexports.ProgressFeature = ProgressFeature;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressPart = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nclass ProgressPart {\n    constructor(_client, _token, done) {\n        this._client = _client;\n        this._token = _token;\n        this._reported = 0;\n        this._infinite = false;\n        this._lspProgressDisposable = this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, (value) => {\n            switch (value.kind) {\n                case 'begin':\n                    this.begin(value);\n                    break;\n                case 'report':\n                    this.report(value);\n                    break;\n                case 'end':\n                    this.done();\n                    done && done(this);\n                    break;\n            }\n        });\n    }\n    begin(params) {\n        this._infinite = params.percentage === undefined;\n        // the progress as already been marked as done / canceled. Ignore begin call\n        if (this._lspProgressDisposable === undefined) {\n            return;\n        }\n        // Since we don't use commands this will be a silent window progress with a hidden notification.\n        void vscode_1.window.withProgress({ location: vscode_1.ProgressLocation.Window, cancellable: params.cancellable, title: params.title }, async (progress, cancellationToken) => {\n            // the progress as already been marked as done / canceled. Ignore begin call\n            if (this._lspProgressDisposable === undefined) {\n                return;\n            }\n            this._progress = progress;\n            this._cancellationToken = cancellationToken;\n            this._tokenDisposable = this._cancellationToken.onCancellationRequested(() => {\n                this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, { token: this._token });\n            });\n            this.report(params);\n            return new Promise((resolve, reject) => {\n                this._resolve = resolve;\n                this._reject = reject;\n            });\n        });\n    }\n    report(params) {\n        if (this._infinite && Is.string(params.message)) {\n            this._progress !== undefined && this._progress.report({ message: params.message });\n        }\n        else if (Is.number(params.percentage)) {\n            const percentage = Math.max(0, Math.min(params.percentage, 100));\n            const delta = Math.max(0, percentage - this._reported);\n            this._reported += delta;\n            this._progress !== undefined && this._progress.report({ message: params.message, increment: delta });\n        }\n    }\n    cancel() {\n        this.cleanup();\n        if (this._reject !== undefined) {\n            this._reject();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    done() {\n        this.cleanup();\n        if (this._resolve !== undefined) {\n            this._resolve();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    cleanup() {\n        if (this._lspProgressDisposable !== undefined) {\n            this._lspProgressDisposable.dispose();\n            this._lspProgressDisposable = undefined;\n        }\n        if (this._tokenDisposable !== undefined) {\n            this._tokenDisposable.dispose();\n            this._tokenDisposable = undefined;\n        }\n        this._progress = undefined;\n        this._cancellationToken = undefined;\n    }\n}\nexports.ProgressPart = ProgressPart;\n//# sourceMappingURL=progressPart.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCallHierarchyItem extends code.CallHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolCallHierarchyItem;\n//# sourceMappingURL=protocolCallHierarchyItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode = require(\"vscode\");\nclass ProtocolCodeAction extends vscode.CodeAction {\n    constructor(title, data) {\n        super(title);\n        this.data = data;\n    }\n}\nexports.default = ProtocolCodeAction;\n//# sourceMappingURL=protocolCodeAction.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCodeLens extends code.CodeLens {\n    constructor(range) {\n        super(range);\n    }\n}\nexports.default = ProtocolCodeLens;\n//# sourceMappingURL=protocolCodeLens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCompletionItem extends code.CompletionItem {\n    constructor(label) {\n        super(label);\n    }\n}\nexports.default = ProtocolCompletionItem;\n//# sourceMappingURL=protocolCompletionItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst ls = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst async = require(\"./utils/async\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst protocolTypeHierarchyItem_1 = require(\"./protocolTypeHierarchyItem\");\nconst protocolWorkspaceSymbol_1 = require(\"./protocolWorkspaceSymbol\");\nconst protocolInlayHint_1 = require(\"./protocolInlayHint\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nvar CodeBlock;\n(function (CodeBlock) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\n    }\n    CodeBlock.is = is;\n})(CodeBlock || (CodeBlock = {}));\nfunction createConverter(uriConverter, trustMarkdown, supportHtml) {\n    const nullConverter = (value) => code.Uri.parse(value);\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asDocumentSelector(selector) {\n        const result = [];\n        for (const filter of selector) {\n            if (typeof filter === 'string') {\n                result.push(filter);\n            }\n            else if (vscode_languageserver_protocol_1.NotebookCellTextDocumentFilter.is(filter)) {\n                // We first need to check for the notebook cell filter since a TextDocumentFilter would\n                // match both (e.g. the notebook is optional).\n                if (typeof filter.notebook === 'string') {\n                    result.push({ notebookType: filter.notebook, language: filter.language });\n                }\n                else {\n                    const notebookType = filter.notebook.notebookType ?? '*';\n                    result.push({ notebookType: notebookType, scheme: filter.notebook.scheme, pattern: filter.notebook.pattern, language: filter.language });\n                }\n            }\n            else if (vscode_languageserver_protocol_1.TextDocumentFilter.is(filter)) {\n                result.push({ language: filter.language, scheme: filter.scheme, pattern: filter.pattern });\n            }\n        }\n        return result;\n    }\n    async function asDiagnostics(diagnostics, token) {\n        return async.map(diagnostics, asDiagnostic, token);\n    }\n    function asDiagnosticsSync(diagnostics) {\n        const result = new Array(diagnostics.length);\n        for (let i = 0; i < diagnostics.length; i++) {\n            result[i] = asDiagnostic(diagnostics[i]);\n        }\n        return result;\n    }\n    function asDiagnostic(diagnostic) {\n        let result = new protocolDiagnostic_1.ProtocolDiagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity), diagnostic.data);\n        if (diagnostic.code !== undefined) {\n            if (typeof diagnostic.code === 'string' || typeof diagnostic.code === 'number') {\n                if (ls.CodeDescription.is(diagnostic.codeDescription)) {\n                    result.code = {\n                        value: diagnostic.code,\n                        target: asUri(diagnostic.codeDescription.href)\n                    };\n                }\n                else {\n                    result.code = diagnostic.code;\n                }\n            }\n            else if (protocolDiagnostic_1.DiagnosticCode.is(diagnostic.code)) {\n                // This is for backwards compatibility of a proposed API.\n                // We should remove this at some point.\n                result.hasDiagnosticCode = true;\n                const diagnosticCode = diagnostic.code;\n                result.code = {\n                    value: diagnosticCode.value,\n                    target: asUri(diagnosticCode.target)\n                };\n            }\n        }\n        if (diagnostic.source) {\n            result.source = diagnostic.source;\n        }\n        if (diagnostic.relatedInformation) {\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\n        }\n        if (Array.isArray(diagnostic.tags)) {\n            result.tags = asDiagnosticTags(diagnostic.tags);\n        }\n        return result;\n    }\n    function asRelatedInformation(relatedInformation) {\n        const result = new Array(relatedInformation.length);\n        for (let i = 0; i < relatedInformation.length; i++) {\n            const info = relatedInformation[i];\n            result[i] = new code.DiagnosticRelatedInformation(asLocation(info.location), info.message);\n        }\n        return result;\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case ls.DiagnosticTag.Unnecessary:\n                return code.DiagnosticTag.Unnecessary;\n            case ls.DiagnosticTag.Deprecated:\n                return code.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asPosition(value) {\n        return value ? new code.Position(value.line, value.character) : undefined;\n    }\n    function asRange(value) {\n        return value ? new code.Range(value.start.line, value.start.character, value.end.line, value.end.character) : undefined;\n    }\n    async function asRanges(items, token) {\n        return async.map(items, (range) => {\n            return new code.Range(range.start.line, range.start.character, range.end.line, range.end.character);\n        }, token);\n    }\n    function asDiagnosticSeverity(value) {\n        if (value === undefined || value === null) {\n            return code.DiagnosticSeverity.Error;\n        }\n        switch (value) {\n            case ls.DiagnosticSeverity.Error:\n                return code.DiagnosticSeverity.Error;\n            case ls.DiagnosticSeverity.Warning:\n                return code.DiagnosticSeverity.Warning;\n            case ls.DiagnosticSeverity.Information:\n                return code.DiagnosticSeverity.Information;\n            case ls.DiagnosticSeverity.Hint:\n                return code.DiagnosticSeverity.Hint;\n        }\n        return code.DiagnosticSeverity.Error;\n    }\n    function asHoverContent(value) {\n        if (Is.string(value)) {\n            return asMarkdownString(value);\n        }\n        else if (CodeBlock.is(value)) {\n            let result = asMarkdownString();\n            return result.appendCodeblock(value.value, value.language);\n        }\n        else if (Array.isArray(value)) {\n            let result = [];\n            for (let element of value) {\n                let item = asMarkdownString();\n                if (CodeBlock.is(element)) {\n                    item.appendCodeblock(element.value, element.language);\n                }\n                else {\n                    item.appendMarkdown(element);\n                }\n                result.push(item);\n            }\n            return result;\n        }\n        else {\n            return asMarkdownString(value);\n        }\n    }\n    function asDocumentation(value) {\n        if (Is.string(value)) {\n            return value;\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return asMarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    return value.value;\n                default:\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\n            }\n        }\n    }\n    function asMarkdownString(value) {\n        let result;\n        if (value === undefined || typeof value === 'string') {\n            result = new code.MarkdownString(value);\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    result = new code.MarkdownString(value.value);\n                    break;\n                case ls.MarkupKind.PlainText:\n                    result = new code.MarkdownString();\n                    result.appendText(value.value);\n                    break;\n                default:\n                    result = new code.MarkdownString();\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\n                    break;\n            }\n        }\n        result.isTrusted = trustMarkdown;\n        result.supportHtml = supportHtml;\n        return result;\n    }\n    function asHover(hover) {\n        if (!hover) {\n            return undefined;\n        }\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\n    }\n    async function asCompletionResult(value, allCommitCharacters, token) {\n        if (!value) {\n            return undefined;\n        }\n        if (Array.isArray(value)) {\n            return async.map(value, (item) => asCompletionItem(item, allCommitCharacters), token);\n        }\n        const list = value;\n        const { defaultRange, commitCharacters } = getCompletionItemDefaults(list, allCommitCharacters);\n        const converted = await async.map(list.items, (item) => {\n            return asCompletionItem(item, commitCharacters, defaultRange, list.itemDefaults?.insertTextMode, list.itemDefaults?.insertTextFormat, list.itemDefaults?.data);\n        }, token);\n        return new code.CompletionList(converted, list.isIncomplete);\n    }\n    function getCompletionItemDefaults(list, allCommitCharacters) {\n        const rangeDefaults = list.itemDefaults?.editRange;\n        const commitCharacters = list.itemDefaults?.commitCharacters ?? allCommitCharacters;\n        return ls.Range.is(rangeDefaults)\n            ? { defaultRange: asRange(rangeDefaults), commitCharacters }\n            : rangeDefaults !== undefined\n                ? { defaultRange: { inserting: asRange(rangeDefaults.insert), replacing: asRange(rangeDefaults.replace) }, commitCharacters }\n                : { defaultRange: undefined, commitCharacters };\n    }\n    function asCompletionItemKind(value) {\n        // Protocol item kind is 1 based, codes item kind is zero based.\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\n            return [value - 1, undefined];\n        }\n        return [code.CompletionItemKind.Text, value];\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case ls.CompletionItemTag.Deprecated:\n                return code.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined || tags === null) {\n            return [];\n        }\n        const result = [];\n        for (const tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItem(item, defaultCommitCharacters, defaultRange, defaultInsertTextMode, defaultInsertTextFormat, defaultData) {\n        const tags = asCompletionItemTags(item.tags);\n        const label = asCompletionItemLabel(item);\n        const result = new protocolCompletionItem_1.default(label);\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        const insertText = asCompletionInsertText(item, defaultRange, defaultInsertTextFormat);\n        if (insertText) {\n            result.insertText = insertText.text;\n            result.range = insertText.range;\n            result.fromEdit = insertText.fromEdit;\n        }\n        if (Is.number(item.kind)) {\n            let [itemKind, original] = asCompletionItemKind(item.kind);\n            result.kind = itemKind;\n            if (original) {\n                result.originalItemKind = original;\n            }\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEditsSync(item.additionalTextEdits);\n        }\n        const commitCharacters = item.commitCharacters !== undefined\n            ? Is.stringArray(item.commitCharacters) ? item.commitCharacters : undefined\n            : defaultCommitCharacters;\n        if (commitCharacters) {\n            result.commitCharacters = commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n            if (item.deprecated === true) {\n                tags.push(code.CompletionItemTag.Deprecated);\n            }\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const data = item.data ?? defaultData;\n        if (data !== undefined) {\n            result.data = data;\n        }\n        if (tags.length > 0) {\n            result.tags = tags;\n        }\n        const insertTextMode = item.insertTextMode ?? defaultInsertTextMode;\n        if (insertTextMode !== undefined) {\n            result.insertTextMode = insertTextMode;\n            if (insertTextMode === ls.InsertTextMode.asIs) {\n                result.keepWhitespace = true;\n            }\n        }\n        return result;\n    }\n    function asCompletionItemLabel(item) {\n        if (ls.CompletionItemLabelDetails.is(item.labelDetails)) {\n            return {\n                label: item.label,\n                detail: item.labelDetails.detail,\n                description: item.labelDetails.description\n            };\n        }\n        else {\n            return item.label;\n        }\n    }\n    function asCompletionInsertText(item, defaultRange, defaultInsertTextFormat) {\n        const insertTextFormat = item.insertTextFormat ?? defaultInsertTextFormat;\n        if (item.textEdit !== undefined || defaultRange !== undefined) {\n            const [range, newText] = item.textEdit !== undefined\n                ? getCompletionRangeAndText(item.textEdit)\n                : [defaultRange, item.textEditText ?? item.label];\n            if (insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(newText), range: range, fromEdit: true };\n            }\n            else {\n                return { text: newText, range: range, fromEdit: true };\n            }\n        }\n        else if (item.insertText) {\n            if (insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\n            }\n            else {\n                return { text: item.insertText, fromEdit: false };\n            }\n        }\n        else {\n            return undefined;\n        }\n    }\n    function getCompletionRangeAndText(value) {\n        if (ls.InsertReplaceEdit.is(value)) {\n            return [{ inserting: asRange(value.insert), replacing: asRange(value.replace) }, value.newText];\n        }\n        else {\n            return [asRange(value.range), value.newText];\n        }\n    }\n    function asTextEdit(edit) {\n        if (!edit) {\n            return undefined;\n        }\n        return new code.TextEdit(asRange(edit.range), edit.newText);\n    }\n    async function asTextEdits(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asTextEdit, token);\n    }\n    function asTextEditsSync(items) {\n        if (!items) {\n            return undefined;\n        }\n        const result = new Array(items.length);\n        for (let i = 0; i < items.length; i++) {\n            result[i] = asTextEdit(items[i]);\n        }\n        return result;\n    }\n    async function asSignatureHelp(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new code.SignatureHelp();\n        if (Is.number(item.activeSignature)) {\n            result.activeSignature = item.activeSignature;\n        }\n        else {\n            // activeSignature was optional in the past\n            result.activeSignature = 0;\n        }\n        if (Is.number(item.activeParameter)) {\n            result.activeParameter = item.activeParameter;\n        }\n        else {\n            // activeParameter was optional in the past\n            result.activeParameter = 0;\n        }\n        if (item.signatures) {\n            result.signatures = await asSignatureInformations(item.signatures, token);\n        }\n        return result;\n    }\n    async function asSignatureInformations(items, token) {\n        return async.mapAsync(items, asSignatureInformation, token);\n    }\n    async function asSignatureInformation(item, token) {\n        let result = new code.SignatureInformation(item.label);\n        if (item.documentation !== undefined) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        if (item.parameters !== undefined) {\n            result.parameters = await asParameterInformations(item.parameters, token);\n        }\n        if (item.activeParameter !== undefined) {\n            result.activeParameter = item.activeParameter;\n        }\n        {\n            return result;\n        }\n    }\n    function asParameterInformations(items, token) {\n        return async.map(items, asParameterInformation, token);\n    }\n    function asParameterInformation(item) {\n        let result = new code.ParameterInformation(item.label);\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        return result;\n    }\n    function asLocation(item) {\n        return item ? new code.Location(_uriConverter(item.uri), asRange(item.range)) : undefined;\n    }\n    async function asDeclarationResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item, token);\n    }\n    async function asDefinitionResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item, token);\n    }\n    function asLocationLink(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = {\n            targetUri: _uriConverter(item.targetUri),\n            targetRange: asRange(item.targetRange),\n            originSelectionRange: asRange(item.originSelectionRange),\n            targetSelectionRange: asRange(item.targetSelectionRange)\n        };\n        if (!result.targetSelectionRange) {\n            throw new Error(`targetSelectionRange must not be undefined or null`);\n        }\n        return result;\n    }\n    async function asLocationResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        if (Is.array(item)) {\n            if (item.length === 0) {\n                return [];\n            }\n            else if (ls.LocationLink.is(item[0])) {\n                const links = item;\n                return async.map(links, asLocationLink, token);\n            }\n            else {\n                const locations = item;\n                return async.map(locations, asLocation, token);\n            }\n        }\n        else if (ls.LocationLink.is(item)) {\n            return [asLocationLink(item)];\n        }\n        else {\n            return asLocation(item);\n        }\n    }\n    async function asReferences(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asLocation, token);\n    }\n    async function asDocumentHighlights(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asDocumentHighlight, token);\n    }\n    function asDocumentHighlight(item) {\n        let result = new code.DocumentHighlight(asRange(item.range));\n        if (Is.number(item.kind)) {\n            result.kind = asDocumentHighlightKind(item.kind);\n        }\n        return result;\n    }\n    function asDocumentHighlightKind(item) {\n        switch (item) {\n            case ls.DocumentHighlightKind.Text:\n                return code.DocumentHighlightKind.Text;\n            case ls.DocumentHighlightKind.Read:\n                return code.DocumentHighlightKind.Read;\n            case ls.DocumentHighlightKind.Write:\n                return code.DocumentHighlightKind.Write;\n        }\n        return code.DocumentHighlightKind.Text;\n    }\n    async function asSymbolInformations(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asSymbolInformation, token);\n    }\n    function asSymbolKind(item) {\n        if (item <= ls.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return item - 1;\n        }\n        return code.SymbolKind.Property;\n    }\n    function asSymbolTag(value) {\n        switch (value) {\n            case ls.SymbolTag.Deprecated:\n                return code.SymbolTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asSymbolTags(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        const result = [];\n        for (const item of items) {\n            const converted = asSymbolTag(item);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length === 0 ? undefined : result;\n    }\n    function asSymbolInformation(item) {\n        const data = item.data;\n        const location = item.location;\n        const result = location.range === undefined || data !== undefined\n            ? new protocolWorkspaceSymbol_1.default(item.name, asSymbolKind(item.kind), item.containerName ?? '', location.range === undefined ? _uriConverter(location.uri) : new code.Location(_uriConverter(item.location.uri), asRange(location.range)), data)\n            : new code.SymbolInformation(item.name, asSymbolKind(item.kind), item.containerName ?? '', new code.Location(_uriConverter(item.location.uri), asRange(location.range)));\n        fillTags(result, item);\n        return result;\n    }\n    async function asDocumentSymbols(values, token) {\n        if (values === undefined || values === null) {\n            return undefined;\n        }\n        return async.map(values, asDocumentSymbol, token);\n    }\n    function asDocumentSymbol(value) {\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\n        fillTags(result, value);\n        if (value.children !== undefined && value.children.length > 0) {\n            let children = [];\n            for (let child of value.children) {\n                children.push(asDocumentSymbol(child));\n            }\n            result.children = children;\n        }\n        return result;\n    }\n    function fillTags(result, value) {\n        result.tags = asSymbolTags(value.tags);\n        if (value.deprecated) {\n            if (!result.tags) {\n                result.tags = [code.SymbolTag.Deprecated];\n            }\n            else {\n                if (!result.tags.includes(code.SymbolTag.Deprecated)) {\n                    result.tags = result.tags.concat(code.SymbolTag.Deprecated);\n                }\n            }\n        }\n    }\n    function asCommand(item) {\n        let result = { title: item.title, command: item.command };\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    async function asCommands(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asCommand, token);\n    }\n    const kindMapping = new Map();\n    kindMapping.set(ls.CodeActionKind.Empty, code.CodeActionKind.Empty);\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = kindMapping.get(item);\n        if (result) {\n            return result;\n        }\n        let parts = item.split('.');\n        result = code.CodeActionKind.Empty;\n        for (let part of parts) {\n            result = result.append(part);\n        }\n        return result;\n    }\n    function asCodeActionKinds(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        return items.map(kind => asCodeActionKind(kind));\n    }\n    async function asCodeAction(item, token) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = new protocolCodeAction_1.default(item.title, item.data);\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnosticsSync(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            result.edit = await asWorkspaceEdit(item.edit, token);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeActionResult(items, token) {\n        return async.mapAsync(items, async (item) => {\n            if (ls.Command.is(item)) {\n                return asCommand(item);\n            }\n            else {\n                return asCodeAction(item, token);\n            }\n        }, token);\n    }\n    function asCodeLens(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new protocolCodeLens_1.default(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.data !== undefined && item.data !== null) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    async function asCodeLenses(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asCodeLens, token);\n    }\n    async function asWorkspaceEdit(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        const sharedMetadata = new Map();\n        if (item.changeAnnotations !== undefined) {\n            const changeAnnotations = item.changeAnnotations;\n            await async.forEach(Object.keys(changeAnnotations), (key) => {\n                const metaData = asWorkspaceEditEntryMetadata(changeAnnotations[key]);\n                sharedMetadata.set(key, metaData);\n            }, token);\n        }\n        const asMetadata = (annotation) => {\n            if (annotation === undefined) {\n                return undefined;\n            }\n            else {\n                return sharedMetadata.get(annotation);\n            }\n        };\n        const result = new code.WorkspaceEdit();\n        if (item.documentChanges) {\n            const documentChanges = item.documentChanges;\n            await async.forEach(documentChanges, (change) => {\n                if (ls.CreateFile.is(change)) {\n                    result.createFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.RenameFile.is(change)) {\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.DeleteFile.is(change)) {\n                    result.deleteFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.TextDocumentEdit.is(change)) {\n                    const uri = _uriConverter(change.textDocument.uri);\n                    for (const edit of change.edits) {\n                        if (ls.AnnotatedTextEdit.is(edit)) {\n                            result.replace(uri, asRange(edit.range), edit.newText, asMetadata(edit.annotationId));\n                        }\n                        else {\n                            result.replace(uri, asRange(edit.range), edit.newText);\n                        }\n                    }\n                }\n                else {\n                    throw new Error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\n                }\n            }, token);\n        }\n        else if (item.changes) {\n            const changes = item.changes;\n            await async.forEach(Object.keys(changes), (key) => {\n                result.set(_uriConverter(key), asTextEditsSync(changes[key]));\n            }, token);\n        }\n        return result;\n    }\n    function asWorkspaceEditEntryMetadata(annotation) {\n        if (annotation === undefined) {\n            return undefined;\n        }\n        return { label: annotation.label, needsConfirmation: !!annotation.needsConfirmation, description: annotation.description };\n    }\n    function asDocumentLink(item) {\n        let range = asRange(item.range);\n        let target = item.target ? asUri(item.target) : undefined;\n        // target must be optional in DocumentLink\n        let link = new protocolDocumentLink_1.default(range, target);\n        if (item.tooltip !== undefined) {\n            link.tooltip = item.tooltip;\n        }\n        if (item.data !== undefined && item.data !== null) {\n            link.data = item.data;\n        }\n        return link;\n    }\n    async function asDocumentLinks(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asDocumentLink, token);\n    }\n    function asColor(color) {\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    function asColorInformation(ci) {\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\n    }\n    async function asColorInformations(colorInformation, token) {\n        if (!colorInformation) {\n            return undefined;\n        }\n        return async.map(colorInformation, asColorInformation, token);\n    }\n    function asColorPresentation(cp) {\n        let presentation = new code.ColorPresentation(cp.label);\n        presentation.additionalTextEdits = asTextEditsSync(cp.additionalTextEdits);\n        if (cp.textEdit) {\n            presentation.textEdit = asTextEdit(cp.textEdit);\n        }\n        return presentation;\n    }\n    async function asColorPresentations(colorPresentations, token) {\n        if (!colorPresentations) {\n            return undefined;\n        }\n        return async.map(colorPresentations, asColorPresentation, token);\n    }\n    function asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case ls.FoldingRangeKind.Comment:\n                    return code.FoldingRangeKind.Comment;\n                case ls.FoldingRangeKind.Imports:\n                    return code.FoldingRangeKind.Imports;\n                case ls.FoldingRangeKind.Region:\n                    return code.FoldingRangeKind.Region;\n            }\n        }\n        return undefined;\n    }\n    function asFoldingRange(r) {\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\n    }\n    async function asFoldingRanges(foldingRanges, token) {\n        if (!foldingRanges) {\n            return undefined;\n        }\n        return async.map(foldingRanges, asFoldingRange, token);\n    }\n    function asSelectionRange(selectionRange) {\n        return new code.SelectionRange(asRange(selectionRange.range), selectionRange.parent ? asSelectionRange(selectionRange.parent) : undefined);\n    }\n    async function asSelectionRanges(selectionRanges, token) {\n        if (!Array.isArray(selectionRanges)) {\n            return [];\n        }\n        return async.map(selectionRanges, asSelectionRange, token);\n    }\n    function asInlineValue(inlineValue) {\n        if (ls.InlineValueText.is(inlineValue)) {\n            return new code.InlineValueText(asRange(inlineValue.range), inlineValue.text);\n        }\n        else if (ls.InlineValueVariableLookup.is(inlineValue)) {\n            return new code.InlineValueVariableLookup(asRange(inlineValue.range), inlineValue.variableName, inlineValue.caseSensitiveLookup);\n        }\n        else {\n            return new code.InlineValueEvaluatableExpression(asRange(inlineValue.range), inlineValue.expression);\n        }\n    }\n    async function asInlineValues(inlineValues, token) {\n        if (!Array.isArray(inlineValues)) {\n            return [];\n        }\n        return async.map(inlineValues, asInlineValue, token);\n    }\n    async function asInlayHint(value, token) {\n        const label = typeof value.label === 'string'\n            ? value.label\n            : await async.map(value.label, asInlayHintLabelPart, token);\n        const result = new protocolInlayHint_1.default(asPosition(value.position), label);\n        if (value.kind !== undefined) {\n            result.kind = value.kind;\n        }\n        if (value.textEdits !== undefined) {\n            result.textEdits = await asTextEdits(value.textEdits, token);\n        }\n        if (value.tooltip !== undefined) {\n            result.tooltip = asTooltip(value.tooltip);\n        }\n        if (value.paddingLeft !== undefined) {\n            result.paddingLeft = value.paddingLeft;\n        }\n        if (value.paddingRight !== undefined) {\n            result.paddingRight = value.paddingRight;\n        }\n        if (value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asInlayHintLabelPart(part) {\n        const result = new code.InlayHintLabelPart(part.value);\n        if (part.location !== undefined) {\n            result.location = asLocation(part.location);\n        }\n        if (part.tooltip !== undefined) {\n            result.tooltip = asTooltip(part.tooltip);\n        }\n        if (part.command !== undefined) {\n            result.command = asCommand(part.command);\n        }\n        return result;\n    }\n    function asTooltip(value) {\n        if (typeof value === 'string') {\n            return value;\n        }\n        return asMarkdownString(value);\n    }\n    async function asInlayHints(values, token) {\n        if (!Array.isArray(values)) {\n            return undefined;\n        }\n        return async.mapAsync(values, asInlayHint, token);\n    }\n    function asCallHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        const result = new protocolCallHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    async function asCallHierarchyItems(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.map(items, asCallHierarchyItem, token);\n    }\n    async function asCallHierarchyIncomingCall(item, token) {\n        return new code.CallHierarchyIncomingCall(asCallHierarchyItem(item.from), await asRanges(item.fromRanges, token));\n    }\n    async function asCallHierarchyIncomingCalls(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.mapAsync(items, asCallHierarchyIncomingCall, token);\n    }\n    async function asCallHierarchyOutgoingCall(item, token) {\n        return new code.CallHierarchyOutgoingCall(asCallHierarchyItem(item.to), await asRanges(item.fromRanges, token));\n    }\n    async function asCallHierarchyOutgoingCalls(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.mapAsync(items, asCallHierarchyOutgoingCall, token);\n    }\n    async function asSemanticTokens(value, _token) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokens(new Uint32Array(value.data), value.resultId);\n    }\n    function asSemanticTokensEdit(value) {\n        return new code.SemanticTokensEdit(value.start, value.deleteCount, value.data !== undefined ? new Uint32Array(value.data) : undefined);\n    }\n    async function asSemanticTokensEdits(value, _token) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit), value.resultId);\n    }\n    function asSemanticTokensLegend(value) {\n        return value;\n    }\n    async function asLinkedEditingRanges(value, token) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new code.LinkedEditingRanges(await asRanges(value.ranges, token), asRegularExpression(value.wordPattern));\n    }\n    function asRegularExpression(value) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new RegExp(value);\n    }\n    function asTypeHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        let result = new protocolTypeHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    async function asTypeHierarchyItems(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.map(items, asTypeHierarchyItem, token);\n    }\n    function asGlobPattern(pattern) {\n        if (Is.string(pattern)) {\n            return pattern;\n        }\n        if (ls.RelativePattern.is(pattern)) {\n            if (ls.URI.is(pattern.baseUri)) {\n                return new code.RelativePattern(asUri(pattern.baseUri), pattern.pattern);\n            }\n            else if (ls.WorkspaceFolder.is(pattern.baseUri)) {\n                const workspaceFolder = code.workspace.getWorkspaceFolder(asUri(pattern.baseUri.uri));\n                return workspaceFolder !== undefined ? new code.RelativePattern(workspaceFolder, pattern.pattern) : undefined;\n            }\n        }\n        return undefined;\n    }\n    return {\n        asUri,\n        asDocumentSelector,\n        asDiagnostics,\n        asDiagnostic,\n        asRange,\n        asRanges,\n        asPosition,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asHover,\n        asCompletionResult,\n        asCompletionItem,\n        asTextEdit,\n        asTextEdits,\n        asSignatureHelp,\n        asSignatureInformations,\n        asSignatureInformation,\n        asParameterInformations,\n        asParameterInformation,\n        asDeclarationResult,\n        asDefinitionResult,\n        asLocation,\n        asReferences,\n        asDocumentHighlights,\n        asDocumentHighlight,\n        asDocumentHighlightKind,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asSymbolInformations,\n        asSymbolInformation,\n        asDocumentSymbols,\n        asDocumentSymbol,\n        asCommand,\n        asCommands,\n        asCodeAction,\n        asCodeActionKind,\n        asCodeActionKinds,\n        asCodeActionResult,\n        asCodeLens,\n        asCodeLenses,\n        asWorkspaceEdit,\n        asDocumentLink,\n        asDocumentLinks,\n        asFoldingRangeKind,\n        asFoldingRange,\n        asFoldingRanges,\n        asColor,\n        asColorInformation,\n        asColorInformations,\n        asColorPresentation,\n        asColorPresentations,\n        asSelectionRange,\n        asSelectionRanges,\n        asInlineValue,\n        asInlineValues,\n        asInlayHint,\n        asInlayHints,\n        asSemanticTokensLegend,\n        asSemanticTokens,\n        asSemanticTokensEdit,\n        asSemanticTokensEdits,\n        asCallHierarchyItem,\n        asCallHierarchyItems,\n        asCallHierarchyIncomingCall,\n        asCallHierarchyIncomingCalls,\n        asCallHierarchyOutgoingCall,\n        asCallHierarchyOutgoingCalls,\n        asLinkedEditingRanges: asLinkedEditingRanges,\n        asTypeHierarchyItem,\n        asTypeHierarchyItems,\n        asGlobPattern\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=protocolConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolDiagnostic = exports.DiagnosticCode = void 0;\nconst vscode = require(\"vscode\");\nconst Is = require(\"./utils/is\");\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode = exports.DiagnosticCode || (exports.DiagnosticCode = {}));\nclass ProtocolDiagnostic extends vscode.Diagnostic {\n    constructor(range, message, severity, data) {\n        super(range, message, severity);\n        this.data = data;\n        this.hasDiagnosticCode = false;\n    }\n}\nexports.ProtocolDiagnostic = ProtocolDiagnostic;\n//# sourceMappingURL=protocolDiagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolDocumentLink extends code.DocumentLink {\n    constructor(range, target) {\n        super(range, target);\n    }\n}\nexports.default = ProtocolDocumentLink;\n//# sourceMappingURL=protocolDocumentLink.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolInlayHint extends code.InlayHint {\n    constructor(position, label, kind) {\n        super(position, label, kind);\n    }\n}\nexports.default = ProtocolInlayHint;\n//# sourceMappingURL=protocolInlayHint.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolTypeHierarchyItem extends code.TypeHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolTypeHierarchyItem;\n//# sourceMappingURL=protocolTypeHierarchyItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass WorkspaceSymbol extends code.SymbolInformation {\n    constructor(name, kind, containerName, locationOrUri, data) {\n        const hasRange = !(locationOrUri instanceof code.Uri);\n        super(name, kind, containerName, hasRange ? locationOrUri : new code.Location(locationOrUri, new code.Range(0, 0, 0, 0)));\n        this.hasRange = hasRange;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = WorkspaceSymbol;\n//# sourceMappingURL=protocolWorkspaceSymbol.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReferencesFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass ReferencesFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'references').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.referencesProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideReferences: (document, position, options, token) => {\n                const client = this._client;\n                const _providerReferences = (document, position, options, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asReferences(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideReferences\n                    ? middleware.provideReferences(document, position, options, token, _providerReferences)\n                    : _providerReferences(document, position, options, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.ReferencesFeature = ReferencesFeature;\n//# sourceMappingURL=reference.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RenameFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst Is = require(\"./utils/is\");\nconst features_1 = require(\"./features\");\nclass RenameFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let rename = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'rename');\n        rename.dynamicRegistration = true;\n        rename.prepareSupport = true;\n        rename.prepareSupportDefaultBehavior = vscode_languageserver_protocol_1.PrepareSupportDefaultBehavior.Identifier;\n        rename.honorsChangeAnnotations = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.renameProvider);\n        if (!options) {\n            return;\n        }\n        if (Is.boolean(capabilities.renameProvider)) {\n            options.prepareProvider = false;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideRenameEdits: (document, position, newName, token) => {\n                const client = this._client;\n                const provideRenameEdits = (document, position, newName, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        newName: newName\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asWorkspaceEdit(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, token, error, null, false);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideRenameEdits\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\n                    : provideRenameEdits(document, position, newName, token);\n            },\n            prepareRename: options.prepareProvider\n                ? (document, position, token) => {\n                    const client = this._client;\n                    const prepareRename = (document, position, token) => {\n                        let params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            position: client.code2ProtocolConverter.asPosition(position),\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            if (vscode_languageserver_protocol_1.Range.is(result)) {\n                                return client.protocol2CodeConverter.asRange(result);\n                            }\n                            else if (this.isDefaultBehavior(result)) {\n                                return result.defaultBehavior === true\n                                    ? null\n                                    : Promise.reject(new Error(`The element can't be renamed.`));\n                            }\n                            else if (result && vscode_languageserver_protocol_1.Range.is(result.range)) {\n                                return {\n                                    range: client.protocol2CodeConverter.asRange(result.range),\n                                    placeholder: result.placeholder\n                                };\n                            }\n                            // To cancel the rename vscode API expects a rejected promise.\n                            return Promise.reject(new Error(`The element can't be renamed.`));\n                        }, (error) => {\n                            if (typeof error.message === 'string') {\n                                throw new Error(error.message);\n                            }\n                            else {\n                                throw new Error(`The element can't be renamed.`);\n                            }\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.prepareRename\n                        ? middleware.prepareRename(document, position, token, prepareRename)\n                        : prepareRename(document, position, token);\n                }\n                : undefined\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n    isDefaultBehavior(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.defaultBehavior);\n    }\n}\nexports.RenameFeature = RenameFeature;\n//# sourceMappingURL=rename.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass SelectionRangeFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SelectionRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'selectionRange');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.selectionRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideSelectionRanges: (document, positions, token) => {\n                const client = this._client;\n                const provideSelectionRanges = async (document, positions, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        positions: await client.code2ProtocolConverter.asPositions(positions, token)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, requestParams, token).then((ranges) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSelectionRanges(ranges, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideSelectionRanges\n                    ? middleware.provideSelectionRanges(document, positions, token, provideSelectionRanges)\n                    : provideSelectionRanges(document, positions, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.SelectionRangeFeature = SelectionRangeFeature;\n//# sourceMappingURL=selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensFeature = void 0;\nconst vscode = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst Is = require(\"./utils/is\");\nclass SemanticTokensFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SemanticTokensRegistrationType.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'semanticTokens');\n        capability.dynamicRegistration = true;\n        capability.tokenTypes = [\n            vscode_languageserver_protocol_1.SemanticTokenTypes.namespace,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.type,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.class,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enum,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.interface,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.struct,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.typeParameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.parameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.variable,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.property,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enumMember,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.event,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.function,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.method,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.macro,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.keyword,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.modifier,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.comment,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.string,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.number,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.regexp,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.operator,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.decorator\n        ];\n        capability.tokenModifiers = [\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.declaration,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.definition,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.readonly,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.static,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.deprecated,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.abstract,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.async,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.modification,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.documentation,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.defaultLibrary\n        ];\n        capability.formats = [vscode_languageserver_protocol_1.TokenFormat.Relative];\n        capability.requests = {\n            range: true,\n            full: {\n                delta: true\n            }\n        };\n        capability.multilineTokenSupport = false;\n        capability.overlappingTokenSupport = false;\n        capability.serverCancelSupport = true;\n        capability.augmentsSyntaxTokens = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'semanticTokens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeSemanticTokensEmitter.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.semanticTokensProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const fullProvider = Is.boolean(options.full) ? options.full : options.full !== undefined;\n        const hasEditProvider = options.full !== undefined && typeof options.full !== 'boolean' && options.full.delta === true;\n        const eventEmitter = new vscode.EventEmitter();\n        const documentProvider = fullProvider\n            ? {\n                onDidChangeSemanticTokens: eventEmitter.event,\n                provideDocumentSemanticTokens: (document, token) => {\n                    const client = this._client;\n                    const middleware = client.middleware;\n                    const provideDocumentSemanticTokens = (document, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSemanticTokens(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, token, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentSemanticTokens\n                        ? middleware.provideDocumentSemanticTokens(document, token, provideDocumentSemanticTokens)\n                        : provideDocumentSemanticTokens(document, token);\n                },\n                provideDocumentSemanticTokensEdits: hasEditProvider\n                    ? (document, previousResultId, token) => {\n                        const client = this._client;\n                        const middleware = client.middleware;\n                        const provideDocumentSemanticTokensEdits = (document, previousResultId, token) => {\n                            const params = {\n                                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                                previousResultId\n                            };\n                            return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, params, token).then(async (result) => {\n                                if (token.isCancellationRequested) {\n                                    return null;\n                                }\n                                if (vscode_languageserver_protocol_1.SemanticTokens.is(result)) {\n                                    return await client.protocol2CodeConverter.asSemanticTokens(result, token);\n                                }\n                                else {\n                                    return await client.protocol2CodeConverter.asSemanticTokensEdits(result, token);\n                                }\n                            }, (error) => {\n                                return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, token, error, null);\n                            });\n                        };\n                        return middleware.provideDocumentSemanticTokensEdits\n                            ? middleware.provideDocumentSemanticTokensEdits(document, previousResultId, token, provideDocumentSemanticTokensEdits)\n                            : provideDocumentSemanticTokensEdits(document, previousResultId, token);\n                    }\n                    : undefined\n            }\n            : undefined;\n        const hasRangeProvider = options.range === true;\n        const rangeProvider = hasRangeProvider\n            ? {\n                provideDocumentRangeSemanticTokens: (document, range, token) => {\n                    const client = this._client;\n                    const middleware = client.middleware;\n                    const provideDocumentRangeSemanticTokens = (document, range, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            range: client.code2ProtocolConverter.asRange(range)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSemanticTokens(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, token, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentRangeSemanticTokens\n                        ? middleware.provideDocumentRangeSemanticTokens(document, range, token, provideDocumentRangeSemanticTokens)\n                        : provideDocumentRangeSemanticTokens(document, range, token);\n                }\n            }\n            : undefined;\n        const disposables = [];\n        const client = this._client;\n        const legend = client.protocol2CodeConverter.asSemanticTokensLegend(options.legend);\n        const documentSelector = client.protocol2CodeConverter.asDocumentSelector(selector);\n        if (documentProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentSemanticTokensProvider(documentSelector, documentProvider, legend));\n        }\n        if (rangeProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentRangeSemanticTokensProvider(documentSelector, rangeProvider, legend));\n        }\n        return [new vscode.Disposable(() => disposables.forEach(item => item.dispose())), { range: rangeProvider, full: documentProvider, onDidChangeSemanticTokensEmitter: eventEmitter }];\n    }\n}\nexports.SemanticTokensFeature = SemanticTokensFeature;\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignatureHelpFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass SignatureHelpFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let config = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'signatureHelp');\n        config.dynamicRegistration = true;\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\n        config.signatureInformation.activeParameterSupport = true;\n        config.contextSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.signatureHelpProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSignatureHelp: (document, position, token, context) => {\n                const client = this._client;\n                const providerSignatureHelp = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asSignatureHelpParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSignatureHelp(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideSignatureHelp\n                    ? middleware.provideSignatureHelp(document, position, context, token, providerSignatureHelp)\n                    : providerSignatureHelp(document, position, context, token);\n            }\n        };\n        return [this.registerProvider(options, provider), provider];\n    }\n    registerProvider(options, provider) {\n        const selector = this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector);\n        if (options.retriggerCharacters === undefined) {\n            const triggerCharacters = options.triggerCharacters || [];\n            return vscode_1.languages.registerSignatureHelpProvider(selector, provider, ...triggerCharacters);\n        }\n        else {\n            const metaData = {\n                triggerCharacters: options.triggerCharacters || [],\n                retriggerCharacters: options.retriggerCharacters || []\n            };\n            return vscode_1.languages.registerSignatureHelpProvider(selector, provider, metaData);\n        }\n    }\n}\nexports.SignatureHelpFeature = SignatureHelpFeature;\n//# sourceMappingURL=signatureHelp.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidSaveTextDocumentFeature = exports.WillSaveWaitUntilFeature = exports.WillSaveFeature = exports.DidChangeTextDocumentFeature = exports.DidCloseTextDocumentFeature = exports.DidOpenTextDocumentFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nclass DidOpenTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client, syncedDocuments) {\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, () => client.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._syncedDocuments = syncedDocuments;\n    }\n    get openDocuments() {\n        return this._syncedDocuments.values();\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\n    }\n    register(data) {\n        super.register(data);\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        const documentSelector = this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector);\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\n            const uri = textDocument.uri.toString();\n            if (this._syncedDocuments.has(uri)) {\n                return;\n            }\n            if (vscode_1.languages.match(documentSelector, textDocument) > 0 && !this._client.hasDedicatedTextSynchronizationFeature(textDocument)) {\n                const middleware = this._client.middleware;\n                const didOpen = (textDocument) => {\n                    return this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                (middleware.didOpen ? middleware.didOpen(textDocument, didOpen) : didOpen(textDocument)).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed`, error);\n                });\n                this._syncedDocuments.set(uri, textDocument);\n            }\n        });\n    }\n    notificationSent(textDocument, type, params) {\n        super.notificationSent(textDocument, type, params);\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\n    }\n}\nexports.DidOpenTextDocumentFeature = DidOpenTextDocumentFeature;\nclass DidCloseTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client, syncedDocuments) {\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, () => client.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._syncedDocuments = syncedDocuments;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    notificationSent(textDocument, type, params) {\n        super.notificationSent(textDocument, type, params);\n        this._syncedDocuments.delete(textDocument.uri.toString());\n    }\n    unregister(id) {\n        const selector = this._selectors.get(id);\n        // The super call removed the selector from the map\n        // of selectors.\n        super.unregister(id);\n        const selectors = this._selectors.values();\n        this._syncedDocuments.forEach((textDocument) => {\n            if (vscode_1.languages.match(selector, textDocument) > 0 && !this._selectorFilter(selectors, textDocument) && !this._client.hasDedicatedTextSynchronizationFeature(textDocument)) {\n                let middleware = this._client.middleware;\n                let didClose = (textDocument) => {\n                    return this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                this._syncedDocuments.delete(textDocument.uri.toString());\n                (middleware.didClose ? middleware.didClose(textDocument, didClose) : didClose(textDocument)).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed`, error);\n                });\n            }\n        });\n    }\n}\nexports.DidCloseTextDocumentFeature = DidCloseTextDocumentFeature;\nclass DidChangeTextDocumentFeature extends features_1.DynamicDocumentFeature {\n    constructor(client) {\n        super(client);\n        this._forcingDelivery = false;\n        this._changeData = new Map();\n        this._onNotificationSent = new vscode_1.EventEmitter();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== undefined && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\n        }\n        this._changeData.set(data.id, {\n            syncKind: data.registerOptions.syncKind,\n            documentSelector: this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector),\n        });\n    }\n    *getDocumentSelectors() {\n        for (const data of this._changeData.values()) {\n            yield data.documentSelector;\n        }\n    }\n    async callback(event) {\n        // Text document changes are send for dirty changes as well. We don't\n        // have dirty / un-dirty events in the LSP so we ignore content changes\n        // with length zero.\n        if (event.contentChanges.length === 0) {\n            return;\n        }\n        const promises = [];\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, event.document) > 0 && !this._client.hasDedicatedTextSynchronizationFeature(event.document)) {\n                const middleware = this._client.middleware;\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\n                    const didChange = async (event) => {\n                        const params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);\n                        await this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                        this.notificationSent(event, vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                    };\n                    promises.push(middleware.didChange ? middleware.didChange(event, event => didChange(event)) : didChange(event));\n                }\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n                    const didChange = async (event) => {\n                        const doSend = async (event) => {\n                            const params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document);\n                            await this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                            this.notificationSent(event, vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                        };\n                        if (this._changeDelayer) {\n                            if (this._changeDelayer.uri !== event.document.uri.toString()) {\n                                // Use this force delivery to track boolean state. Otherwise we might call two times.\n                                await this.forceDelivery();\n                                this._changeDelayer.uri = event.document.uri.toString();\n                            }\n                            // Usually we return the promise that signals that the data has been\n                            // handed of to the network. With delayed change notification we can't\n                            // do that since it would make the sendNotification call wait until the\n                            // change delayer resolves and would therefore defeat the purpose. We\n                            // instead return the change delayer and ensure via forceDocumentSync\n                            // that before sending other notification / request the document sync\n                            // has actually happened.\n                            return this._changeDelayer.delayer.trigger(() => doSend(event));\n                        }\n                        else {\n                            this._changeDelayer = {\n                                uri: event.document.uri.toString(),\n                                delayer: new async_1.Delayer(200)\n                            };\n                            // See comment above.\n                            return this._changeDelayer.delayer.trigger(() => doSend(event), -1);\n                        }\n                    };\n                    promises.push(middleware.didChange ? middleware.didChange(event, event => didChange(event)) : didChange(event));\n                }\n            }\n        }\n        return Promise.all(promises).then(undefined, (error) => {\n            this._client.error(`Sending document notification ${vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method} failed`, error);\n            throw error;\n        });\n    }\n    get onNotificationSent() {\n        return this._onNotificationSent.event;\n    }\n    notificationSent(changeEvent, type, params) {\n        this._onNotificationSent.fire({ original: changeEvent, type, params });\n    }\n    unregister(id) {\n        this._changeData.delete(id);\n        if (this._changeData.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        if (this._changeDelayer !== undefined) {\n            this._changeDelayer.delayer.cancel();\n        }\n        this._changeDelayer = undefined;\n        this._forcingDelivery = false;\n        this._changeData.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    async forceDelivery() {\n        if (this._forcingDelivery || !this._changeDelayer) {\n            return;\n        }\n        try {\n            this._forcingDelivery = true;\n            return this._changeDelayer.delayer.forceDelivery();\n        }\n        finally {\n            this._forcingDelivery = false;\n        }\n    }\n    getProvider(document) {\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, document) > 0) {\n                return {\n                    send: (event) => {\n                        return this.callback(event);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nexports.DidChangeTextDocumentFeature = DidChangeTextDocumentFeature;\nclass WillSaveFeature extends features_1.TextDocumentEventFeature {\n    constructor(client) {\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, () => client.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (event) => event.document, (selectors, willSaveEvent) => features_1.TextDocumentEventFeature.textDocumentFilter(selectors, willSaveEvent.document));\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization');\n        value.willSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n}\nexports.WillSaveFeature = WillSaveFeature;\nclass WillSaveWaitUntilFeature extends features_1.DynamicDocumentFeature {\n    constructor(client) {\n        super(client);\n        this._selectors = new Map();\n    }\n    getDocumentSelectors() {\n        return this._selectors.values();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization');\n        value.willSaveWaitUntil = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\n        }\n        this._selectors.set(data.id, this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector));\n    }\n    callback(event) {\n        if (features_1.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(), event.document) && !this._client.hasDedicatedTextSynchronizationFeature(event.document)) {\n            let middleware = this._client.middleware;\n            let willSaveWaitUntil = (event) => {\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then(async (edits) => {\n                    let vEdits = await this._client.protocol2CodeConverter.asTextEdits(edits);\n                    return vEdits === undefined ? [] : vEdits;\n                });\n            };\n            event.waitUntil(middleware.willSaveWaitUntil\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\n                : willSaveWaitUntil(event));\n        }\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n}\nexports.WillSaveWaitUntilFeature = WillSaveWaitUntilFeature;\nclass DidSaveTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client) {\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, () => client.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._includeText = false;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').didSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\n            const saveOptions = typeof textDocumentSyncOptions.save === 'boolean'\n                ? { includeText: false }\n                : { includeText: !!textDocumentSyncOptions.save.includeText };\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, saveOptions)\n            });\n        }\n    }\n    register(data) {\n        this._includeText = !!data.registerOptions.includeText;\n        super.register(data);\n    }\n}\nexports.DidSaveTextDocumentFeature = DidSaveTextDocumentFeature;\n//# sourceMappingURL=textSynchronization.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass TypeDefinitionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\n        let typeDefinitionSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeDefinition');\n        typeDefinitionSupport.dynamicRegistration = true;\n        typeDefinitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.typeDefinitionProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideTypeDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideTypeDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideTypeDefinition\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\n                    : provideTypeDefinition(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\n//# sourceMappingURL=typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass TypeHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareTypeHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareTypeHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareTypeHierarchy\n            ? middleware.prepareTypeHierarchy(document, position, token, prepareTypeHierarchy)\n            : prepareTypeHierarchy(document, position, token);\n    }\n    provideTypeHierarchySupertypes(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideTypeHierarchySupertypes = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asTypeHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideTypeHierarchySupertypes\n            ? middleware.provideTypeHierarchySupertypes(item, token, provideTypeHierarchySupertypes)\n            : provideTypeHierarchySupertypes(item, token);\n    }\n    provideTypeHierarchySubtypes(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideTypeHierarchySubtypes = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asTypeHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideTypeHierarchySubtypes\n            ? middleware.provideTypeHierarchySubtypes(item, token, provideTypeHierarchySubtypes)\n            : provideTypeHierarchySubtypes(item, token);\n    }\n}\nclass TypeHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.typeHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new TypeHierarchyProvider(client);\n        return [vscode_1.languages.registerTypeHierarchyProvider(client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n//# sourceMappingURL=typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.forEach = exports.mapAsync = exports.map = exports.clearTestMode = exports.setTestMode = exports.Semaphore = exports.Delayer = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass Delayer {\n    constructor(defaultDelay) {\n        this.defaultDelay = defaultDelay;\n        this.timeout = undefined;\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n    }\n    trigger(task, delay = this.defaultDelay) {\n        this.task = task;\n        if (delay >= 0) {\n            this.cancelTimeout();\n        }\n        if (!this.completionPromise) {\n            this.completionPromise = new Promise((resolve) => {\n                this.onSuccess = resolve;\n            }).then(() => {\n                this.completionPromise = undefined;\n                this.onSuccess = undefined;\n                var result = this.task();\n                this.task = undefined;\n                return result;\n            });\n        }\n        if (delay >= 0 || this.timeout === void 0) {\n            this.timeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                this.timeout = undefined;\n                this.onSuccess(undefined);\n            }, delay >= 0 ? delay : this.defaultDelay);\n        }\n        return this.completionPromise;\n    }\n    forceDelivery() {\n        if (!this.completionPromise) {\n            return undefined;\n        }\n        this.cancelTimeout();\n        let result = this.task();\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n        return result;\n    }\n    isTriggered() {\n        return this.timeout !== undefined;\n    }\n    cancel() {\n        this.cancelTimeout();\n        this.completionPromise = undefined;\n    }\n    cancelTimeout() {\n        if (this.timeout !== undefined) {\n            this.timeout.dispose();\n            this.timeout = undefined;\n        }\n    }\n}\nexports.Delayer = Delayer;\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\nlet $test = false;\nfunction setTestMode() {\n    $test = true;\n}\nexports.setTestMode = setTestMode;\nfunction clearTestMode() {\n    $test = false;\n}\nexports.clearTestMode = clearTestMode;\nconst defaultYieldTimeout = 15 /*ms*/;\nclass Timer {\n    constructor(yieldAfter = defaultYieldTimeout) {\n        this.yieldAfter = $test === true ? Math.max(yieldAfter, 2) : Math.max(yieldAfter, defaultYieldTimeout);\n        this.startTime = Date.now();\n        this.counter = 0;\n        this.total = 0;\n        // start with a counter interval of 1.\n        this.counterInterval = 1;\n    }\n    start() {\n        this.counter = 0;\n        this.total = 0;\n        this.counterInterval = 1;\n        this.startTime = Date.now();\n    }\n    shouldYield() {\n        if (++this.counter >= this.counterInterval) {\n            const timeTaken = Date.now() - this.startTime;\n            const timeLeft = Math.max(0, this.yieldAfter - timeTaken);\n            this.total += this.counter;\n            this.counter = 0;\n            if (timeTaken >= this.yieldAfter || timeLeft <= 1) {\n                // Yield also if time left <= 1 since we compute the counter\n                // for max < 2 ms.\n                // Start with interval 1 again. We could do some calculation\n                // with using 80% of the last counter however other things (GC)\n                // affect the timing heavily since we have small timings (1 - 15ms).\n                this.counterInterval = 1;\n                this.total = 0;\n                return true;\n            }\n            else {\n                // Only increase the counter until we have spent <= 2 ms. Increasing\n                // the counter further is very fragile since timing is influenced\n                // by other things and can increase the counter too much. This will result\n                // that we yield in average after [14 - 16]ms.\n                switch (timeTaken) {\n                    case 0:\n                    case 1:\n                        this.counterInterval = this.total * 2;\n                        break;\n                }\n            }\n        }\n        return false;\n    }\n}\nasync function map(items, func, token, options) {\n    if (items.length === 0) {\n        return [];\n    }\n    const result = new Array(items.length);\n    const timer = new Timer(options?.yieldAfter);\n    function convertBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            result[i] = func(items[i]);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    // Convert the first batch sync on the same frame.\n    let index = convertBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(convertBatch(index));\n            });\n        });\n    }\n    return result;\n}\nexports.map = map;\nasync function mapAsync(items, func, token, options) {\n    if (items.length === 0) {\n        return [];\n    }\n    const result = new Array(items.length);\n    const timer = new Timer(options?.yieldAfter);\n    async function convertBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            result[i] = await func(items[i], token);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    let index = await convertBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(convertBatch(index));\n            });\n        });\n    }\n    return result;\n}\nexports.mapAsync = mapAsync;\nasync function forEach(items, func, token, options) {\n    if (items.length === 0) {\n        return;\n    }\n    const timer = new Timer(options?.yieldAfter);\n    function runBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            func(items[i]);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    // Convert the first batch sync on the same frame.\n    let index = runBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(runBatch(index));\n            });\n        });\n    }\n}\nexports.forEach = forEach;\n//# sourceMappingURL=async.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asPromise = exports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\nfunction asPromise(value) {\n    if (value instanceof Promise) {\n        return value;\n    }\n    else if (thenable(value)) {\n        return new Promise((resolve, reject) => {\n            value.then((resolved) => resolve(resolved), (error) => reject(error));\n        });\n    }\n    else {\n        return Promise.resolve(value);\n    }\n}\nexports.asPromise = asPromise;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = exports.arrayDiff = void 0;\nconst UUID = require(\"./utils/uuid\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nfunction access(target, key) {\n    if (target === void 0) {\n        return undefined;\n    }\n    return target[key];\n}\nfunction arrayDiff(left, right) {\n    return left.filter(element => right.indexOf(element) < 0);\n}\nexports.arrayDiff = arrayDiff;\nclass WorkspaceFoldersFeature {\n    constructor(client) {\n        this._client = client;\n        this._listeners = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._listeners.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\n    }\n    fillInitializeParams(params) {\n        const folders = vscode_1.workspace.workspaceFolders;\n        this.initializeWithFolders(folders);\n        if (folders === void 0) {\n            params.workspaceFolders = null;\n        }\n        else {\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\n        }\n    }\n    initializeWithFolders(currentWorkspaceFolders) {\n        this._initialFolders = currentWorkspaceFolders;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.workspaceFolders = true;\n    }\n    initialize(capabilities) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\n            const workspaceFolders = () => {\n                const folders = vscode_1.workspace.workspaceFolders;\n                if (folders === undefined) {\n                    return null;\n                }\n                const result = folders.map((folder) => {\n                    return this.asProtocol(folder);\n                });\n                return result;\n            };\n            const middleware = client.middleware.workspace;\n            return middleware && middleware.workspaceFolders\n                ? middleware.workspaceFolders(token, workspaceFolders)\n                : workspaceFolders(token);\n        });\n        const value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\n        let id;\n        if (typeof value === 'string') {\n            id = value;\n        }\n        else if (value === true) {\n            id = UUID.generateUuid();\n        }\n        if (id) {\n            this.register({ id: id, registerOptions: undefined });\n        }\n    }\n    sendInitialEvent(currentWorkspaceFolders) {\n        let promise;\n        if (this._initialFolders && currentWorkspaceFolders) {\n            const removed = arrayDiff(this._initialFolders, currentWorkspaceFolders);\n            const added = arrayDiff(currentWorkspaceFolders, this._initialFolders);\n            if (added.length > 0 || removed.length > 0) {\n                promise = this.doSendEvent(added, removed);\n            }\n        }\n        else if (this._initialFolders) {\n            promise = this.doSendEvent([], this._initialFolders);\n        }\n        else if (currentWorkspaceFolders) {\n            promise = this.doSendEvent(currentWorkspaceFolders, []);\n        }\n        if (promise !== undefined) {\n            promise.catch((error) => {\n                this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method} failed`, error);\n            });\n        }\n    }\n    doSendEvent(addedFolders, removedFolders) {\n        let params = {\n            event: {\n                added: addedFolders.map(folder => this.asProtocol(folder)),\n                removed: removedFolders.map(folder => this.asProtocol(folder))\n            }\n        };\n        return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\n    }\n    register(data) {\n        let id = data.id;\n        let client = this._client;\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\n            let didChangeWorkspaceFolders = (event) => {\n                return this.doSendEvent(event.added, event.removed);\n            };\n            let middleware = client.middleware.workspace;\n            const promise = middleware && middleware.didChangeWorkspaceFolders\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\n                : didChangeWorkspaceFolders(event);\n            promise.catch((error) => {\n                this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method} failed`, error);\n            });\n        });\n        this._listeners.set(id, disposable);\n        this.sendInitialEvent(vscode_1.workspace.workspaceFolders);\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable === void 0) {\n            return;\n        }\n        this._listeners.delete(id);\n        disposable.dispose();\n    }\n    dispose() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    asProtocol(workspaceFolder) {\n        if (workspaceFolder === void 0) {\n            return null;\n        }\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\n    }\n}\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolder.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst documentSymbol_1 = require(\"./documentSymbol\");\nconst UUID = require(\"./utils/uuid\");\nclass WorkspaceSymbolFeature extends features_1.WorkspaceFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'symbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: documentSymbol_1.SupportedSymbolKinds\n        };\n        symbolCapabilities.tagSupport = {\n            valueSet: documentSymbol_1.SupportedSymbolTags\n        };\n        symbolCapabilities.resolveSupport = { properties: ['location.range'] };\n    }\n    initialize(capabilities) {\n        if (!capabilities.workspaceSymbolProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: capabilities.workspaceSymbolProvider === true ? { workDoneProgress: false } : capabilities.workspaceSymbolProvider\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideWorkspaceSymbols: (query, token) => {\n                const client = this._client;\n                const provideWorkspaceSymbols = (query, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSymbolInformations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideWorkspaceSymbols\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\n                    : provideWorkspaceSymbols(query, token);\n            },\n            resolveWorkspaceSymbol: options.resolveProvider === true\n                ? (item, token) => {\n                    const client = this._client;\n                    const resolveWorkspaceSymbol = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, client.code2ProtocolConverter.asWorkspaceSymbol(item), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSymbolInformation(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, token, error, null);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveWorkspaceSymbol\n                        ? middleware.resolveWorkspaceSymbol(item, token, resolveWorkspaceSymbol)\n                        : resolveWorkspaceSymbol(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerWorkspaceSymbolProvider(provider), provider];\n    }\n}\nexports.WorkspaceSymbolFeature = WorkspaceSymbolFeature;\n//# sourceMappingURL=workspaceSymbol.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingMonitor = exports.LanguageClient = exports.TransportKind = void 0;\nconst cp = require(\"child_process\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst vscode_1 = require(\"vscode\");\nconst Is = require(\"../common/utils/is\");\nconst client_1 = require(\"../common/client\");\nconst processes_1 = require(\"./processes\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n// Import SemVer functions individually to avoid circular dependencies in SemVer\nconst semverParse = require(\"semver/functions/parse\");\nconst semverSatisfies = require(\"semver/functions/satisfies\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nconst REQUIRED_VSCODE_VERSION = '^1.67.0'; // do not change format, updated by `updateVSCode` script\nvar TransportKind;\n(function (TransportKind) {\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\n})(TransportKind = exports.TransportKind || (exports.TransportKind = {}));\nvar Transport;\n(function (Transport) {\n    function isSocket(value) {\n        const candidate = value;\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\n    }\n    Transport.isSocket = isSocket;\n})(Transport || (Transport = {}));\nvar Executable;\n(function (Executable) {\n    function is(value) {\n        return Is.string(value.command);\n    }\n    Executable.is = is;\n})(Executable || (Executable = {}));\nvar NodeModule;\n(function (NodeModule) {\n    function is(value) {\n        return Is.string(value.module);\n    }\n    NodeModule.is = is;\n})(NodeModule || (NodeModule = {}));\nvar StreamInfo;\n(function (StreamInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.writer !== undefined && candidate.reader !== undefined;\n    }\n    StreamInfo.is = is;\n})(StreamInfo || (StreamInfo = {}));\nvar ChildProcessInfo;\n(function (ChildProcessInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.process !== undefined && typeof candidate.detached === 'boolean';\n    }\n    ChildProcessInfo.is = is;\n})(ChildProcessInfo || (ChildProcessInfo = {}));\nclass LanguageClient extends client_1.BaseLanguageClient {\n    constructor(arg1, arg2, arg3, arg4, arg5) {\n        let id;\n        let name;\n        let serverOptions;\n        let clientOptions;\n        let forceDebug;\n        if (Is.string(arg2)) {\n            id = arg1;\n            name = arg2;\n            serverOptions = arg3;\n            clientOptions = arg4;\n            forceDebug = !!arg5;\n        }\n        else {\n            id = arg1.toLowerCase();\n            name = arg1;\n            serverOptions = arg2;\n            clientOptions = arg3;\n            forceDebug = arg4;\n        }\n        if (forceDebug === undefined) {\n            forceDebug = false;\n        }\n        super(id, name, clientOptions);\n        this._serverOptions = serverOptions;\n        this._forceDebug = forceDebug;\n        this._isInDebugMode = forceDebug;\n        try {\n            this.checkVersion();\n        }\n        catch (error) {\n            if (Is.string(error.message)) {\n                this.outputChannel.appendLine(error.message);\n            }\n            throw error;\n        }\n    }\n    checkVersion() {\n        const codeVersion = semverParse(vscode_1.version);\n        if (!codeVersion) {\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\n        }\n        // Remove the insider pre-release since we stay API compatible.\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\n            codeVersion.prerelease = [];\n        }\n        if (!semverSatisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\n        }\n    }\n    get isInDebugMode() {\n        return this._isInDebugMode;\n    }\n    async restart() {\n        await this.stop();\n        // We are in debug mode. Wait a little before we restart\n        // so that the debug port can be freed. We can safely ignore\n        // the disposable returned from start since it will call\n        // stop on the same client instance.\n        if (this.isInDebugMode) {\n            await new Promise((resolve) => setTimeout(resolve, 1000));\n            await this.start();\n        }\n        else {\n            await this.start();\n        }\n    }\n    stop(timeout = 2000) {\n        return super.stop(timeout).finally(() => {\n            if (this._serverProcess) {\n                const toCheck = this._serverProcess;\n                this._serverProcess = undefined;\n                if (this._isDetached === undefined || !this._isDetached) {\n                    this.checkProcessDied(toCheck);\n                }\n                this._isDetached = undefined;\n            }\n        });\n    }\n    checkProcessDied(childProcess) {\n        if (!childProcess || childProcess.pid === undefined) {\n            return;\n        }\n        setTimeout(() => {\n            // Test if the process is still alive. Throws an exception if not\n            try {\n                if (childProcess.pid !== undefined) {\n                    process.kill(childProcess.pid, 0);\n                    (0, processes_1.terminate)(childProcess);\n                }\n            }\n            catch (error) {\n                // All is fine.\n            }\n        }, 2000);\n    }\n    handleConnectionClosed() {\n        this._serverProcess = undefined;\n        super.handleConnectionClosed();\n    }\n    fillInitializeParams(params) {\n        super.fillInitializeParams(params);\n        if (params.processId === null) {\n            params.processId = process.pid;\n        }\n    }\n    createMessageTransports(encoding) {\n        function getEnvironment(env, fork) {\n            if (!env && !fork) {\n                return undefined;\n            }\n            const result = Object.create(null);\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\n            if (fork) {\n                result['ELECTRON_RUN_AS_NODE'] = '1';\n                result['ELECTRON_NO_ASAR'] = '1';\n            }\n            if (env) {\n                Object.keys(env).forEach(key => result[key] = env[key]);\n            }\n            return result;\n        }\n        const debugStartWith = ['--debug=', '--debug-brk=', '--inspect=', '--inspect-brk='];\n        const debugEquals = ['--debug', '--debug-brk', '--inspect', '--inspect-brk'];\n        function startedInDebugMode() {\n            let args = process.execArgv;\n            if (args) {\n                return args.some((arg) => {\n                    return debugStartWith.some(value => arg.startsWith(value)) ||\n                        debugEquals.some(value => arg === value);\n                });\n            }\n            return false;\n        }\n        function assertStdio(process) {\n            if (process.stdin === null || process.stdout === null || process.stderr === null) {\n                throw new Error('Process created without stdio streams');\n            }\n        }\n        const server = this._serverOptions;\n        // We got a function.\n        if (Is.func(server)) {\n            return server().then((result) => {\n                if (client_1.MessageTransports.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return result;\n                }\n                else if (StreamInfo.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return { reader: new node_1.StreamMessageReader(result.reader), writer: new node_1.StreamMessageWriter(result.writer) };\n                }\n                else {\n                    let cp;\n                    if (ChildProcessInfo.is(result)) {\n                        cp = result.process;\n                        this._isDetached = result.detached;\n                    }\n                    else {\n                        cp = result;\n                        this._isDetached = false;\n                    }\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    return { reader: new node_1.StreamMessageReader(cp.stdout), writer: new node_1.StreamMessageWriter(cp.stdin) };\n                }\n            });\n        }\n        let json;\n        let runDebug = server;\n        if (runDebug.run || runDebug.debug) {\n            if (this._forceDebug || startedInDebugMode()) {\n                json = runDebug.debug;\n                this._isInDebugMode = true;\n            }\n            else {\n                json = runDebug.run;\n                this._isInDebugMode = false;\n            }\n        }\n        else {\n            json = server;\n        }\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\n            if (NodeModule.is(json) && json.module) {\n                let node = json;\n                let transport = node.transport || TransportKind.stdio;\n                if (node.runtime) {\n                    const args = [];\n                    const options = node.options ?? Object.create(null);\n                    if (options.execArgv) {\n                        options.execArgv.forEach(element => args.push(element));\n                    }\n                    args.push(node.module);\n                    if (node.args) {\n                        node.args.forEach(element => args.push(element));\n                    }\n                    const execOptions = Object.create(null);\n                    execOptions.cwd = serverWorkingDir;\n                    execOptions.env = getEnvironment(options.env, false);\n                    const runtime = this._getRuntimePath(node.runtime, serverWorkingDir);\n                    let pipeName = undefined;\n                    if (transport === TransportKind.ipc) {\n                        // exec options not correctly typed in lib\n                        execOptions.stdio = [null, null, null, 'ipc'];\n                        args.push('--node-ipc');\n                    }\n                    else if (transport === TransportKind.stdio) {\n                        args.push('--stdio');\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        pipeName = (0, node_1.generateRandomPipeName)();\n                        args.push(`--pipe=${pipeName}`);\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        args.push(`--socket=${transport.port}`);\n                    }\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                        const serverProcess = cp.spawn(runtime, args, execOptions);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using runtime ${runtime} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        if (transport === TransportKind.ipc) {\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return Promise.resolve({ reader: new node_1.IPCMessageReader(serverProcess), writer: new node_1.IPCMessageWriter(serverProcess) });\n                        }\n                        else {\n                            return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                        }\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        return (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                            const process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return handleChildProcessStartError(process, `Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        return (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                            const process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return handleChildProcessStartError(process, `Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                }\n                else {\n                    let pipeName = undefined;\n                    return new Promise((resolve, reject) => {\n                        const args = (node.args && node.args.slice()) ?? [];\n                        if (transport === TransportKind.ipc) {\n                            args.push('--node-ipc');\n                        }\n                        else if (transport === TransportKind.stdio) {\n                            args.push('--stdio');\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            pipeName = (0, node_1.generateRandomPipeName)();\n                            args.push(`--pipe=${pipeName}`);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            args.push(`--socket=${transport.port}`);\n                        }\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\n                        const options = node.options ?? Object.create(null);\n                        options.env = getEnvironment(options.env, true);\n                        options.execArgv = options.execArgv || [];\n                        options.cwd = serverWorkingDir;\n                        options.silent = true;\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                            const sp = cp.fork(node.module, args || [], options);\n                            assertStdio(sp);\n                            this._serverProcess = sp;\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            if (transport === TransportKind.ipc) {\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                resolve({ reader: new node_1.IPCMessageReader(this._serverProcess), writer: new node_1.IPCMessageWriter(this._serverProcess) });\n                            }\n                            else {\n                                resolve({ reader: new node_1.StreamMessageReader(sp.stdout), writer: new node_1.StreamMessageWriter(sp.stdin) });\n                            }\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                                const sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                }, reject);\n                            }, reject);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                                const sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                }, reject);\n                            }, reject);\n                        }\n                    });\n                }\n            }\n            else if (Executable.is(json) && json.command) {\n                const command = json;\n                const args = json.args !== undefined ? json.args.slice(0) : [];\n                let pipeName = undefined;\n                const transport = json.transport;\n                if (transport === TransportKind.stdio) {\n                    args.push('--stdio');\n                }\n                else if (transport === TransportKind.pipe) {\n                    pipeName = (0, node_1.generateRandomPipeName)();\n                    args.push(`--pipe=${pipeName}`);\n                }\n                else if (Transport.isSocket(transport)) {\n                    args.push(`--socket=${transport.port}`);\n                }\n                else if (transport === TransportKind.ipc) {\n                    throw new Error(`Transport kind ipc is not support for command executable`);\n                }\n                const options = Object.assign({}, command.options);\n                options.cwd = options.cwd || serverWorkingDir;\n                if (transport === undefined || transport === TransportKind.stdio) {\n                    const serverProcess = cp.spawn(command.command, args, options);\n                    if (!serverProcess || !serverProcess.pid) {\n                        return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                    }\n                    serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    this._serverProcess = serverProcess;\n                    this._isDetached = !!options.detached;\n                    return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                }\n                else if (transport === TransportKind.pipe) {\n                    return (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                        const serverProcess = cp.spawn(command.command, args, options);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        this._isDetached = !!options.detached;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        return transport.onConnected().then((protocol) => {\n                            return { reader: protocol[0], writer: protocol[1] };\n                        });\n                    });\n                }\n                else if (Transport.isSocket(transport)) {\n                    return (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                        const serverProcess = cp.spawn(command.command, args, options);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        this._isDetached = !!options.detached;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        return transport.onConnected().then((protocol) => {\n                            return { reader: protocol[0], writer: protocol[1] };\n                        });\n                    });\n                }\n            }\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\n        });\n    }\n    _getRuntimePath(runtime, serverWorkingDirectory) {\n        if (path.isAbsolute(runtime)) {\n            return runtime;\n        }\n        const mainRootPath = this._mainGetRootPath();\n        if (mainRootPath !== undefined) {\n            const result = path.join(mainRootPath, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        if (serverWorkingDirectory !== undefined) {\n            const result = path.join(serverWorkingDirectory, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        return runtime;\n    }\n    _mainGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    _getServerWorkingDir(options) {\n        let cwd = options && options.cwd;\n        if (!cwd) {\n            cwd = this.clientOptions.workspaceFolder\n                ? this.clientOptions.workspaceFolder.uri.fsPath\n                : this._mainGetRootPath();\n        }\n        if (cwd) {\n            // make sure the folder exists otherwise creating the process will fail\n            return new Promise(s => {\n                fs.lstat(cwd, (err, stats) => {\n                    s(!err && stats.isDirectory() ? cwd : undefined);\n                });\n            });\n        }\n        return Promise.resolve(undefined);\n    }\n    getLocale() {\n        const envValue = process.env['VSCODE_NLS_CONFIG'];\n        if (envValue === undefined) {\n            return 'en';\n        }\n        let config = undefined;\n        try {\n            config = JSON.parse(envValue);\n        }\n        catch (err) {\n        }\n        if (config === undefined || typeof config.locale !== 'string') {\n            return 'en';\n        }\n        return config.locale;\n    }\n}\nexports.LanguageClient = LanguageClient;\nclass SettingMonitor {\n    constructor(_client, _setting) {\n        this._client = _client;\n        this._setting = _setting;\n        this._listeners = [];\n    }\n    start() {\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\n        this.onDidChangeConfiguration();\n        return new vscode_1.Disposable(() => {\n            if (this._client.needsStop()) {\n                void this._client.stop();\n            }\n        });\n    }\n    onDidChangeConfiguration() {\n        let index = this._setting.indexOf('.');\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\n        if (enabled && this._client.needsStart()) {\n            this._client.start().catch((error) => this._client.error('Start failed after configuration change', error, 'force'));\n        }\n        else if (!enabled && this._client.needsStop()) {\n            void this._client.stop().catch((error) => this._client.error('Stop failed after configuration change', error, 'force'));\n        }\n    }\n}\nexports.SettingMonitor = SettingMonitor;\nfunction handleChildProcessStartError(process, message) {\n    if (process === null) {\n        return Promise.reject(message);\n    }\n    return new Promise((_, reject) => {\n        process.on('error', (err) => {\n            reject(`${message} ${err}`);\n        });\n        // the error event should always be run immediately,\n        // but race on it just in case\n        setImmediate(() => reject(message));\n    });\n}\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.terminate = void 0;\nconst cp = require(\"child_process\");\nconst path_1 = require(\"path\");\nconst isWindows = (process.platform === 'win32');\nconst isMacintosh = (process.platform === 'darwin');\nconst isLinux = (process.platform === 'linux');\nfunction terminate(process, cwd) {\n    if (isWindows) {\n        try {\n            // This we run in Atom execFileSync is available.\n            // Ignore stderr since this is otherwise piped to parent.stderr\n            // which might be already closed.\n            let options = {\n                stdio: ['pipe', 'pipe', 'ignore']\n            };\n            if (cwd) {\n                options.cwd = cwd;\n            }\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\n            return true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else if (isLinux || isMacintosh) {\n        try {\n            var cmd = (0, path_1.join)(__dirname, 'terminateProcess.sh');\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\n            return result.error ? false : true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else {\n        process.kill('SIGKILL');\n        return true;\n    }\n}\nexports.terminate = terminate;\n//# sourceMappingURL=processes.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","var balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m) return [str];\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  if (/\\$$/.test(m.pre)) {    \n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre+ '{' + m.body + '}' + post[k];\n      expansions.push(expansion);\n    }\n  } else {\n    var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n    var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n    var isSequence = isNumericSequence || isAlphaSequence;\n    var isOptions = m.body.indexOf(',') >= 0;\n    if (!isSequence && !isOptions) {\n      // {a},b}\n      if (m.post.match(/,.*\\}/)) {\n        str = m.pre + '{' + m.body + escClose + m.post;\n        return expand(str);\n      }\n      return [str];\n    }\n\n    var n;\n    if (isSequence) {\n      n = m.body.split(/\\.\\./);\n    } else {\n      n = parseCommaParts(m.body);\n      if (n.length === 1) {\n        // x{{a,b}}y ==> x{a}y x{b}y\n        n = expand(n[0], false).map(embrace);\n        if (n.length === 1) {\n          return post.map(function(p) {\n            return m.pre + n[0] + p;\n          });\n        }\n      }\n    }\n\n    // at this point, n is the parts, and we know it's not a comma set\n    // with a single entry.\n    var N;\n\n    if (isSequence) {\n      var x = numeric(n[0]);\n      var y = numeric(n[1]);\n      var width = Math.max(n[0].length, n[1].length)\n      var incr = n.length == 3\n        ? Math.abs(numeric(n[2]))\n        : 1;\n      var test = lte;\n      var reverse = y < x;\n      if (reverse) {\n        incr *= -1;\n        test = gte;\n      }\n      var pad = n.some(isPadded);\n\n      N = [];\n\n      for (var i = x; test(i, y); i += incr) {\n        var c;\n        if (isAlphaSequence) {\n          c = String.fromCharCode(i);\n          if (c === '\\\\')\n            c = '';\n        } else {\n          c = String(i);\n          if (pad) {\n            var need = width - c.length;\n            if (need > 0) {\n              var z = new Array(need + 1).join('0');\n              if (i < 0)\n                c = '-' + z + c.slice(1);\n              else\n                c = z + c;\n            }\n          }\n        }\n        N.push(c);\n      }\n    } else {\n      N = [];\n\n      for (var j = 0; j < n.length; j++) {\n        N.push.apply(N, expand(n[j], false));\n      }\n    }\n\n    for (var j = 0; j < N.length; j++) {\n      for (var k = 0; k < post.length; k++) {\n        var expansion = pre + N[j] + post[k];\n        if (!isTop || isSequence || expansion)\n          expansions.push(expansion);\n      }\n    }\n  }\n\n  return expansions;\n}\n\n","const isWindows = typeof process === 'object' &&\n  process &&\n  process.platform === 'win32'\nmodule.exports = isWindows ? { sep: '\\\\' } : { sep: '/' }\n","const minimatch = module.exports = (p, pattern, options = {}) => {\n  assertValidPattern(pattern)\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nmodule.exports = minimatch\n\nconst path = require('./lib/path.js')\nminimatch.sep = path.sep\n\nconst GLOBSTAR = Symbol('globstar **')\nminimatch.GLOBSTAR = GLOBSTAR\nconst expand = require('brace-expansion')\n\nconst plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nconst qmark = '[^/]'\n\n// * => any number of characters\nconst star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nconst twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nconst twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// \"abc\" -> { a:true, b:true, c:true }\nconst charSet = s => s.split('').reduce((set, c) => {\n  set[c] = true\n  return set\n}, {})\n\n// characters that need to be escaped in RegExp.\nconst reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// characters that indicate we have to add the pattern start\nconst addPatternStartSet = charSet('[.(')\n\n// normalizes slashes.\nconst slashSplit = /\\/+/\n\nminimatch.filter = (pattern, options = {}) =>\n  (p, i, list) => minimatch(p, pattern, options)\n\nconst ext = (a, b = {}) => {\n  const t = {}\n  Object.keys(a).forEach(k => t[k] = a[k])\n  Object.keys(b).forEach(k => t[k] = b[k])\n  return t\n}\n\nminimatch.defaults = def => {\n  if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n    return minimatch\n  }\n\n  const orig = minimatch\n\n  const m = (p, pattern, options) => orig(p, pattern, ext(def, options))\n  m.Minimatch = class Minimatch extends orig.Minimatch {\n    constructor (pattern, options) {\n      super(pattern, ext(def, options))\n    }\n  }\n  m.Minimatch.defaults = options => orig.defaults(ext(def, options)).Minimatch\n  m.filter = (pattern, options) => orig.filter(pattern, ext(def, options))\n  m.defaults = options => orig.defaults(ext(def, options))\n  m.makeRe = (pattern, options) => orig.makeRe(pattern, ext(def, options))\n  m.braceExpand = (pattern, options) => orig.braceExpand(pattern, ext(def, options))\n  m.match = (list, pattern, options) => orig.match(list, pattern, ext(def, options))\n\n  return m\n}\n\n\n\n\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = (pattern, options) => braceExpand(pattern, options)\n\nconst braceExpand = (pattern, options = {}) => {\n  assertValidPattern(pattern)\n\n  // Thanks to Yeting Li <https://github.com/yetingli> for\n  // improving this regexp to avoid a ReDOS vulnerability.\n  if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\nconst MAX_PATTERN_LENGTH = 1024 * 64\nconst assertValidPattern = pattern => {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('invalid pattern')\n  }\n\n  if (pattern.length > MAX_PATTERN_LENGTH) {\n    throw new TypeError('pattern is too long')\n  }\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nconst SUBPARSE = Symbol('subparse')\n\nminimatch.makeRe = (pattern, options) =>\n  new Minimatch(pattern, options || {}).makeRe()\n\nminimatch.match = (list, pattern, options = {}) => {\n  const mm = new Minimatch(pattern, options)\n  list = list.filter(f => mm.match(f))\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\n// replace stuff like \\* with *\nconst globUnescape = s => s.replace(/\\\\(.)/g, '$1')\nconst regExpEscape = s => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n\nclass Minimatch {\n  constructor (pattern, options) {\n    assertValidPattern(pattern)\n\n    if (!options) options = {}\n\n    this.options = options\n    this.set = []\n    this.pattern = pattern\n    this.windowsPathsNoEscape = !!options.windowsPathsNoEscape ||\n      options.allowWindowsEscape === false\n    if (this.windowsPathsNoEscape) {\n      this.pattern = this.pattern.replace(/\\\\/g, '/')\n    }\n    this.regexp = null\n    this.negate = false\n    this.comment = false\n    this.empty = false\n    this.partial = !!options.partial\n\n    // make the set of regexps etc.\n    this.make()\n  }\n\n  debug () {}\n\n  make () {\n    const pattern = this.pattern\n    const options = this.options\n\n    // empty patterns and comments match nothing.\n    if (!options.nocomment && pattern.charAt(0) === '#') {\n      this.comment = true\n      return\n    }\n    if (!pattern) {\n      this.empty = true\n      return\n    }\n\n    // step 1: figure out negation, etc.\n    this.parseNegate()\n\n    // step 2: expand braces\n    let set = this.globSet = this.braceExpand()\n\n    if (options.debug) this.debug = (...args) => console.error(...args)\n\n    this.debug(this.pattern, set)\n\n    // step 3: now we have a set, so turn each one into a series of path-portion\n    // matching patterns.\n    // These will be regexps, except in the case of \"**\", which is\n    // set to the GLOBSTAR object for globstar behavior,\n    // and will not contain any / characters\n    set = this.globParts = set.map(s => s.split(slashSplit))\n\n    this.debug(this.pattern, set)\n\n    // glob --> regexps\n    set = set.map((s, si, set) => s.map(this.parse, this))\n\n    this.debug(this.pattern, set)\n\n    // filter out everything that didn't compile properly.\n    set = set.filter(s => s.indexOf(false) === -1)\n\n    this.debug(this.pattern, set)\n\n    this.set = set\n  }\n\n  parseNegate () {\n    if (this.options.nonegate) return\n\n    const pattern = this.pattern\n    let negate = false\n    let negateOffset = 0\n\n    for (let i = 0; i < pattern.length && pattern.charAt(i) === '!'; i++) {\n      negate = !negate\n      negateOffset++\n    }\n\n    if (negateOffset) this.pattern = pattern.substr(negateOffset)\n    this.negate = negate\n  }\n\n  // set partial to true to test if, for example,\n  // \"/a/b\" matches the start of \"/*/b/*/d\"\n  // Partial means, if you run out of file before you run\n  // out of pattern, then that's fine, as long as all\n  // the parts match.\n  matchOne (file, pattern, partial) {\n    var options = this.options\n\n    this.debug('matchOne',\n      { 'this': this, file: file, pattern: pattern })\n\n    this.debug('matchOne', file.length, pattern.length)\n\n    for (var fi = 0,\n        pi = 0,\n        fl = file.length,\n        pl = pattern.length\n        ; (fi < fl) && (pi < pl)\n        ; fi++, pi++) {\n      this.debug('matchOne loop')\n      var p = pattern[pi]\n      var f = file[fi]\n\n      this.debug(pattern, p, f)\n\n      // should be impossible.\n      // some invalid regexp stuff in the set.\n      /* istanbul ignore if */\n      if (p === false) return false\n\n      if (p === GLOBSTAR) {\n        this.debug('GLOBSTAR', [pattern, p, f])\n\n        // \"**\"\n        // a/**/b/**/c would match the following:\n        // a/b/x/y/z/c\n        // a/x/y/z/b/c\n        // a/b/x/b/x/c\n        // a/b/c\n        // To do this, take the rest of the pattern after\n        // the **, and see if it would match the file remainder.\n        // If so, return success.\n        // If not, the ** \"swallows\" a segment, and try again.\n        // This is recursively awful.\n        //\n        // a/**/b/**/c matching a/b/x/y/z/c\n        // - a matches a\n        // - doublestar\n        //   - matchOne(b/x/y/z/c, b/**/c)\n        //     - b matches b\n        //     - doublestar\n        //       - matchOne(x/y/z/c, c) -> no\n        //       - matchOne(y/z/c, c) -> no\n        //       - matchOne(z/c, c) -> no\n        //       - matchOne(c, c) yes, hit\n        var fr = fi\n        var pr = pi + 1\n        if (pr === pl) {\n          this.debug('** at the end')\n          // a ** at the end will just swallow the rest.\n          // We have found a match.\n          // however, it will not swallow /.x, unless\n          // options.dot is set.\n          // . and .. are *never* matched by **, for explosively\n          // exponential reasons.\n          for (; fi < fl; fi++) {\n            if (file[fi] === '.' || file[fi] === '..' ||\n              (!options.dot && file[fi].charAt(0) === '.')) return false\n          }\n          return true\n        }\n\n        // ok, let's see if we can swallow whatever we can.\n        while (fr < fl) {\n          var swallowee = file[fr]\n\n          this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n          // XXX remove this slice.  Just pass the start index.\n          if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n            this.debug('globstar found match!', fr, fl, swallowee)\n            // found a match.\n            return true\n          } else {\n            // can't swallow \".\" or \"..\" ever.\n            // can only swallow \".foo\" when explicitly asked.\n            if (swallowee === '.' || swallowee === '..' ||\n              (!options.dot && swallowee.charAt(0) === '.')) {\n              this.debug('dot detected!', file, fr, pattern, pr)\n              break\n            }\n\n            // ** swallows a segment, and continue.\n            this.debug('globstar swallow a segment, and continue')\n            fr++\n          }\n        }\n\n        // no match was found.\n        // However, in partial mode, we can't say this is necessarily over.\n        // If there's more *pattern* left, then\n        /* istanbul ignore if */\n        if (partial) {\n          // ran out of file\n          this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n          if (fr === fl) return true\n        }\n        return false\n      }\n\n      // something other than **\n      // non-magic patterns just have to match exactly\n      // patterns with magic have been turned into regexps.\n      var hit\n      if (typeof p === 'string') {\n        hit = f === p\n        this.debug('string match', p, f, hit)\n      } else {\n        hit = f.match(p)\n        this.debug('pattern match', p, f, hit)\n      }\n\n      if (!hit) return false\n    }\n\n    // Note: ending in / means that we'll get a final \"\"\n    // at the end of the pattern.  This can only match a\n    // corresponding \"\" at the end of the file.\n    // If the file ends in /, then it can only match a\n    // a pattern that ends in /, unless the pattern just\n    // doesn't have any more for it. But, a/b/ should *not*\n    // match \"a/b/*\", even though \"\" matches against the\n    // [^/]*? pattern, except in partial mode, where it might\n    // simply not be reached yet.\n    // However, a/b/ should still satisfy a/*\n\n    // now either we fell off the end of the pattern, or we're done.\n    if (fi === fl && pi === pl) {\n      // ran out of pattern and filename at the same time.\n      // an exact hit!\n      return true\n    } else if (fi === fl) {\n      // ran out of file, but still had pattern left.\n      // this is ok if we're doing the match as part of\n      // a glob fs traversal.\n      return partial\n    } else /* istanbul ignore else */ if (pi === pl) {\n      // ran out of pattern, still have file left.\n      // this is only acceptable if we're on the very last\n      // empty segment of a file with a trailing slash.\n      // a/* should match a/b/\n      return (fi === fl - 1) && (file[fi] === '')\n    }\n\n    // should be unreachable.\n    /* istanbul ignore next */\n    throw new Error('wtf?')\n  }\n\n  braceExpand () {\n    return braceExpand(this.pattern, this.options)\n  }\n\n  parse (pattern, isSub) {\n    assertValidPattern(pattern)\n\n    const options = this.options\n\n    // shortcuts\n    if (pattern === '**') {\n      if (!options.noglobstar)\n        return GLOBSTAR\n      else\n        pattern = '*'\n    }\n    if (pattern === '') return ''\n\n    let re = ''\n    let hasMagic = !!options.nocase\n    let escaping = false\n    // ? => one single character\n    const patternListStack = []\n    const negativeLists = []\n    let stateChar\n    let inClass = false\n    let reClassStart = -1\n    let classStart = -1\n    let cs\n    let pl\n    let sp\n    // . and .. never match anything that doesn't start with .,\n    // even when options.dot is set.\n    const patternStart = pattern.charAt(0) === '.' ? '' // anything\n    // not (start or / followed by . or .. followed by / or end)\n    : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n    : '(?!\\\\.)'\n\n    const clearStateChar = () => {\n      if (stateChar) {\n        // we had some state-tracking character\n        // that wasn't consumed by this pass.\n        switch (stateChar) {\n          case '*':\n            re += star\n            hasMagic = true\n          break\n          case '?':\n            re += qmark\n            hasMagic = true\n          break\n          default:\n            re += '\\\\' + stateChar\n          break\n        }\n        this.debug('clearStateChar %j %j', stateChar, re)\n        stateChar = false\n      }\n    }\n\n    for (let i = 0, c; (i < pattern.length) && (c = pattern.charAt(i)); i++) {\n      this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n      // skip over any that are escaped.\n      if (escaping) {\n        /* istanbul ignore next - completely not allowed, even escaped. */\n        if (c === '/') {\n          return false\n        }\n\n        if (reSpecials[c]) {\n          re += '\\\\'\n        }\n        re += c\n        escaping = false\n        continue\n      }\n\n      switch (c) {\n        /* istanbul ignore next */\n        case '/': {\n          // Should already be path-split by now.\n          return false\n        }\n\n        case '\\\\':\n          clearStateChar()\n          escaping = true\n        continue\n\n        // the various stateChar values\n        // for the \"extglob\" stuff.\n        case '?':\n        case '*':\n        case '+':\n        case '@':\n        case '!':\n          this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n          // all of those are literals inside a class, except that\n          // the glob [!a] means [^a] in regexp\n          if (inClass) {\n            this.debug('  in class')\n            if (c === '!' && i === classStart + 1) c = '^'\n            re += c\n            continue\n          }\n\n          // if we already have a stateChar, then it means\n          // that there was something like ** or +? in there.\n          // Handle the stateChar, then proceed with this one.\n          this.debug('call clearStateChar %j', stateChar)\n          clearStateChar()\n          stateChar = c\n          // if extglob is disabled, then +(asdf|foo) isn't a thing.\n          // just clear the statechar *now*, rather than even diving into\n          // the patternList stuff.\n          if (options.noext) clearStateChar()\n        continue\n\n        case '(':\n          if (inClass) {\n            re += '('\n            continue\n          }\n\n          if (!stateChar) {\n            re += '\\\\('\n            continue\n          }\n\n          patternListStack.push({\n            type: stateChar,\n            start: i - 1,\n            reStart: re.length,\n            open: plTypes[stateChar].open,\n            close: plTypes[stateChar].close\n          })\n          // negation is (?:(?!js)[^/]*)\n          re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n          this.debug('plType %j %j', stateChar, re)\n          stateChar = false\n        continue\n\n        case ')':\n          if (inClass || !patternListStack.length) {\n            re += '\\\\)'\n            continue\n          }\n\n          clearStateChar()\n          hasMagic = true\n          pl = patternListStack.pop()\n          // negation is (?:(?!js)[^/]*)\n          // The others are (?:<pattern>)<type>\n          re += pl.close\n          if (pl.type === '!') {\n            negativeLists.push(pl)\n          }\n          pl.reEnd = re.length\n        continue\n\n        case '|':\n          if (inClass || !patternListStack.length) {\n            re += '\\\\|'\n            continue\n          }\n\n          clearStateChar()\n          re += '|'\n        continue\n\n        // these are mostly the same in regexp and glob\n        case '[':\n          // swallow any state-tracking char before the [\n          clearStateChar()\n\n          if (inClass) {\n            re += '\\\\' + c\n            continue\n          }\n\n          inClass = true\n          classStart = i\n          reClassStart = re.length\n          re += c\n        continue\n\n        case ']':\n          //  a right bracket shall lose its special\n          //  meaning and represent itself in\n          //  a bracket expression if it occurs\n          //  first in the list.  -- POSIX.2 2.8.3.2\n          if (i === classStart + 1 || !inClass) {\n            re += '\\\\' + c\n            continue\n          }\n\n          // handle the case where we left a class open.\n          // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n\n          // finish up the class.\n          hasMagic = true\n          inClass = false\n          re += c\n        continue\n\n        default:\n          // swallow any state char that wasn't consumed\n          clearStateChar()\n\n          if (reSpecials[c] && !(c === '^' && inClass)) {\n            re += '\\\\'\n          }\n\n          re += c\n          break\n\n      } // switch\n    } // for\n\n    // handle the case where we left a class open.\n    // \"[abc\" is valid, equivalent to \"\\[abc\"\n    if (inClass) {\n      // split where the last [ was, and escape it\n      // this is a huge pita.  We now have to re-walk\n      // the contents of the would-be class to re-translate\n      // any characters that were passed through as-is\n      cs = pattern.substr(classStart + 1)\n      sp = this.parse(cs, SUBPARSE)\n      re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n      hasMagic = hasMagic || sp[1]\n    }\n\n    // handle the case where we had a +( thing at the *end*\n    // of the pattern.\n    // each pattern list stack adds 3 chars, and we need to go through\n    // and escape any | chars that were passed through as-is for the regexp.\n    // Go through and escape them, taking care not to double-escape any\n    // | chars that were already escaped.\n    for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n      let tail\n      tail = re.slice(pl.reStart + pl.open.length)\n      this.debug('setting tail', re, pl)\n      // maybe some even number of \\, then maybe 1 \\, followed by a |\n      tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, (_, $1, $2) => {\n        /* istanbul ignore else - should already be done */\n        if (!$2) {\n          // the | isn't already escaped, so escape it.\n          $2 = '\\\\'\n        }\n\n        // need to escape all those slashes *again*, without escaping the\n        // one that we need for escaping the | character.  As it works out,\n        // escaping an even number of slashes can be done by simply repeating\n        // it exactly after itself.  That's why this trick works.\n        //\n        // I am sorry that you have to see this.\n        return $1 + $1 + $2 + '|'\n      })\n\n      this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n      const t = pl.type === '*' ? star\n        : pl.type === '?' ? qmark\n        : '\\\\' + pl.type\n\n      hasMagic = true\n      re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n    }\n\n    // handle trailing things that only matter at the very end.\n    clearStateChar()\n    if (escaping) {\n      // trailing \\\\\n      re += '\\\\\\\\'\n    }\n\n    // only need to apply the nodot start if the re starts with\n    // something that could conceivably capture a dot\n    const addPatternStart = addPatternStartSet[re.charAt(0)]\n\n    // Hack to work around lack of negative lookbehind in JS\n    // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n    // like 'a.xyz.yz' doesn't match.  So, the first negative\n    // lookahead, has to look ALL the way ahead, to the end of\n    // the pattern.\n    for (let n = negativeLists.length - 1; n > -1; n--) {\n      const nl = negativeLists[n]\n\n      const nlBefore = re.slice(0, nl.reStart)\n      const nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n      let nlAfter = re.slice(nl.reEnd)\n      const nlLast = re.slice(nl.reEnd - 8, nl.reEnd) + nlAfter\n\n      // Handle nested stuff like *(*.js|!(*.json)), where open parens\n      // mean that we should *not* include the ) in the bit that is considered\n      // \"after\" the negated section.\n      const openParensBefore = nlBefore.split('(').length - 1\n      let cleanAfter = nlAfter\n      for (let i = 0; i < openParensBefore; i++) {\n        cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n      }\n      nlAfter = cleanAfter\n\n      const dollar = nlAfter === '' && isSub !== SUBPARSE ? '$' : ''\n      re = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    }\n\n    // if the re is not \"\" at this point, then we need to make sure\n    // it doesn't match against an empty path part.\n    // Otherwise a/* will match a/, which it should not.\n    if (re !== '' && hasMagic) {\n      re = '(?=.)' + re\n    }\n\n    if (addPatternStart) {\n      re = patternStart + re\n    }\n\n    // parsing just a piece of a larger pattern.\n    if (isSub === SUBPARSE) {\n      return [re, hasMagic]\n    }\n\n    // skip the regexp for non-magical patterns\n    // unescape anything in it, though, so that it'll be\n    // an exact match against a file etc.\n    if (!hasMagic) {\n      return globUnescape(pattern)\n    }\n\n    const flags = options.nocase ? 'i' : ''\n    try {\n      return Object.assign(new RegExp('^' + re + '$', flags), {\n        _glob: pattern,\n        _src: re,\n      })\n    } catch (er) /* istanbul ignore next - should be impossible */ {\n      // If it was an invalid regular expression, then it can't match\n      // anything.  This trick looks for a character after the end of\n      // the string, which is of course impossible, except in multi-line\n      // mode, but it's not a /m regex.\n      return new RegExp('$.')\n    }\n  }\n\n  makeRe () {\n    if (this.regexp || this.regexp === false) return this.regexp\n\n    // at this point, this.set is a 2d array of partial\n    // pattern strings, or \"**\".\n    //\n    // It's better to use .match().  This function shouldn't\n    // be used, really, but it's pretty convenient sometimes,\n    // when you just want to work with a regex.\n    const set = this.set\n\n    if (!set.length) {\n      this.regexp = false\n      return this.regexp\n    }\n    const options = this.options\n\n    const twoStar = options.noglobstar ? star\n      : options.dot ? twoStarDot\n      : twoStarNoDot\n    const flags = options.nocase ? 'i' : ''\n\n    // coalesce globstars and regexpify non-globstar patterns\n    // if it's the only item, then we just do one twoStar\n    // if it's the first, and there are more, prepend (\\/|twoStar\\/)? to next\n    // if it's the last, append (\\/twoStar|) to previous\n    // if it's in the middle, append (\\/|\\/twoStar\\/) to previous\n    // then filter out GLOBSTAR symbols\n    let re = set.map(pattern => {\n      pattern = pattern.map(p =>\n        typeof p === 'string' ? regExpEscape(p)\n        : p === GLOBSTAR ? GLOBSTAR\n        : p._src\n      ).reduce((set, p) => {\n        if (!(set[set.length - 1] === GLOBSTAR && p === GLOBSTAR)) {\n          set.push(p)\n        }\n        return set\n      }, [])\n      pattern.forEach((p, i) => {\n        if (p !== GLOBSTAR || pattern[i-1] === GLOBSTAR) {\n          return\n        }\n        if (i === 0) {\n          if (pattern.length > 1) {\n            pattern[i+1] = '(?:\\\\\\/|' + twoStar + '\\\\\\/)?' + pattern[i+1]\n          } else {\n            pattern[i] = twoStar\n          }\n        } else if (i === pattern.length - 1) {\n          pattern[i-1] += '(?:\\\\\\/|' + twoStar + ')?'\n        } else {\n          pattern[i-1] += '(?:\\\\\\/|\\\\\\/' + twoStar + '\\\\\\/)' + pattern[i+1]\n          pattern[i+1] = GLOBSTAR\n        }\n      })\n      return pattern.filter(p => p !== GLOBSTAR).join('/')\n    }).join('|')\n\n    // must match entire pattern\n    // ending in a * or ** will make it less strict.\n    re = '^(?:' + re + ')$'\n\n    // can match anything, as long as it's not this.\n    if (this.negate) re = '^(?!' + re + ').*$'\n\n    try {\n      this.regexp = new RegExp(re, flags)\n    } catch (ex) /* istanbul ignore next - should be impossible */ {\n      this.regexp = false\n    }\n    return this.regexp\n  }\n\n  match (f, partial = this.partial) {\n    this.debug('match', f, this.pattern)\n    // short-circuit in the case of busted things.\n    // comments, etc.\n    if (this.comment) return false\n    if (this.empty) return f === ''\n\n    if (f === '/' && partial) return true\n\n    const options = this.options\n\n    // windows: need to use /, not \\\n    if (path.sep !== '/') {\n      f = f.split(path.sep).join('/')\n    }\n\n    // treat the test path as a set of pathparts.\n    f = f.split(slashSplit)\n    this.debug(this.pattern, 'split', f)\n\n    // just ONE of the pattern sets in this.set needs to match\n    // in order for it to be valid.  If negating, then just one\n    // match means that we have failed.\n    // Either way, return on the first hit.\n\n    const set = this.set\n    this.debug(this.pattern, 'set', set)\n\n    // Find the basename of the path by looking for the last non-empty segment\n    let filename\n    for (let i = f.length - 1; i >= 0; i--) {\n      filename = f[i]\n      if (filename) break\n    }\n\n    for (let i = 0; i < set.length; i++) {\n      const pattern = set[i]\n      let file = f\n      if (options.matchBase && pattern.length === 1) {\n        file = [filename]\n      }\n      const hit = this.matchOne(file, pattern, partial)\n      if (hit) {\n        if (options.flipNegate) return true\n        return !this.negate\n      }\n    }\n\n    // didn't get any hits.  this is success if it's a negative\n    // pattern, failure otherwise.\n    if (options.flipNegate) return false\n    return this.negate\n  }\n\n  static defaults (def) {\n    return minimatch.defaults(def).Minimatch\n  }\n}\n\nminimatch.Minimatch = Minimatch\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection = exports.MessageDirection || (exports.MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData = exports.DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind = exports.DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest = exports.DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest = exports.WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest = exports.DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = {}));\n//# sourceMappingURL=protocol.diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type [InlayHintsParams](#InlayHintsParams), the response is of type\n * [InlayHint[]](#InlayHint[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest = exports.InlayHintRequest || (exports.InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type [InlayHint](#InlayHint), the response is\n * of type [InlayHint](#InlayHint) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest = exports.InlayHintResolveRequest || (exports.InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest = exports.InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlayHint.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type [InlineValueParams](#InlineValueParams), the response is of type\n * [InlineValue[]](#InlineValue[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest = exports.InlineValueRequest || (exports.InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest = exports.InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * [TextDocumentFilter](#TextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter = exports.TextDocumentFilter || (exports.TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * [NotebookDocumentFilter](#NotebookDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter = exports.NotebookDocumentFilter || (exports.NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * [NotebookCellTextDocumentFilter](#NotebookCellTextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter = exports.NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units.\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode code points,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind = exports.PositionEncodingKind || (exports.PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes = exports.InitializeErrorCodes || (exports.InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern = exports.RelativePattern || (exports.RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind = exports.NotebookCellKind || (exports.NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary = exports.ExecutionSummary || (exports.ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell = exports.NotebookCell || (exports.NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument = exports.NotebookDocument || (exports.NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType = exports.NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification = exports.DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange = exports.NotebookCellArrayChange || (exports.NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification = exports.DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = {}));\n//# sourceMappingURL=protocol.notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest = exports.TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest = exports.TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest = exports.TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = {}));\n//# sourceMappingURL=protocol.typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolder.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * [InlineValueContext](#InlineValueContext) literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InlineValueContext](#InlineValueContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","module.exports = require(\"vscode\");","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"fs\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as vscode from \"vscode\";\nimport { DebugManager } from \"./debugmanager\";\nimport { LanguageClientsManager } from \"./languageclientsmanger\";\nimport { PythonManager } from \"./pythonmanger\";\nimport { TestControllerManager } from \"./testcontrollermanager\";\n\nclass TerminalLink extends vscode.TerminalLink {\n  constructor(public path: string, startIndex: number, length: number, tooltip?: string) {\n    super(startIndex, length, tooltip);\n  }\n}\n\nlet languageClientManger: LanguageClientsManager;\n\nfunction getDocTheme(): string {\n  switch (vscode.window.activeColorTheme.kind) {\n    case vscode.ColorThemeKind.Dark:\n    case vscode.ColorThemeKind.HighContrast:\n      return \"dark\";\n    case vscode.ColorThemeKind.Light:\n    case vscode.ColorThemeKind.HighContrastLight:\n    default:\n      return \"light\";\n  }\n}\n\nexport async function activateAsync(context: vscode.ExtensionContext): Promise<void> {\n  const outputChannel = vscode.window.createOutputChannel(\"RobotCode\");\n\n  outputChannel.appendLine(\"Activate RobotCode Extension.\");\n\n  const pythonManager = new PythonManager(context, outputChannel);\n\n  languageClientManger = new LanguageClientsManager(context, pythonManager, outputChannel);\n\n  const debugManager = new DebugManager(context, pythonManager, languageClientManger, outputChannel);\n\n  const testControllerManger = new TestControllerManager(context, languageClientManger, debugManager, outputChannel);\n\n  context.subscriptions.push(\n    pythonManager,\n    languageClientManger,\n    debugManager,\n    testControllerManger,\n    vscode.commands.registerCommand(\"robotcode.showDocumentation\", async (url: string) => {\n      if (url.indexOf(\"&theme=%24%7Btheme%7D\") > 0) {\n        url = url.replace(\"%24%7Btheme%7D\", getDocTheme());\n      }\n      const uri = vscode.Uri.parse(url);\n      const external_uri = await vscode.env.asExternalUri(uri);\n      await vscode.commands.executeCommand(\"simpleBrowser.api.open\", external_uri.toString(true), {\n        preserveFocus: true,\n        viewColumn: vscode.ViewColumn.Beside,\n      });\n    }),\n    vscode.window.registerTerminalLinkProvider({\n      provideTerminalLinks(terminalContext: vscode.TerminalLinkContext, _token: vscode.CancellationToken) {\n        const line = terminalContext.line.trimEnd();\n\n        if ((line.startsWith(\"Log:\") || line.startsWith(\"Report:\")) && line.endsWith(\"html\")) {\n          const result = /(Log|Report):\\s*(?<link>\\S.*)/.exec(line)?.groups?.link;\n\n          if (result) {\n            return [\n              new TerminalLink(\n                result,\n                line.indexOf(result),\n                result.length,\n                line.startsWith(\"Log:\") ? \"Open log.\" : \"Open report.\"\n              ),\n            ];\n          }\n        }\n\n        return [];\n      },\n      async handleTerminalLink(link: TerminalLink) {\n        await languageClientManger.openUriInDocumentationView(vscode.Uri.file(link.path));\n      },\n    })\n  );\n\n  await languageClientManger.refresh();\n\n  context.subscriptions.push(\n    vscode.workspace.onDidChangeConfiguration(async (event) => {\n      const affectedFolders = new Set<vscode.Uri>();\n\n      for (const s of [\n        \"robotcode.python\",\n        \"robotcode.languageServer\",\n        \"robotcode.robot\",\n        \"robotcode.robocop\",\n        \"robotcode.robotidy\",\n        \"robotcode.analysis\",\n        \"robotcode.workspace\",\n        \"robotcode.documentationServer\",\n      ]) {\n        for (const ws of vscode.workspace.workspaceFolders ?? []) {\n          if (languageClientManger.clients.has(ws.uri.toString()))\n            if (event.affectsConfiguration(s, ws)) {\n              affectedFolders.add(ws.uri);\n            }\n        }\n      }\n\n      for (const uri of affectedFolders) {\n        await languageClientManger.restart(uri);\n      }\n    })\n  );\n}\n\nfunction displayProgress<R>(promise: Promise<R>): Thenable<R> {\n  const progressOptions: vscode.ProgressOptions = {\n    location: vscode.ProgressLocation.Window,\n    title: \"RobotCode extension loading ...\",\n  };\n  return vscode.window.withProgress(progressOptions, () => promise);\n}\n\nexport async function activate(context: vscode.ExtensionContext): Promise<void> {\n  return displayProgress(activateAsync(context));\n}\n\nexport async function deactivate(): Promise<void> {\n  await languageClientManger.stopAllClients();\n}\n"],"names":["ANSI_REGEX","create","colors","enabled","process","env","FORCE_COLOR","visible","styles","keys","wrap","style","input","newline","stack","str","nl","includes","n","length","Set","reverse","define","name","codes","type","open","close","regex","RegExp","replace","output","ansi","push","Reflect","defineProperty","configurable","enumerable","set","value","alias","get","color","setPrototypeOf","this","concat","ansiRegex","hasColor","hasAnsi","lastIndex","test","fn","TypeError","theme","custom","val","Array","isArray","Object","none","clear","noop","stripColor","unstyle","symbols","module","exports","isHyper","TERM_PROGRAM","isWindows","platform","isLinux","common","ballotDisabled","ballotOff","ballotOn","bullet","bulletWhite","fullBlock","heart","identicalTo","line","mark","middot","minus","multiplication","obelus","pencilDownRight","pencilRight","pencilUpRight","percent","pilcrow2","pilcrow","plusMinus","question","section","starsOff","starsOn","upDownArrow","windows","assign","check","cross","ellipsisLarge","ellipsis","info","questionSmall","pointer","pointerSmall","radioOff","radioOn","warning","other","ballotCross","questionFull","balanced","a","b","maybeMatch","r","range","start","end","pre","slice","body","post","reg","m","match","begs","beg","left","right","result","ai","indexOf","bi","i","pop","Yallist","MAX","Symbol","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","self","key","doUse","node","hit","isStale","del","now","Date","unshiftNode","maxAge","diff","trim","walker","tail","prev","delete","removeNode","Entry","constructor","forEachStep","thisp","undefined","call","options","max","Infinity","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","allowStale","mA","lengthCalculator","lC","forEach","itemCount","rforEach","head","next","toArray","map","k","values","Map","dump","v","e","filter","h","dumpLru","len","has","item","unshift","peek","load","arr","l","expiresAt","prune","ANY","Comparator","comp","parseOptions","loose","debug","parse","semver","operator","version","re","t","COMPARATORLOOSE","COMPARATOR","SemVer","toString","er","cmp","intersects","includePrerelease","Range","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","raw","format","split","parseRange","c","first","isNullSet","isAny","comps","join","memoKey","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","rangeList","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","parseComparator","replaceGTE0","rangeMap","comparators","size","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","testSet","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","id","toLowerCase","replaceTilde","TILDELOOSE","TILDE","_","M","p","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","prerelease","allowed","major","minor","patch","MAX_LENGTH","MAX_SAFE_INTEGER","compareIdentifiers","LOOSE","FULL","num","build","compare","compareMain","comparePre","compareBuild","inc","release","identifier","isNaN","Error","eq","neq","gt","gte","lt","lte","op","Number","SEMVER_SPEC_VERSION","MAX_SAFE_COMPONENT_LENGTH","NODE_DEBUG","args","console","error","numeric","anum","bnum","rcompareIdentifiers","opts","reduce","o","src","R","createToken","isGlobal","index","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","LONECARET","CONFIG_SECTION","DEBUG_ADAPTER_DEFAULT_HOST","DEBUG_CONFIGURATIONS","label","description","request","cwd","target","RobotCodeDebugConfigurationProvider","pythonManager","resolveDebugConfiguration","folder","debugConfiguration","token","_resolveDebugConfiguration","async","editor","vscode","window","activeTextEditor","document","languageId","fileName","endsWith","showQuickPick","canPickMany","config","workspace","getConfiguration","template","defaultLaunchConfig","find","purpose","path","isAbsolute","relative","python","getPythonCommand","robotPythonPath","variableFiles","variables","openOutputAfterRun","outputDir","mode","languages","attachPython","outputMessages","outputLog","groupOutput","noDebug","debugpyPath","pythonExtension","getDebuggerPackagePath","envPythonPath","PYTHONPATH","dirname","delimiter","RobotCodeDebugAdapterDescriptorFactory","createDebugAdapterDescriptor","session","_executable","workspaceFolder","configuration","port","connect","host","DebugAdapterServer","pythonCommand","debugAdapterArgs","launcherArgs","pythonDebugAdapterMain","uri","fsPath","DebugAdapterExecutable","DebugManager","extensionContext","languageClientsManager","outputChannel","_attachedSessions","WeakValueSet","_disposables","Disposable","registerDebugConfigurationProvider","provideDebugConfigurations","_folder","_token","DebugConfigurationProviderTriggerKind","Dynamic","registerDebugAdapterDescriptorFactory","onDidReceiveDebugSessionCustomEvent","event","OnDebugpyStarted","s","parentSession","stopDebugging","OnRobotExited","outputFile","logFile","reportFile","onDidStartDebugSession","add","onDidTerminateDebugSession","registerEvaluatableExpressionProvider","provideEvaluatableExpression","position","getEvaluatableExpression","then","EvaluatableExpression","toVsCodeRange","expression","static","suites","included","excluded","runId","dryRun","topLevelSuiteName","separator","testLaunchConfig","paths","startDebugging","_event","pythonConfiguration","String","addresses","pathMappings","compact","lifecycleManagedByParent","consoleMode","DebugConsoleMode","MergeWithParent","_outputFile","openUriInDocumentationView","Uri","file","ClientState","Position","character","onClientStateChanged","_onClientStateChangedEmitter","clientsMutex","Mutex","clients","outputChannels","_pythonValidPythonAndRobotEnv","WeakMap","EventEmitter","settings","onDidChangeExecutionDetails","getWorkspaceFolder","needsRestart","refresh","restart","onDidChangeWorkspaceFolders","onDidOpenTextDocument","getLanguageClientForDocument","promises","client","stop","Promise","all","reason","appendLine","stopAllClients","getServerOptionsTCP","resolve","reject","net","Socket","on","err","reader","writer","showErrorWithSelectPythonInterpreter","msg","showErrorMessage","title","commands","executeCommand","checkPythonVersion","robotCheck","checkRobotVersion","serverArgs","pythonLanguageServerMain","transport","stdio","TransportKind","pipe","socket","getPort","getAvailablePort","run","command","kind","getLanguageClientForResource","resource","dispatch","workspaceFolders","serverOptions","getServerOptions","createOutputChannel","closeHandlerAction","CloseAction","DoNotRestart","clientOptions","documentSelector","scheme","language","pattern","synchronize","configurationSection","initializationOptions","storageUri","globalStorageUri","revealOutputChannelOn","RevealOutputChannelOn","Never","initializationFailedHandler","message","errorHandler","_error","_message","_count","action","ErrorAction","Continue","closed","markdown","isTrusted","supportHtml","progressOnInitialization","middleware","resolveCodeLens","codeLens","resolvedCodeLens","resolveFunc","codeLensToFix","arguments","Location","LanguageClient","onDidChangeState","newState","State","Starting","diagnostics","Running","Restart","Stopped","fire","state","sleep","folders","textDocuments","f","findFiles","RelativePattern","catch","sendRequest","base_name","textDocument","doc_uri","convertToDocumententationUri","openExternal","viewPort","context","frameId","stoppedLocation","checkAvailablePort","server","createServer","unref","listen","address","isErrnoException","object","prototype","hasOwnProperty","interfaces","os","networkInterfaces","results","_interface","hosts","code","_pythonLanguageServerMain","_pythonDebugAdapterMain","checkRobotVersionMain","_checkRobotVersionMain","checkPythonVersionScript","_pythonVersionScript","asAbsolutePath","_pythonExtension","extensions","getExtension","activate","ready","ex","configPython","pythonExtensionPythonPath","getExecutionDetails","execCommand","res","spawnSync","encoding","status","stdout","trimEnd","DidChangeEntry","timerHandle","tokenSource","timer","cancel","clearTimeout","WorkspaceFolderEntry","valid","_valid","items","TestControllerManager","debugManager","refreshMutex","debugSessions","didChangedTimer","robotTestItems","testItems","WeakValueMap","testTags","refreshFromUriMutex","testRuns","testController","tests","createTestController","runProfile","createRunProfile","TestRunProfileKind","Run","runTests","dryRunProfile","debugProfile","Debug","dryRunDebugProfile","resolveHandler","fileWatcher","createFileSystemWatcher","onDidCreate","refreshUri","onDidDelete","onDidChange","removeWorkspaceFolderItems","onDidCloseTextDocument","refreshWorkspace","onDidSaveTextDocument","refreshDocument","findTestItemForDocument","onDidChangeTextDocument","removed","added","TestRunExited","OnRobotStartedEvent","OnRobotEndedEvent","TestItemEnqueued","OnRobotLogMessageEvent","registerCommand","robotItems","deleteItem","itemId","children","findRobotItem","parent","uri_str","CancellationTokenSource","setTimeout","canResolveChildren","findTestItemByUri","documentUri","findTestItemById","refreshItem","isCancellationRequested","busy","robotItem","openDoc","d","getTestsFromDocument","longname","findIndex","w","sort","addedIds","newItem","addOrUpdateTestItem","removeNotAddedTestItems","getTestsFromWorkspace","parentTestItem","robotTestItem","testItem","createTestItem","tags","convertTags","itemsToRemove","tag","TestTag","vstag","_reason","entry","fileChangeTimer","findWorkspaceForItem","ws","mapTestItemsToWorkspace","_runIdCounter","includedItems","include","robotTest","exclude","createTestRun","run_started","onCancellationRequested","profile","workspaceItem","workspaceRobotItem","includedInWs","ritem","excludedInWs","suiteName","enqueued","TestItemStarted","attributes","started","TestItemEnded","passed","elapsedtime","skipped","messages","failedKeywords","keyword","TestMessage","source","location","lineno","failed","errored","level","yellow","red","appendOutput","replaceAll","runIdGenerator","timeout","mutex","lock","begin","_unlock","unlock","finally","finalizer","FinalizationRegistry","ref","unregister","callbackfn","thisArg","entries","bind","deref","oldref","WeakRef","register","iterator","toStringTag","TraceValues","Trace","ProgressType","ProgressToken","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","AbstractMessageBuffer","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","CancellationToken","Emitter","Event","LRUCache","Touch","LinkedMap","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","NotificationType0","NotificationType","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","RequestType","Message","RAL","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","TraceFormat","messages_1","linkedMap_1","disposable_1","events_1","cancellation_1","messageReader_1","messageWriter_1","messageBuffer_1","connection_1","ral_1","default","Is","None","freeze","Cancelled","is","candidate","boolean","shortcutEvent","callback","handle","MutableToken","_isCancelled","_emitter","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","func","warn","log","Off","Messages","Compact","Verbose","fromString","string","JSON","Text","super","cancelUndispatched","createCancellationTokenSource","sendCancellation","conn","sendNotification","cleanup","receiver","sender","cancellationStrategy","connectionStrategy","messageReader","messageWriter","_logger","logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","tracer","messageQueue","responsePromises","knownCanceledRequests","requestTokens","trace","traceFormat","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","setImmediate","shift","isRequest","requestMessage","reply","resultOrError","method","startTime","jsonrpc","toJson","traceSendingResponse","write","replyError","data","params","stringifyTrace","logLSPMessage","traceReceivedRequest","element","requestHandler","handler","tokenKey","cancellationSource","handlerResult","numberOfParams","InvalidParams","parameterStructures","byName","byPosition","promise","InternalError","replySuccess","MethodNotFound","handleRequest","isNotification","notificationHandler","cancelId","traceReceivedNotification","handleNotification","isResponse","responseMessage","stringify","responsePromise","timerStart","traceReceivedResponse","handleResponse","number","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","strategy","response","cancellationToken","queue","addMessageToQueue","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","connection","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","sendProgress","onUnhandledProgress","throwIfNotListening","last","disposable","traceSendingRequest","MessageWriteError","onRequest","hasPendingResponse","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","PendingResponseRejected","AlreadyListening","throwIfListening","inspect","verbose","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","splice","invoke","callbacks","contexts","apply","isEmpty","_options","listener","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","array","stringArray","elem","_a","First","AsOld","Last","AsNew","_map","_head","_tail","_size","_state","touch","previous","addItemLast","addItemFirst","removeItem","current","done","trimOld","newSize","currentSize","toJSON","fromJSON","limit","ratio","_limit","_ratio","Math","min","checkTrim","round","_encoding","_chunks","_totalLength","append","chunk","toAppend","byteLength","tryReadHeaders","chunkIndex","offset","chunkBytesRead","row","buffer","_read","headers","header","substr","tryReadBody","numberOfBytes","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","decoder","applicationJson","readable","messageBuffer","_partialMessageTimeout","nextMessageLength","messageToken","partialMessageTimeout","partialMessageTimer","onData","contentLength","parseInt","setPartialMessageTimer","clearPartialMessageTimer","decode","waitingTime","semaphore_1","ResolvedMessageWriterOptions","count","contentTypeEncoder","encoder","contentEncoder","writable","errorCount","writeSemaphore","Semaphore","encode","doWrite","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ConnectionInactive","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","_parameterStructures","_ral","install","ral","capacity","_capacity","_active","_waiting","thunk","runNext","active","doRunNext","__createBinding","k2","desc","getOwnPropertyDescriptor","__esModule","__exportStar","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","PortMessageWriter","PortMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","crypto_1","net_1","api_1","eventEmitter","off","send","postMessage","stream","asReadableStream","asWritableStream","destroy","XDG_RUNTIME_DIR","safeIpcPathLengths","randomSuffix","randomBytes","tmpdir","pipeName","connectResolve","connected","_reject","removeListener","onConnected","createConnection","read","addListener","isReadableStream","isWritableStream","util_1","MessageBuffer","Buffer","TextDecoder","allocUnsafe","ReadableStreamWrapper","onEnd","WritableStreamWrapper","_ril","ms","clearImmediate","setInterval","clearInterval","RIL","DiagnosticPullMode","vsdiag","diagnostic_1","CallHierarchyFeature","vscode_1","vscode_languageserver_protocol_1","features_1","CallHierarchyProvider","prepareCallHierarchy","code2ProtocolConverter","asTextDocumentPositionParams","CallHierarchyPrepareRequest","protocol2CodeConverter","asCallHierarchyItems","handleFailedRequest","provideCallHierarchyIncomingCalls","asCallHierarchyItem","CallHierarchyIncomingCallsRequest","asCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","CallHierarchyOutgoingCallsRequest","asCallHierarchyOutgoingCalls","TextDocumentLanguageFeature","fillClientCapabilities","cap","capabilities","ensure","dynamicRegistration","initialize","getRegistration","callHierarchyProvider","registerOptions","registerLanguageProvider","_client","provider","registerCallHierarchyProvider","asDocumentSelector","ProposedFeatures","BaseLanguageClient","MessageTransports","SuspendMode","c2p","p2c","async_1","UUID","progressPart_1","notebook_1","configuration_1","textSynchronization_1","completion_1","hover_1","definition_1","signatureHelp_1","documentHighlight_1","documentSymbol_1","workspaceSymbol_1","reference_1","codeAction_1","codeLens_1","formatting_1","rename_1","documentLink_1","executeCommand_1","fileSystemWatcher_1","colorProvider_1","implementation_1","typeDefinition_1","workspaceFolder_1","foldingRange_1","declaration_1","selectionRange_1","progress_1","callHierarchy_1","semanticTokens_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","inlayHint_1","DefaultErrorHandler","maxRestartCount","restarts","Shutdown","_diagnosticQueue","_diagnosticQueueState","_features","_dynamicFeatures","workspaceEditLock","_id","_name","_clientOptions","diagnosticCollectionName","outputChannelName","stdioEncoding","createDefaultErrorHandler","connectionOptions","uriConverters","diagnosticPullOptions","onChange","onSave","notebookDocumentOptions","Initial","_ignoredRegistrations","_listeners","_notificationHandlers","_pendingNotificationHandlers","_notificationDisposables","_requestHandlers","_pendingRequestHandlers","_requestDisposables","_progressHandlers","_pendingProgressHandlers","_progressDisposables","_connection","_initializeResult","_outputChannel","_disposeOutputChannel","_traceOutputChannel","traceOutputChannel","_diagnostics","_fileEvents","_fileEventDelayer","Delayer","_onStop","_telemetryEmitter","_stateChangeEmitter","_trace","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","_syncedDocuments","registerBuiltinFeatures","onTelemetry","getPublicState","$state","oldState","initializeResult","StartFailed","Stopping","$start","forceDocumentSync","activeConnection","handleWorkDoneProgress","realHandler","WorkDoneProgress","data2String","responseError","showNotification","toLocaleTimeString","Info","showNotificationMessage","MessageType","Warn","Warning","showWarningMessage","showInformationMessage","selection","show","needsStart","needsStop","isRunning","_disposed","_onStart","createOnStartPromise","createDiagnosticCollection","LogMessageNotification","ShowMessageNotification","ShowMessageRequest","messageFunc","actions","TelemetryEventNotification","ShowDocumentRequest","showDocument","asUri","external","success","asRange","takeFocus","preserveFocus","showTextDocument","_resolve","refreshTrace","initOption","rootPath","_clientGetRootPath","initParams","processId","clientInfo","appName","locale","getLocale","rootUri","computeClientCapabilities","fillInitializeParams","doInitialize","generateUuid","part","ProgressPart","workDoneToken","positionEncoding","PositionEncodingKind","UTF16","textDocumentSyncOptions","textDocumentSync","TextDocumentSyncKind","openClose","change","save","includeText","_capabilities","resolvedTextDocumentSync","PublishDiagnosticsNotification","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","retry","shutdown","cleanUp","exit","race","cleanUpChannel","feature","_idleInterval","notifyFileEvent","didChangeWatchedFile","trigger","DidChangeWatchedFilesNotification","changes","workSpaceMiddleware","_didChangeTextDocumentFeature","DidChangeTextDocumentNotification","forceDelivery","triggerDiagnosticQueue","workDiagnosticQueue","asDiagnostics","converted","setDiagnostics","transports","createMessageTransports","_lastUsed","ConsoleLogger","createProtocolConnection","lastUsed","resetLastUsed","defaultTraceOptions","InitializeRequest","ShutdownRequest","ExitNotification","handleConnectionError","handleConnectionClosed","onDidChangeConfiguration","traceConfig","watchers","fileEvents","registerRaw","registerFeatures","features","registerFeature","DynamicFeature","registrationType","getFeature","hasDedicatedTextSynchronizationFeature","NotebookDocumentSyncRegistrationType","NotebookDocumentSyncFeature","handles","ConfigurationFeature","DidOpenTextDocumentFeature","DidChangeTextDocumentFeature","WillSaveFeature","WillSaveWaitUntilFeature","DidSaveTextDocumentFeature","DidCloseTextDocumentFeature","FileSystemWatcherFeature","CompletionItemFeature","HoverFeature","SignatureHelpFeature","DefinitionFeature","ReferencesFeature","DocumentHighlightFeature","DocumentSymbolFeature","WorkspaceSymbolFeature","CodeActionFeature","CodeLensFeature","DocumentFormattingFeature","DocumentRangeFormattingFeature","DocumentOnTypeFormattingFeature","RenameFeature","DocumentLinkFeature","ExecuteCommandFeature","SyncConfigurationFeature","TypeDefinitionFeature","ImplementationFeature","ColorProviderFeature","WorkspaceFoldersFeature","FoldingRangeFeature","DeclarationFeature","SelectionRangeFeature","ProgressFeature","SemanticTokensFeature","LinkedEditingFeature","DidCreateFilesFeature","DidRenameFilesFeature","DidDeleteFilesFeature","WillCreateFilesFeature","WillRenameFilesFeature","WillDeleteFilesFeature","TypeHierarchyFeature","InlineValueFeature","InlayHintsFeature","DiagnosticFeature","registerProposedFeatures","createAll","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Create","Rename","Delete","failureHandling","FailureHandlingKind","TextOnlyTransactional","normalizesLineEndings","changeAnnotationSupport","groupsOnLabel","relatedInformation","versionSupport","tagSupport","valueSet","DiagnosticTag","Unnecessary","Deprecated","codeDescriptionSupport","dataSupport","windowCapabilities","messageActionItem","additionalPropertiesSupport","support","generalCapabilities","staleRequestSupport","retryOnContentModified","RequestsToCancelOnContentModified","regularExpressions","engine","parser","positionEncodings","allowedTags","preInitialize","registration","registrations","unregistration","unregisterations","edit","asWorkspaceEdit","openTextDocuments","versionMismatch","TextDocumentEdit","applied","asPromise","defaultValue","LSPErrorCodes","RequestCancelled","ServerCancelled","LSPCancellationError","CancellationError","ContentModified","SemanticTokensRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","CodeActionRequest","isPreferredSupport","disabledSupport","resolveSupport","properties","codeActionLiteralSupport","codeActionKind","CodeActionKind","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","honorsChangeAnnotations","getRegistrationOptions","codeActionProvider","selector","provideCodeActions","_provideCodeActions","asTextDocumentIdentifier","asCodeActionContext","asCodeActionResult","resolveCodeAction","resolveProvider","CodeActionResolveRequest","asCodeAction","registerCodeActionsProvider","codeActionKinds","providedCodeActionKinds","asCodeActionKinds","proto","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","protocolCodeAction_1","protocolDiagnostic_1","protocolCallHierarchyItem_1","protocolTypeHierarchyItem_1","protocolWorkspaceSymbol_1","protocolInlayHint_1","InsertReplaceRange","inserting","replacing","uriConverter","_uriConverter","asTextDocumentItem","text","getText","asTextDocumentSaveReason","TextDocumentSaveReason","Manual","AfterDelay","FocusOut","asCompletionTriggerKind","triggerKind","CompletionTriggerKind","TriggerCharacter","TriggerForIncompleteCompletions","Invoked","asSignatureHelpTriggerKind","SignatureHelpTriggerKind","Invoke","ContentChange","asParameterInformation","asSignatureInformation","parameters","asWorkerPosition","asPosition","uinteger","MAX_VALUE","asLocation","asDiagnosticSeverity","DiagnosticSeverity","Information","Hint","asDiagnosticTag","asRelatedInformation","asDiagnostic","Diagnostic","protocolDiagnostic","ProtocolDiagnostic","asDiagnosticCode","DiagnosticCode","hasDiagnosticCode","codeDescription","href","severity","asDiagnosticTags","asCompletionItemTag","CompletionItemTag","asTextEdit","newText","asTextEdits","edits","asSymbolKind","SymbolKind","TypeParameter","Property","asSymbolTag","asSymbolTags","asCommand","Command","asInlayHintLabelPart","InlayHintLabelPart","tooltip","asTooltip","MarkupKind","Markdown","asVersionedTextDocumentIdentifier","asOpenTextDocumentParams","asChangeTextDocumentParams","arg","isTextDocument","contentChanges","isTextDocumentChangeEvent","rangeLength","asCloseTextDocumentParams","asSaveTextDocumentParams","includeContent","asWillSaveTextDocumentParams","asDidCreateFilesParams","files","fileUri","asDidRenameFilesParams","oldUri","newUri","asDidDeleteFilesParams","asWillCreateFilesParams","asWillRenameFilesParams","asWillDeleteFilesParams","asCompletionParams","triggerCharacter","asSignatureHelpParams","isRetrigger","activeSignatureHelp","signatures","activeSignature","activeParameter","asPositions","asCompletionItem","labelDetailsSupport","labelDetails","detail","protocolItem","original","documentation","documentationFormat","PlainText","asDocumentation","filterText","InsertTextFormat","textEdit","insertText","SnippetString","Snippet","insertTextFormat","fromEdit","InsertReplaceEdit","asCompletionTextEdit","fillPrimaryInsertText","originalItemKind","sortText","additionalTextEdits","commitCharacters","preselect","asCompletionItemTags","deprecated","insertTextMode","keepWhitespace","InsertTextMode","adjustIndentation","asReferenceParams","includeDeclaration","CodeAction","asCodeActionKind","isPreferred","disabled","only","CodeActionContext","CodeActionTriggerKind","Automatic","asCodeActionTriggerKind","asInlineValueContext","InlineValueContext","asCodeLens","CodeLens","asFormattingOptions","fileOptions","tabSize","insertSpaces","trimTrailingWhitespace","trimFinalNewlines","insertFinalNewline","asDocumentSymbolParams","asCodeLensParams","asDocumentLink","DocumentLink","asDocumentLinkParams","selectionRange","asTypeHierarchyItem","asInlayHint","InlayHint","textEdits","paddingLeft","paddingRight","asWorkspaceSymbol","hasRange","containerName","CodeLensRequest","refreshSupport","CodeLensRefreshRequest","getAllProviders","onDidChangeCodeLensEmitter","codeLensProvider","onDidChangeCodeLenses","provideCodeLenses","asCodeLenses","CodeLensResolveRequest","registerCodeLensProvider","DocumentColorRequest","colorProvider","provideColorPresentations","requestParams","ColorPresentationRequest","asColorPresentations","provideDocumentColors","asColorInformations","registerColorProvider","SupportedCompletionItemKinds","CompletionItemKind","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Unit","Value","Enum","Keyword","Color","File","Reference","Folder","EnumMember","Constant","Struct","Operator","CompletionRequest","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","deprecatedSupport","preselectSupport","insertReplaceSupport","insertTextModeSupport","asIs","completionItemKind","completionList","itemDefaults","completionProvider","triggerCharacters","defaultCommitCharacters","allCommitCharacters","provideCompletionItems","asCompletionResult","provideCompletionItem","resolveCompletionItem","CompletionResolveRequest","registerCompletionItemProvider","toJSONObject","obj","getState","ConfigurationRequest","scopeUri","lastIndexOf","DidChangeConfigurationNotification","sections","affectsConfiguration","didChangeConfiguration","extractSettingsInformation","ensurePath","DeclarationRequest","declarationSupport","linkSupport","declarationProvider","provideDeclaration","asDeclarationResult","registerProvider","registerDeclarationProvider","DefinitionRequest","definitionSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","minimatch","uuid_1","RequestStateKind","PullState","DocumentOrUri","DocumentDiagnosticReportKind","Tabs","_onOpen","_onClose","fillTabResources","tabGroups","onDidChangeTabs","opened","oldTabs","currentTabs","tab","toFire","onOpen","isActive","isVisible","getTabResources","strings","uris","seen","group","tabs","TabInputText","TabInputTextDiff","modified","asKey","DocumentPullStateTracker","documentPullStates","workspacePullStates","track","arg1","states","pulledVersion","resultId","update","arg2","unTrack","tracks","getResultId","getAllResultIds","DiagnosticRequestor","onDidChangeDiagnosticsEmitter","createProvider","openRequests","documentStates","workspaceErrorCounter","knows","forget","pull","cb","pullAsync","isUri","currentRequestState","documentState","report","afterState","provideDiagnostics","full","DiagnosticServerCancellationData","retriggerRequest","outDated","reschedule","forgetDocument","workspaceDiagnostics","pullWorkspace","pullWorkspaceAsync","workspaceTimeout","provideWorkspaceDiagnostics","workspaceCancellation","previousResultIds","onDidChangeDiagnostics","previousResultId","DocumentDiagnosticRequest","Full","unChanged","resultIds","resultReporter","convertReport","convertPreviousResultIds","partialResultToken","WorkspaceDiagnosticRequest","partialResult","BackgroundScheduler","diagnosticRequestor","documents","endDocumentKey","endDocument","intervalHandle","DiagnosticFeatureProviderImpl","matches","TextDocumentFilter","matcher","Minimatch","noext","makeRe","matchResource","isActiveDocument","activeTextDocument","backgroundScheduler","addToBackgroundIfNeeded","interFileDependencies","onDidChangeActiveTextEditor","oldActive","openFeature","DidOpenTextDocumentNotification","onNotificationSent","pulledTextDocuments","onTabs","changeFeature","onType","saveFeature","DidSaveTextDocumentNotification","closeFeature","DidCloseTextDocumentNotification","cleanUpDocument","capability","relatedDocumentSupport","DiagnosticRefreshRequest","diagnosticProvider","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","_provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentLinkRequest","documentLinkCapabilities","tooltipSupport","documentLinkProvider","provideDocumentLinks","asDocumentLinks","resolveDocumentLink","link","DocumentLinkResolveRequest","registerDocumentLinkProvider","SupportedSymbolTags","SupportedSymbolKinds","Namespace","Package","Boolean","Key","Null","SymbolTag","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","labelSupport","documentSymbolProvider","provideDocumentSymbols","_provideDocumentSymbols","DocumentSymbol","asDocumentSymbols","asSymbolInformations","metaData","registerDocumentSymbolProvider","_commands","ExecuteCommandRequest","executeCommandProvider","WorkspaceFeature","TextDocumentEventFeature","DynamicDocumentFeature","StaticFeature","selectors","getDocumentSelectors","createParams","selectorFilter","_middleware","_createParams","_textDocument","_selectorFilter","_selectors","_onNotificationSent","getStateInfo","_listener","doSend","notificationSent","getProvider","_registrationType","_registrations","TextDocumentRegistrationOptions","StaticRegistrationOptions","hasId","WorkDoneProgressOptions","getProviders","FileOperationFeature","clientCapability","serverCapability","_clientCapability","_serverCapability","_filters","filterSize","fileOperations","filters","minimatchFilter","glob","asMinimatchOptions","getFileType","prop","fileMatches","fileType","FileType","FileOperationPatternKind","Directory","fs","stat","ignoreCase","nocase","NotificationFileOperationFeature","notificationType","accessUri","_notificationType","_accessUri","originalEvent","filteredEvent","CachingNotificationFileOperationFeature","_fsPathFileTypes","clearFileTypeCache","_willListener","onDidCreateFiles","DidCreateFilesNotification","didCreateFiles","onDidRenameFiles","DidRenameFilesNotification","onWillRenameFiles","willRename","waitUntil","cacheFileTypes","didRenameFiles","onDidDeleteFiles","DidDeleteFilesNotification","onWillDeleteFiles","willDelete","didDeleteFiles","RequestFileOperationFeature","requestType","_requestType","onWillCreateFiles","WillCreateFilesRequest","willCreateFiles","WillRenameFilesRequest","willRenameFiles","WillDeleteFilesRequest","willDeleteFiles","_notifyFileEvent","_watchers","relativePatternSupport","_documentSelector","watcher","globPattern","asGlobPattern","watchCreate","watchChange","watchDelete","WatchKind","Change","fileSystemWatcher","hookListeners","fileSystemWatchers","listeners","FileChangeType","Created","Changed","Deleted","FoldingRangeRequest","rangeLimit","lineFoldingOnly","foldingRangeKind","FoldingRangeKind","Comment","Imports","Region","foldingRange","collapsedText","foldingRangeProvider","provideFoldingRanges","asFoldingRanges","registerFoldingRangeProvider","FileFormattingOptions","fromConfiguration","filesConfig","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","registerDocumentFormattingEditProvider","DocumentRangeFormattingRequest","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","provideOnTypeFormattingEdits","ch","moreTriggerCharacter","registerOnTypeFormattingEditProvider","firstTriggerCharacter","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asHover","registerHoverProvider","ImplementationRequest","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","InlayHintRequest","inlayHint","InlayHintRefreshRequest","onDidChangeInlayHints","inlayHintProvider","provideInlayHints","asInlayHints","resolveInlayHint","hint","InlayHintResolveRequest","registerInlayHintsProvider","InlineValueRequest","InlineValueRefreshRequest","onDidChangeInlineValues","inlineValueProvider","provideInlineValues","asInlineValues","registerInlineValuesProvider","LinkedEditingRangeRequest","linkedEditingRangeProvider","provideLinkedEditingRanges","provideLinkedEditing","asLinkedEditingRanges","provideLinkedEditingRange","registerLinkedEditingRangeProvider","Converter","$NotebookCell","$NotebookDocumentFilter","$NotebookDocumentSyncOptions","SyncInfo","asNotebookCells","cells","base","cell","asNotebookCell","asMetadata","metadata","deepCopy","NotebookCell","NotebookCellKind","Markup","Code","asNotebookCellKind","executionSummary","executionOrder","props","asVersionedNotebookDocumentIdentifier","notebookDocument","asNotebookDocument","NotebookDocument","notebookType","asTextContentChange","asNotebookDocumentChangeEvent","changedCells","structure","deleteCount","didOpen","didClose","textContent","equals","one","compareMetaData","endTime","equalsTiming","timing","equalsExecution","equalsMetadata","oneArray","otherArray","isObjectLiteral","oneKeys","otherKeys","computeDiff","originalCells","modifiedCells","compareMetadata","originalLength","modifiedLength","startIndex","originalEndIndex","modifiedEndIndex","newCells","matchNotebook","asDocumentFilter","notebook","notebookSelector","NotebookDocumentSyncFeatureProvider","notebookSyncInfo","notebookDidOpen","onDidOpenNotebookDocument","notebookDocuments","onDidChangeNotebookDocument","didChangeNotebookDocument","onDidSaveNotebookDocument","didSave","onDidCloseNotebookDocument","getMatchingCells","didOpenNotebookCellTextDocument","syncInfo","cellMatches","cellIsSynced","matchingCells","doSendChange","doSendOpen","didChangeNotebookCellTextDocument","didCloseNotebookCellTextDocument","cellUri","doSendClose","deleted","newEvent","doSendSave","syncedCells","getCells","nb","cellDocuments","DidOpenNotebookDocumentNotification","cellTextDocuments","notebooks","DidChangeNotebookDocumentNotification","didChange","DidSaveNotebookDocumentNotification","DidCloseNotebookDocumentNotification","matchingCellsSet","cellChanges","cellChange","oldCells","addedCells","removedCells","filtered","filterCells","cellSelector","cellLanguage","CellScheme","notebookCell","findNotebookDocumentAndCell","synchronization","executionSummarySupport","notebookDocumentSync","dedicatedChannel","activeParts","WorkDoneProgressCreateRequest","workDoneProgress","deleteHandler","_reported","_infinite","_lspProgressDisposable","percentage","withProgress","ProgressLocation","Window","cancellable","progress","_progress","_cancellationToken","_tokenDisposable","WorkDoneProgressCancelNotification","delta","increment","ProtocolCallHierarchyItem","CallHierarchyItem","ProtocolCodeAction","ProtocolCodeLens","ProtocolCompletionItem","CompletionItem","ls","CodeBlock","trustMarkdown","diagnostic","CodeDescription","diagnosticCode","DiagnosticRelatedInformation","asRanges","asMarkdownString","MarkdownString","appendText","defaultRange","defaultInsertTextMode","defaultInsertTextFormat","defaultData","CompletionItemLabelDetails","asCompletionItemLabel","insert","textEditText","asCompletionInsertText","itemKind","asTextEditsSync","TextEdit","asSignatureInformations","mapAsync","SignatureInformation","asParameterInformations","ParameterInformation","asLocationLink","targetUri","targetRange","originSelectionRange","targetSelectionRange","asLocationResult","LocationLink","links","locations","asDocumentHighlight","DocumentHighlight","asDocumentHighlightKind","DocumentHighlightKind","Read","Write","asSymbolInformation","SymbolInformation","fillTags","asDocumentSymbol","child","kindMapping","parts","asDiagnosticsSync","sharedMetadata","changeAnnotations","annotation","needsConfirmation","asWorkspaceEditEntryMetadata","WorkspaceEdit","CreateFile","createFile","annotationId","RenameFile","renameFile","DeleteFile","deleteFile","AnnotatedTextEdit","asColor","green","blue","alpha","asColorInformation","ci","ColorInformation","asColorPresentation","cp","presentation","ColorPresentation","asFoldingRangeKind","asFoldingRange","FoldingRange","startLine","endLine","asSelectionRange","SelectionRange","asInlineValue","inlineValue","InlineValueText","InlineValueVariableLookup","variableName","caseSensitiveLookup","InlineValueEvaluatableExpression","asCallHierarchyIncomingCall","CallHierarchyIncomingCall","fromRanges","asCallHierarchyOutgoingCall","CallHierarchyOutgoingCall","asSemanticTokensEdit","SemanticTokensEdit","Uint32Array","NotebookCellTextDocumentFilter","hover","Hover","appendCodeblock","appendMarkdown","asHoverContent","contents","list","rangeDefaults","editRange","getCompletionItemDefaults","CompletionList","isIncomplete","asSignatureHelp","SignatureHelp","asReferences","asCommands","foldingRanges","colorInformation","colorPresentations","asSelectionRanges","selectionRanges","inlineValues","asSemanticTokensLegend","asSemanticTokens","SemanticTokens","asSemanticTokensEdits","SemanticTokensEdits","LinkedEditingRanges","ranges","asRegularExpression","wordPattern","asTypeHierarchyItems","URI","baseUri","WorkspaceFolder","ProtocolDocumentLink","ProtocolInlayHint","ProtocolTypeHierarchyItem","TypeHierarchyItem","WorkspaceSymbol","locationOrUri","ReferencesRequest","referencesProvider","provideReferences","_providerReferences","registerReferenceProvider","RenameRequest","rename","prepareSupport","prepareSupportDefaultBehavior","PrepareSupportDefaultBehavior","Identifier","renameProvider","prepareProvider","provideRenameEdits","newName","prepareRename","PrepareRenameRequest","isDefaultBehavior","defaultBehavior","placeholder","registerRenameProvider","SelectionRangeRequest","selectionRangeProvider","provideSelectionRanges","positions","registerSelectionRangeProvider","SemanticTokensRegistrationType","tokenTypes","SemanticTokenTypes","namespace","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","function","macro","modifier","comment","regexp","decorator","tokenModifiers","SemanticTokenModifiers","declaration","definition","readonly","abstract","modification","defaultLibrary","formats","TokenFormat","Relative","requests","multilineTokenSupport","overlappingTokenSupport","serverCancelSupport","augmentsSyntaxTokens","SemanticTokensRefreshRequest","onDidChangeSemanticTokensEmitter","semanticTokensProvider","fullProvider","hasEditProvider","documentProvider","onDidChangeSemanticTokens","provideDocumentSemanticTokens","provideDocumentSemanticTokensEdits","rangeProvider","provideDocumentRangeSemanticTokens","legend","registerDocumentSemanticTokensProvider","registerDocumentRangeSemanticTokensProvider","SignatureHelpRequest","signatureInformation","parameterInformation","labelOffsetSupport","activeParameterSupport","signatureHelpProvider","provideSignatureHelp","providerSignatureHelp","retriggerCharacters","registerSignatureHelpProvider","syncedDocuments","textDocumentFilter","openDocuments","_forcingDelivery","_changeData","syncKind","changeData","Incremental","_changeDelayer","delayer","changeEvent","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","vEdits","_includeText","saveOptions","TypeDefinitionRequest","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","TypeHierarchyProvider","prepareTypeHierarchy","TypeHierarchyPrepareRequest","provideTypeHierarchySupertypes","TypeHierarchySupertypesRequest","provideTypeHierarchySubtypes","TypeHierarchySubtypesRequest","typeHierarchyProvider","registerTypeHierarchyProvider","clearTestMode","setTestMode","defaultDelay","completionPromise","onSuccess","task","delay","cancelTimeout","isTriggered","$test","Timer","yieldAfter","counter","total","counterInterval","shouldYield","timeTaken","timeLeft","convertBatch","yieldCallback","runBatch","thenable","typedArray","resolved","isUUID","v4","empty","ValueUUID","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","floor","random","_chars","_UUIDPattern","arrayDiff","access","DidChangeWorkspaceFoldersNotification","initializeWithFolders","asProtocol","currentWorkspaceFolders","_initialFolders","WorkspaceFoldersRequest","sendInitialEvent","doSendEvent","addedFolders","removedFolders","didChangeWorkspaceFolders","WorkspaceSymbolRequest","workspaceSymbolProvider","provideWorkspaceSymbols","query","resolveWorkspaceSymbol","WorkspaceSymbolResolveRequest","registerWorkspaceSymbolProvider","SettingMonitor","client_1","processes_1","node_1","semverParse","semverSatisfies","Transport","Executable","NodeModule","StreamInfo","ChildProcessInfo","isSocket","detached","arg3","arg4","arg5","forceDebug","_serverOptions","_forceDebug","_isInDebugMode","checkVersion","codeVersion","isInDebugMode","_serverProcess","toCheck","_isDetached","checkProcessDied","childProcess","pid","kill","terminate","getEnvironment","fork","debugStartWith","debugEquals","assertStdio","stdin","stderr","json","runDebug","execArgv","startsWith","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","runtime","ipc","silent","sp","protocol","execOptions","_getRuntimePath","serverProcess","spawn","handleChildProcessStartError","serverWorkingDirectory","mainRootPath","_mainGetRootPath","existsSync","lstat","stats","isDirectory","envValue","_setting","primary","rest","path_1","isMacintosh","execFileSync","cmd","__dirname","expand","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","unescapeBraces","charCodeAt","parseCommaParts","postParts","embrace","isPadded","el","y","isTop","expansions","expansion","N","isNumericSequence","isAlphaSequence","isSequence","isOptions","x","width","incr","abs","pad","fromCharCode","need","j","sep","assertValidPattern","nocomment","charAt","GLOBSTAR","plTypes","qmark","star","charSet","reSpecials","addPatternStartSet","slashSplit","ext","defaults","def","orig","braceExpand","nobrace","SUBPARSE","mm","nonull","windowsPathsNoEscape","allowWindowsEscape","negate","partial","make","parseNegate","globSet","globParts","si","nonegate","negateOffset","matchOne","fi","pi","fl","pl","fr","dot","swallowee","isSub","noglobstar","hasMagic","escaping","patternListStack","negativeLists","stateChar","cs","inClass","reClassStart","classStart","patternStart","clearStateChar","reStart","reEnd","substring","$1","$2","addPatternStart","nlBefore","nlFirst","nlAfter","nlLast","openParensBefore","cleanAfter","flags","_glob","_src","twoStar","filename","matchBase","flipNegate","lspReservedErrorRangeStart","RequestFailed","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","MessageDirection","messageDirection","clientToServer","serverToClient","Unchanged","TextDocumentContentChangeEvent","InitializeErrorCodes","DocumentSelector","NotebookDocumentFilter","MonikerRequest","MonikerKind","UniquenessLevel","NotebookCellArrayChange","ExecutionSummary","vscode_languageserver_types_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","objectLiteral","Abort","Transactional","Undo","UTF8","UTF32","hasWorkDoneProgress","unknownProtocolVersion","Log","isIncremental","isFull","project","global","$import","$export","local","DocumentUri","two","integer","registrationMethod","ChangeAnnotation","ChangeAnnotationIdentifier","MIN_VALUE","three","four","numberRange","startCharacter","endCharacter","defined","_i","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","recursive","ignoreIfNotExists","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupContent","MarkedString","FormattingOptions","InlayHintKind","TextEditChangeImpl","assertChangeAnnotations","manage","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","WorkspaceChange","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","optionsOrAnnotation","operation","fromPlainText","plainText","SourceFixAll","kindOrCommandOrEdit","checkKind","Type","Parameter","TextDocument","EOL","mergeSort","leftIdx","rightIdx","content","FullTextDocument","lineCount","positionAt","offsetAt","applyEdits","sortedEdits","lastModifiedOffset","startOffset","endOffset","_uri","_languageId","_version","_content","_lineOffsets","getLineOffsets","lineOffsets","isLineStart","low","high","mid","lineOffset","nextLineOffset","Node","pushNode","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","sliceReverse","nodes","inserted","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","TerminalLink","languageClientManger","activateAsync","PythonManager","LanguageClientsManager","testControllerManger","subscriptions","url","activeColorTheme","ColorThemeKind","Dark","HighContrast","Light","HighContrastLight","getDocTheme","external_uri","asExternalUri","viewColumn","ViewColumn","Beside","registerTerminalLinkProvider","provideTerminalLinks","terminalContext","exec","groups","affectedFolders","progressOptions","displayProgress"],"sourceRoot":""}